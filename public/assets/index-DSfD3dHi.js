var _V=Object.defineProperty;var wV=(e,t,n)=>t in e?_V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ig=(e,t,n)=>wV(e,typeof t!="symbol"?t+"":t,n);function bV(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var RA={exports:{}},lp={},NA={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),EV=Symbol.for("react.portal"),xV=Symbol.for("react.fragment"),SV=Symbol.for("react.strict_mode"),PV=Symbol.for("react.profiler"),TV=Symbol.for("react.provider"),IV=Symbol.for("react.context"),AV=Symbol.for("react.forward_ref"),OV=Symbol.for("react.suspense"),CV=Symbol.for("react.memo"),kV=Symbol.for("react.lazy"),mx=Symbol.iterator;function RV(e){return e===null||typeof e!="object"?null:(e=mx&&e[mx]||e["@@iterator"],typeof e=="function"?e:null)}var DA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jA=Object.assign,MA={};function Gs(e,t,n){this.props=e,this.context=t,this.refs=MA,this.updater=n||DA}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function LA(){}LA.prototype=Gs.prototype;function L0(e,t,n){this.props=e,this.context=t,this.refs=MA,this.updater=n||DA}var V0=L0.prototype=new LA;V0.constructor=L0;jA(V0,Gs.prototype);V0.isPureReactComponent=!0;var gx=Array.isArray,VA=Object.prototype.hasOwnProperty,U0={current:null},UA={key:!0,ref:!0,__self:!0,__source:!0};function FA(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)VA.call(t,r)&&!UA.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:mc,type:e,key:o,ref:a,props:i,_owner:U0.current}}function NV(e,t){return{$$typeof:mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function F0(e){return typeof e=="object"&&e!==null&&e.$$typeof===mc}function DV(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var vx=/\/+/g;function og(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DV(""+e.key):t.toString(36)}function ed(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case mc:case EV:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+og(a,0):r,gx(i)?(n="",e!=null&&(n=e.replace(vx,"$&/")+"/"),ed(i,t,n,"",function(u){return u})):i!=null&&(F0(i)&&(i=NV(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(vx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",gx(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+og(o,s);a+=ed(o,t,n,l,i)}else if(l=RV(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+og(o,s++),a+=ed(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function pf(e,t,n){if(e==null)return e;var r=[],i=0;return ed(e,r,"","",function(o){return t.call(n,o,i++)}),r}function jV(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cn={current:null},td={transition:null},MV={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:td,ReactCurrentOwner:U0};function $A(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:pf,forEach:function(e,t,n){pf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pf(e,function(){t++}),t},toArray:function(e){return pf(e,function(t){return t})||[]},only:function(e){if(!F0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Gs;pe.Fragment=xV;pe.Profiler=PV;pe.PureComponent=L0;pe.StrictMode=SV;pe.Suspense=OV;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MV;pe.act=$A;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jA({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=U0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)VA.call(t,l)&&!UA.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:mc,type:e.type,key:i,ref:o,props:r,_owner:a}};pe.createContext=function(e){return e={$$typeof:IV,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TV,_context:e},e.Consumer=e};pe.createElement=FA;pe.createFactory=function(e){var t=FA.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:AV,render:e}};pe.isValidElement=F0;pe.lazy=function(e){return{$$typeof:kV,_payload:{_status:-1,_result:e},_init:jV}};pe.memo=function(e,t){return{$$typeof:CV,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=td.transition;td.transition={};try{e()}finally{td.transition=t}};pe.unstable_act=$A;pe.useCallback=function(e,t){return cn.current.useCallback(e,t)};pe.useContext=function(e){return cn.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return cn.current.useDeferredValue(e)};pe.useEffect=function(e,t){return cn.current.useEffect(e,t)};pe.useId=function(){return cn.current.useId()};pe.useImperativeHandle=function(e,t,n){return cn.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return cn.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return cn.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return cn.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return cn.current.useReducer(e,t,n)};pe.useRef=function(e){return cn.current.useRef(e)};pe.useState=function(e){return cn.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return cn.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return cn.current.useTransition()};pe.version="18.3.1";NA.exports=pe;var y=NA.exports;const $0=Ai(y),BA=bV({__proto__:null,default:$0},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LV=y,VV=Symbol.for("react.element"),UV=Symbol.for("react.fragment"),FV=Object.prototype.hasOwnProperty,$V=LV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BV={key:!0,ref:!0,__self:!0,__source:!0};function zA(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)FV.call(t,r)&&!BV.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:VV,type:e,key:o,ref:a,props:i,_owner:$V.current}}lp.Fragment=UV;lp.jsx=zA;lp.jsxs=zA;RA.exports=lp;var x=RA.exports,mv={},WA={exports:{}},Vn={},KA={exports:{}},HA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,M){var $=L.length;L.push(M);e:for(;0<$;){var q=$-1>>>1,ee=L[q];if(0<i(ee,M))L[q]=M,L[$]=ee,$=q;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var M=L[0],$=L.pop();if($!==M){L[0]=$;e:for(var q=0,ee=L.length,ae=ee>>>1;q<ae;){var xe=2*(q+1)-1,rt=L[xe],en=xe+1,Ve=L[en];if(0>i(rt,$))en<ee&&0>i(Ve,rt)?(L[q]=Ve,L[en]=$,q=en):(L[q]=rt,L[xe]=$,q=xe);else if(en<ee&&0>i(Ve,$))L[q]=Ve,L[en]=$,q=en;else break e}}return M}function i(L,M){var $=L.sortIndex-M.sortIndex;return $!==0?$:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(L){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=L)r(u),M.sortIndex=M.expirationTime,t(l,M);else break;M=n(u)}}function I(L){if(_=!1,S(L),!m)if(n(l)!==null)m=!0,de(O);else{var M=n(u);M!==null&&ie(I,M.startTime-L)}}function O(L,M){m=!1,_&&(_=!1,w(P),P=-1),p=!0;var $=h;try{for(S(M),d=n(l);d!==null&&(!(d.expirationTime>M)||L&&!D());){var q=d.callback;if(typeof q=="function"){d.callback=null,h=d.priorityLevel;var ee=q(d.expirationTime<=M);M=e.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),S(M)}else r(l);d=n(l)}if(d!==null)var ae=!0;else{var xe=n(u);xe!==null&&ie(I,xe.startTime-M),ae=!1}return ae}finally{d=null,h=$,p=!1}}var R=!1,T=null,P=-1,A=5,k=-1;function D(){return!(e.unstable_now()-k<A)}function N(){if(T!==null){var L=e.unstable_now();k=L;var M=!0;try{M=T(!0,L)}finally{M?j():(R=!1,T=null)}}else R=!1}var j;if(typeof E=="function")j=function(){E(N)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,oe=Y.port2;Y.port1.onmessage=N,j=function(){oe.postMessage(null)}}else j=function(){v(N,0)};function de(L){T=L,R||(R=!0,j())}function ie(L,M){P=v(function(){L(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,de(O))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return L()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var $=h;h=L;try{return M()}finally{h=$}},e.unstable_scheduleCallback=function(L,M,$){var q=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,L={id:c++,callback:M,priorityLevel:L,startTime:$,expirationTime:ee,sortIndex:-1},$>q?(L.sortIndex=$,t(u,L),n(l)===null&&L===n(u)&&(_?(w(P),P=-1):_=!0,ie(I,$-q))):(L.sortIndex=ee,t(l,L),m||p||(m=!0,de(O))),L},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(L){var M=h;return function(){var $=h;h=M;try{return L.apply(this,arguments)}finally{h=$}}}})(HA);KA.exports=HA;var zV=KA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WV=y,Mn=zV;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qA=new Set,xu={};function ka(e,t){Ps(e,t),Ps(e+"Capture",t)}function Ps(e,t){for(xu[e]=t,e=0;e<t.length;e++)qA.add(t[e])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gv=Object.prototype.hasOwnProperty,KV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yx={},_x={};function HV(e){return gv.call(_x,e)?!0:gv.call(yx,e)?!1:KV.test(e)?_x[e]=!0:(yx[e]=!0,!1)}function qV(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GV(e,t,n,r){if(t===null||typeof t>"u"||qV(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function fn(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var B0=/[\-:]([a-z])/g;function z0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B0,z0);Lt[t]=new fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B0,z0);Lt[t]=new fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B0,z0);Lt[t]=new fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new fn(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function W0(e,t,n,r){var i=Lt.hasOwnProperty(t)?Lt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GV(t,n,i,r)&&(n=null),r||i===null?HV(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Oi=WV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mf=Symbol.for("react.element"),Za=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),vv=Symbol.for("react.profiler"),GA=Symbol.for("react.provider"),YA=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),yv=Symbol.for("react.suspense"),_v=Symbol.for("react.suspense_list"),q0=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),QA=Symbol.for("react.offscreen"),wx=Symbol.iterator;function kl(e){return e===null||typeof e!="object"?null:(e=wx&&e[wx]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,ag;function Ql(e){if(ag===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ag=t&&t[1]||""}return`
`+ag+e}var sg=!1;function lg(e,t){if(!e||sg)return"";sg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{sg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ql(e):""}function YV(e){switch(e.tag){case 5:return Ql(e.type);case 16:return Ql("Lazy");case 13:return Ql("Suspense");case 19:return Ql("SuspenseList");case 0:case 2:case 15:return e=lg(e.type,!1),e;case 11:return e=lg(e.type.render,!1),e;case 1:return e=lg(e.type,!0),e;default:return""}}function wv(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case Za:return"Portal";case vv:return"Profiler";case K0:return"StrictMode";case yv:return"Suspense";case _v:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case YA:return(e.displayName||"Context")+".Consumer";case GA:return(e._context.displayName||"Context")+".Provider";case H0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q0:return t=e.displayName||null,t!==null?t:wv(e.type)||"Memo";case zi:t=e._payload,e=e._init;try{return wv(e(t))}catch{}}return null}function QV(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wv(t);case 8:return t===K0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function XV(e){var t=XA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gf(e){e._valueTracker||(e._valueTracker=XV(e))}function JA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=XA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ad(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bv(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ZA(e,t){t=t.checked,t!=null&&W0(e,"checked",t,!1)}function Ev(e,t){ZA(e,t);var n=wo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xv(e,t.type,n):t.hasOwnProperty("defaultValue")&&xv(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ex(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xv(e,t,n){(t!=="number"||Ad(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xl=Array.isArray;function hs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Xl(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wo(n)}}function eO(e,t){var n=wo(t.value),r=wo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vf,nO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vf=vf||document.createElement("div"),vf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Su(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JV=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(e){JV.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),su[t]=su[e]})});function rO(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||su.hasOwnProperty(e)&&su[e]?(""+t).trim():t+"px"}function iO(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rO(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var ZV=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tv(e,t){if(t){if(ZV[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Iv(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Av=null;function G0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ov=null,ps=null,ms=null;function Px(e){if(e=yc(e)){if(typeof Ov!="function")throw Error(H(280));var t=e.stateNode;t&&(t=hp(t),Ov(e.stateNode,e.type,t))}}function oO(e){ps?ms?ms.push(e):ms=[e]:ps=e}function aO(){if(ps){var e=ps,t=ms;if(ms=ps=null,Px(e),t)for(e=0;e<t.length;e++)Px(t[e])}}function sO(e,t){return e(t)}function lO(){}var ug=!1;function uO(e,t,n){if(ug)return e(t,n);ug=!0;try{return sO(e,t,n)}finally{ug=!1,(ps!==null||ms!==null)&&(lO(),aO())}}function Pu(e,t){var n=e.stateNode;if(n===null)return null;var r=hp(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Cv=!1;if(di)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){Cv=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{Cv=!1}function eU(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var lu=!1,Od=null,Cd=!1,kv=null,tU={onError:function(e){lu=!0,Od=e}};function nU(e,t,n,r,i,o,a,s,l){lu=!1,Od=null,eU.apply(tU,arguments)}function rU(e,t,n,r,i,o,a,s,l){if(nU.apply(this,arguments),lu){if(lu){var u=Od;lu=!1,Od=null}else throw Error(H(198));Cd||(Cd=!0,kv=u)}}function Ra(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function cO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tx(e){if(Ra(e)!==e)throw Error(H(188))}function iU(e){var t=e.alternate;if(!t){if(t=Ra(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Tx(i),e;if(o===r)return Tx(i),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function fO(e){return e=iU(e),e!==null?dO(e):null}function dO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dO(e);if(t!==null)return t;e=e.sibling}return null}var hO=Mn.unstable_scheduleCallback,Ix=Mn.unstable_cancelCallback,oU=Mn.unstable_shouldYield,aU=Mn.unstable_requestPaint,nt=Mn.unstable_now,sU=Mn.unstable_getCurrentPriorityLevel,Y0=Mn.unstable_ImmediatePriority,pO=Mn.unstable_UserBlockingPriority,kd=Mn.unstable_NormalPriority,lU=Mn.unstable_LowPriority,mO=Mn.unstable_IdlePriority,up=null,Rr=null;function uU(e){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(up,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:dU,cU=Math.log,fU=Math.LN2;function dU(e){return e>>>=0,e===0?32:31-(cU(e)/fU|0)|0}var yf=64,_f=4194304;function Jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=Jl(s):(o&=a,o!==0&&(r=Jl(o)))}else a=n&~i,a!==0?r=Jl(a):o!==0&&(r=Jl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dr(t),i=1<<n,r|=e[n],t&=~i;return r}function hU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pU(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-dr(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=hU(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Rv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gO(){var e=yf;return yf<<=1,!(yf&4194240)&&(yf=64),e}function cg(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=n}function mU(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Q0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Pe=0;function vO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yO,X0,_O,wO,bO,Nv=!1,wf=[],oo=null,ao=null,so=null,Tu=new Map,Iu=new Map,qi=[],gU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ax(e,t){switch(e){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Tu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(t.pointerId)}}function Nl(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=yc(t),t!==null&&X0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vU(e,t,n,r,i){switch(t){case"focusin":return oo=Nl(oo,e,t,n,r,i),!0;case"dragenter":return ao=Nl(ao,e,t,n,r,i),!0;case"mouseover":return so=Nl(so,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tu.set(o,Nl(Tu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Iu.set(o,Nl(Iu.get(o)||null,e,t,n,r,i)),!0}return!1}function EO(e){var t=Go(e.target);if(t!==null){var n=Ra(t);if(n!==null){if(t=n.tag,t===13){if(t=cO(n),t!==null){e.blockedOn=t,bO(e.priority,function(){_O(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Av=r,n.target.dispatchEvent(r),Av=null}else return t=yc(n),t!==null&&X0(t),e.blockedOn=n,!1;t.shift()}return!0}function Ox(e,t,n){nd(e)&&n.delete(t)}function yU(){Nv=!1,oo!==null&&nd(oo)&&(oo=null),ao!==null&&nd(ao)&&(ao=null),so!==null&&nd(so)&&(so=null),Tu.forEach(Ox),Iu.forEach(Ox)}function Dl(e,t){e.blockedOn===t&&(e.blockedOn=null,Nv||(Nv=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,yU)))}function Au(e){function t(i){return Dl(i,e)}if(0<wf.length){Dl(wf[0],e);for(var n=1;n<wf.length;n++){var r=wf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(oo!==null&&Dl(oo,e),ao!==null&&Dl(ao,e),so!==null&&Dl(so,e),Tu.forEach(t),Iu.forEach(t),n=0;n<qi.length;n++)r=qi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qi.length&&(n=qi[0],n.blockedOn===null);)EO(n),n.blockedOn===null&&qi.shift()}var gs=Oi.ReactCurrentBatchConfig,Nd=!0;function _U(e,t,n,r){var i=Pe,o=gs.transition;gs.transition=null;try{Pe=1,J0(e,t,n,r)}finally{Pe=i,gs.transition=o}}function wU(e,t,n,r){var i=Pe,o=gs.transition;gs.transition=null;try{Pe=4,J0(e,t,n,r)}finally{Pe=i,gs.transition=o}}function J0(e,t,n,r){if(Nd){var i=Dv(e,t,n,r);if(i===null)wg(e,t,r,Dd,n),Ax(e,r);else if(vU(i,e,t,n,r))r.stopPropagation();else if(Ax(e,r),t&4&&-1<gU.indexOf(e)){for(;i!==null;){var o=yc(i);if(o!==null&&yO(o),o=Dv(e,t,n,r),o===null&&wg(e,t,r,Dd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else wg(e,t,r,null,n)}}var Dd=null;function Dv(e,t,n,r){if(Dd=null,e=G0(r),e=Go(e),e!==null)if(t=Ra(e),t===null)e=null;else if(n=t.tag,n===13){if(e=cO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dd=e,null}function xO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sU()){case Y0:return 1;case pO:return 4;case kd:case lU:return 16;case mO:return 536870912;default:return 16}default:return 16}}var eo=null,Z0=null,rd=null;function SO(){if(rd)return rd;var e,t=Z0,n=t.length,r,i="value"in eo?eo.value:eo.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return rd=i.slice(e,1<r?1-r:void 0)}function id(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bf(){return!0}function Cx(){return!1}function Un(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bf:Cx,this.isPropagationStopped=Cx,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bf)},persist:function(){},isPersistent:bf}),t}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e_=Un(Ys),vc=He({},Ys,{view:0,detail:0}),bU=Un(vc),fg,dg,jl,cp=He({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jl&&(jl&&e.type==="mousemove"?(fg=e.screenX-jl.screenX,dg=e.screenY-jl.screenY):dg=fg=0,jl=e),fg)},movementY:function(e){return"movementY"in e?e.movementY:dg}}),kx=Un(cp),EU=He({},cp,{dataTransfer:0}),xU=Un(EU),SU=He({},vc,{relatedTarget:0}),hg=Un(SU),PU=He({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),TU=Un(PU),IU=He({},Ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AU=Un(IU),OU=He({},Ys,{data:0}),Rx=Un(OU),CU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=RU[e])?!!t[e]:!1}function t_(){return NU}var DU=He({},vc,{key:function(e){if(e.key){var t=CU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=id(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t_,charCode:function(e){return e.type==="keypress"?id(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?id(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jU=Un(DU),MU=He({},cp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nx=Un(MU),LU=He({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t_}),VU=Un(LU),UU=He({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),FU=Un(UU),$U=He({},cp,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BU=Un($U),zU=[9,13,27,32],n_=di&&"CompositionEvent"in window,uu=null;di&&"documentMode"in document&&(uu=document.documentMode);var WU=di&&"TextEvent"in window&&!uu,PO=di&&(!n_||uu&&8<uu&&11>=uu),Dx=" ",jx=!1;function TO(e,t){switch(e){case"keyup":return zU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function KU(e,t){switch(e){case"compositionend":return IO(t);case"keypress":return t.which!==32?null:(jx=!0,Dx);case"textInput":return e=t.data,e===Dx&&jx?null:e;default:return null}}function HU(e,t){if(ts)return e==="compositionend"||!n_&&TO(e,t)?(e=SO(),rd=Z0=eo=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return PO&&t.locale!=="ko"?null:t.data;default:return null}}var qU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qU[e.type]:t==="textarea"}function AO(e,t,n,r){oO(r),t=jd(t,"onChange"),0<t.length&&(n=new e_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var cu=null,Ou=null;function GU(e){UO(e,0)}function fp(e){var t=is(e);if(JA(t))return e}function YU(e,t){if(e==="change")return t}var OO=!1;if(di){var pg;if(di){var mg="oninput"in document;if(!mg){var Lx=document.createElement("div");Lx.setAttribute("oninput","return;"),mg=typeof Lx.oninput=="function"}pg=mg}else pg=!1;OO=pg&&(!document.documentMode||9<document.documentMode)}function Vx(){cu&&(cu.detachEvent("onpropertychange",CO),Ou=cu=null)}function CO(e){if(e.propertyName==="value"&&fp(Ou)){var t=[];AO(t,Ou,e,G0(e)),uO(GU,t)}}function QU(e,t,n){e==="focusin"?(Vx(),cu=t,Ou=n,cu.attachEvent("onpropertychange",CO)):e==="focusout"&&Vx()}function XU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fp(Ou)}function JU(e,t){if(e==="click")return fp(t)}function ZU(e,t){if(e==="input"||e==="change")return fp(t)}function eF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gr=typeof Object.is=="function"?Object.is:eF;function Cu(e,t){if(gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gv.call(t,i)||!gr(e[i],t[i]))return!1}return!0}function Ux(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fx(e,t){var n=Ux(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ux(n)}}function kO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function RO(){for(var e=window,t=Ad();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ad(e.document)}return t}function r_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tF(e){var t=RO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kO(n.ownerDocument.documentElement,n)){if(r!==null&&r_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Fx(n,o);var a=Fx(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nF=di&&"documentMode"in document&&11>=document.documentMode,ns=null,jv=null,fu=null,Mv=!1;function $x(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mv||ns==null||ns!==Ad(r)||(r=ns,"selectionStart"in r&&r_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fu&&Cu(fu,r)||(fu=r,r=jd(jv,"onSelect"),0<r.length&&(t=new e_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ns)))}function Ef(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var rs={animationend:Ef("Animation","AnimationEnd"),animationiteration:Ef("Animation","AnimationIteration"),animationstart:Ef("Animation","AnimationStart"),transitionend:Ef("Transition","TransitionEnd")},gg={},NO={};di&&(NO=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function dp(e){if(gg[e])return gg[e];if(!rs[e])return e;var t=rs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NO)return gg[e]=t[n];return e}var DO=dp("animationend"),jO=dp("animationiteration"),MO=dp("animationstart"),LO=dp("transitionend"),VO=new Map,Bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oo(e,t){VO.set(e,t),ka(t,[e])}for(var vg=0;vg<Bx.length;vg++){var yg=Bx[vg],rF=yg.toLowerCase(),iF=yg[0].toUpperCase()+yg.slice(1);Oo(rF,"on"+iF)}Oo(DO,"onAnimationEnd");Oo(jO,"onAnimationIteration");Oo(MO,"onAnimationStart");Oo("dblclick","onDoubleClick");Oo("focusin","onFocus");Oo("focusout","onBlur");Oo(LO,"onTransitionEnd");Ps("onMouseEnter",["mouseout","mouseover"]);Ps("onMouseLeave",["mouseout","mouseover"]);Ps("onPointerEnter",["pointerout","pointerover"]);Ps("onPointerLeave",["pointerout","pointerover"]);ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zl));function zx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,rU(r,t,void 0,e),e.currentTarget=null}function UO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;zx(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;zx(i,s,u),o=l}}}if(Cd)throw e=kv,Cd=!1,kv=null,e}function De(e,t){var n=t[$v];n===void 0&&(n=t[$v]=new Set);var r=e+"__bubble";n.has(r)||(FO(t,e,2,!1),n.add(r))}function _g(e,t,n){var r=0;t&&(r|=4),FO(n,e,r,t)}var xf="_reactListening"+Math.random().toString(36).slice(2);function ku(e){if(!e[xf]){e[xf]=!0,qA.forEach(function(n){n!=="selectionchange"&&(oF.has(n)||_g(n,!1,e),_g(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xf]||(t[xf]=!0,_g("selectionchange",!1,t))}}function FO(e,t,n,r){switch(xO(t)){case 1:var i=_U;break;case 4:i=wU;break;default:i=J0}n=i.bind(null,t,n,e),i=void 0,!Cv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function wg(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Go(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}uO(function(){var u=o,c=G0(n),d=[];e:{var h=VO.get(e);if(h!==void 0){var p=e_,m=e;switch(e){case"keypress":if(id(n)===0)break e;case"keydown":case"keyup":p=jU;break;case"focusin":m="focus",p=hg;break;case"focusout":m="blur",p=hg;break;case"beforeblur":case"afterblur":p=hg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=kx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VU;break;case DO:case jO:case MO:p=TU;break;case LO:p=FU;break;case"scroll":p=bU;break;case"wheel":p=BU;break;case"copy":case"cut":case"paste":p=AU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Nx}var _=(t&4)!==0,v=!_&&e==="scroll",w=_?h!==null?h+"Capture":null:h;_=[];for(var E=u,S;E!==null;){S=E;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,w!==null&&(I=Pu(E,w),I!=null&&_.push(Ru(E,I,S)))),v)break;E=E.return}0<_.length&&(h=new p(h,m,null,n,c),d.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Av&&(m=n.relatedTarget||n.fromElement)&&(Go(m)||m[hi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Go(m):null,m!==null&&(v=Ra(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(_=kx,I="onMouseLeave",w="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(_=Nx,I="onPointerLeave",w="onPointerEnter",E="pointer"),v=p==null?h:is(p),S=m==null?h:is(m),h=new _(I,E+"leave",p,n,c),h.target=v,h.relatedTarget=S,I=null,Go(c)===u&&(_=new _(w,E+"enter",m,n,c),_.target=S,_.relatedTarget=v,I=_),v=I,p&&m)t:{for(_=p,w=m,E=0,S=_;S;S=za(S))E++;for(S=0,I=w;I;I=za(I))S++;for(;0<E-S;)_=za(_),E--;for(;0<S-E;)w=za(w),S--;for(;E--;){if(_===w||w!==null&&_===w.alternate)break t;_=za(_),w=za(w)}_=null}else _=null;p!==null&&Wx(d,h,p,_,!1),m!==null&&v!==null&&Wx(d,v,m,_,!0)}}e:{if(h=u?is(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var O=YU;else if(Mx(h))if(OO)O=ZU;else{O=XU;var R=QU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=JU);if(O&&(O=O(e,u))){AO(d,O,n,c);break e}R&&R(e,h,u),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&xv(h,"number",h.value)}switch(R=u?is(u):window,e){case"focusin":(Mx(R)||R.contentEditable==="true")&&(ns=R,jv=u,fu=null);break;case"focusout":fu=jv=ns=null;break;case"mousedown":Mv=!0;break;case"contextmenu":case"mouseup":case"dragend":Mv=!1,$x(d,n,c);break;case"selectionchange":if(nF)break;case"keydown":case"keyup":$x(d,n,c)}var T;if(n_)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ts?TO(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(PO&&n.locale!=="ko"&&(ts||P!=="onCompositionStart"?P==="onCompositionEnd"&&ts&&(T=SO()):(eo=c,Z0="value"in eo?eo.value:eo.textContent,ts=!0)),R=jd(u,P),0<R.length&&(P=new Rx(P,e,null,n,c),d.push({event:P,listeners:R}),T?P.data=T:(T=IO(n),T!==null&&(P.data=T)))),(T=WU?KU(e,n):HU(e,n))&&(u=jd(u,"onBeforeInput"),0<u.length&&(c=new Rx("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=T))}UO(d,t)})}function Ru(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jd(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pu(e,n),o!=null&&r.unshift(Ru(e,o,i)),o=Pu(e,t),o!=null&&r.push(Ru(e,o,i))),e=e.return}return r}function za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wx(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Pu(n,o),l!=null&&a.unshift(Ru(n,l,s))):i||(l=Pu(n,o),l!=null&&a.push(Ru(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var aF=/\r\n?/g,sF=/\u0000|\uFFFD/g;function Kx(e){return(typeof e=="string"?e:""+e).replace(aF,`
`).replace(sF,"")}function Sf(e,t,n){if(t=Kx(t),Kx(e)!==t&&n)throw Error(H(425))}function Md(){}var Lv=null,Vv=null;function Uv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fv=typeof setTimeout=="function"?setTimeout:void 0,lF=typeof clearTimeout=="function"?clearTimeout:void 0,Hx=typeof Promise=="function"?Promise:void 0,uF=typeof queueMicrotask=="function"?queueMicrotask:typeof Hx<"u"?function(e){return Hx.resolve(null).then(e).catch(cF)}:Fv;function cF(e){setTimeout(function(){throw e})}function bg(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Au(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Au(t)}function lo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Qs,Nu="__reactProps$"+Qs,hi="__reactContainer$"+Qs,$v="__reactEvents$"+Qs,fF="__reactListeners$"+Qs,dF="__reactHandles$"+Qs;function Go(e){var t=e[Ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[Ir]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qx(e);e!==null;){if(n=e[Ir])return n;e=qx(e)}return t}e=n,n=e.parentNode}return null}function yc(e){return e=e[Ir]||e[hi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function hp(e){return e[Nu]||null}var Bv=[],os=-1;function Co(e){return{current:e}}function Le(e){0>os||(e.current=Bv[os],Bv[os]=null,os--)}function Re(e,t){os++,Bv[os]=e.current,e.current=t}var bo={},Jt=Co(bo),_n=Co(!1),ha=bo;function Ts(e,t){var n=e.type.contextTypes;if(!n)return bo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wn(e){return e=e.childContextTypes,e!=null}function Ld(){Le(_n),Le(Jt)}function Gx(e,t,n){if(Jt.current!==bo)throw Error(H(168));Re(Jt,t),Re(_n,n)}function $O(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,QV(e)||"Unknown",i));return He({},n,r)}function Vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bo,ha=Jt.current,Re(Jt,e),Re(_n,_n.current),!0}function Yx(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=$O(e,t,ha),r.__reactInternalMemoizedMergedChildContext=e,Le(_n),Le(Jt),Re(Jt,e)):Le(_n),Re(_n,n)}var Jr=null,pp=!1,Eg=!1;function BO(e){Jr===null?Jr=[e]:Jr.push(e)}function hF(e){pp=!0,BO(e)}function ko(){if(!Eg&&Jr!==null){Eg=!0;var e=0,t=Pe;try{var n=Jr;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jr=null,pp=!1}catch(i){throw Jr!==null&&(Jr=Jr.slice(e+1)),hO(Y0,ko),i}finally{Pe=t,Eg=!1}}return null}var as=[],ss=0,Ud=null,Fd=0,Kn=[],Hn=0,pa=null,ni=1,ri="";function Bo(e,t){as[ss++]=Fd,as[ss++]=Ud,Ud=e,Fd=t}function zO(e,t,n){Kn[Hn++]=ni,Kn[Hn++]=ri,Kn[Hn++]=pa,pa=e;var r=ni;e=ri;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var o=32-dr(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ni=1<<32-dr(t)+i|n<<i|r,ri=o+e}else ni=1<<o|n<<i|r,ri=e}function i_(e){e.return!==null&&(Bo(e,1),zO(e,1,0))}function o_(e){for(;e===Ud;)Ud=as[--ss],as[ss]=null,Fd=as[--ss],as[ss]=null;for(;e===pa;)pa=Kn[--Hn],Kn[Hn]=null,ri=Kn[--Hn],Kn[Hn]=null,ni=Kn[--Hn],Kn[Hn]=null}var Cn=null,In=null,Fe=!1,ar=null;function WO(e,t){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,In=lo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,In=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pa!==null?{id:ni,overflow:ri}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Cn=e,In=null,!0):!1;default:return!1}}function zv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wv(e){if(Fe){var t=In;if(t){var n=t;if(!Qx(e,t)){if(zv(e))throw Error(H(418));t=lo(n.nextSibling);var r=Cn;t&&Qx(e,t)?WO(r,n):(e.flags=e.flags&-4097|2,Fe=!1,Cn=e)}}else{if(zv(e))throw Error(H(418));e.flags=e.flags&-4097|2,Fe=!1,Cn=e}}}function Xx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function Pf(e){if(e!==Cn)return!1;if(!Fe)return Xx(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Uv(e.type,e.memoizedProps)),t&&(t=In)){if(zv(e))throw KO(),Error(H(418));for(;t;)WO(e,t),t=lo(t.nextSibling)}if(Xx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){In=lo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}In=null}}else In=Cn?lo(e.stateNode.nextSibling):null;return!0}function KO(){for(var e=In;e;)e=lo(e.nextSibling)}function Is(){In=Cn=null,Fe=!1}function a_(e){ar===null?ar=[e]:ar.push(e)}var pF=Oi.ReactCurrentBatchConfig;function Ml(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Tf(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jx(e){var t=e._init;return t(e._payload)}function HO(e){function t(w,E){if(e){var S=w.deletions;S===null?(w.deletions=[E],w.flags|=16):S.push(E)}}function n(w,E){if(!e)return null;for(;E!==null;)t(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=ho(w,E),w.index=0,w.sibling=null,w}function o(w,E,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<E?(w.flags|=2,E):S):(w.flags|=2,E)):(w.flags|=1048576,E)}function a(w){return e&&w.alternate===null&&(w.flags|=2),w}function s(w,E,S,I){return E===null||E.tag!==6?(E=Og(S,w.mode,I),E.return=w,E):(E=i(E,S),E.return=w,E)}function l(w,E,S,I){var O=S.type;return O===es?c(w,E,S.props.children,I,S.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===zi&&Jx(O)===E.type)?(I=i(E,S.props),I.ref=Ml(w,E,S),I.return=w,I):(I=fd(S.type,S.key,S.props,null,w.mode,I),I.ref=Ml(w,E,S),I.return=w,I)}function u(w,E,S,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Cg(S,w.mode,I),E.return=w,E):(E=i(E,S.children||[]),E.return=w,E)}function c(w,E,S,I,O){return E===null||E.tag!==7?(E=ra(S,w.mode,I,O),E.return=w,E):(E=i(E,S),E.return=w,E)}function d(w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Og(""+E,w.mode,S),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case mf:return S=fd(E.type,E.key,E.props,null,w.mode,S),S.ref=Ml(w,null,E),S.return=w,S;case Za:return E=Cg(E,w.mode,S),E.return=w,E;case zi:var I=E._init;return d(w,I(E._payload),S)}if(Xl(E)||kl(E))return E=ra(E,w.mode,S,null),E.return=w,E;Tf(w,E)}return null}function h(w,E,S,I){var O=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:s(w,E,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mf:return S.key===O?l(w,E,S,I):null;case Za:return S.key===O?u(w,E,S,I):null;case zi:return O=S._init,h(w,E,O(S._payload),I)}if(Xl(S)||kl(S))return O!==null?null:c(w,E,S,I,null);Tf(w,S)}return null}function p(w,E,S,I,O){if(typeof I=="string"&&I!==""||typeof I=="number")return w=w.get(S)||null,s(E,w,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case mf:return w=w.get(I.key===null?S:I.key)||null,l(E,w,I,O);case Za:return w=w.get(I.key===null?S:I.key)||null,u(E,w,I,O);case zi:var R=I._init;return p(w,E,S,R(I._payload),O)}if(Xl(I)||kl(I))return w=w.get(S)||null,c(E,w,I,O,null);Tf(E,I)}return null}function m(w,E,S,I){for(var O=null,R=null,T=E,P=E=0,A=null;T!==null&&P<S.length;P++){T.index>P?(A=T,T=null):A=T.sibling;var k=h(w,T,S[P],I);if(k===null){T===null&&(T=A);break}e&&T&&k.alternate===null&&t(w,T),E=o(k,E,P),R===null?O=k:R.sibling=k,R=k,T=A}if(P===S.length)return n(w,T),Fe&&Bo(w,P),O;if(T===null){for(;P<S.length;P++)T=d(w,S[P],I),T!==null&&(E=o(T,E,P),R===null?O=T:R.sibling=T,R=T);return Fe&&Bo(w,P),O}for(T=r(w,T);P<S.length;P++)A=p(T,w,P,S[P],I),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?P:A.key),E=o(A,E,P),R===null?O=A:R.sibling=A,R=A);return e&&T.forEach(function(D){return t(w,D)}),Fe&&Bo(w,P),O}function _(w,E,S,I){var O=kl(S);if(typeof O!="function")throw Error(H(150));if(S=O.call(S),S==null)throw Error(H(151));for(var R=O=null,T=E,P=E=0,A=null,k=S.next();T!==null&&!k.done;P++,k=S.next()){T.index>P?(A=T,T=null):A=T.sibling;var D=h(w,T,k.value,I);if(D===null){T===null&&(T=A);break}e&&T&&D.alternate===null&&t(w,T),E=o(D,E,P),R===null?O=D:R.sibling=D,R=D,T=A}if(k.done)return n(w,T),Fe&&Bo(w,P),O;if(T===null){for(;!k.done;P++,k=S.next())k=d(w,k.value,I),k!==null&&(E=o(k,E,P),R===null?O=k:R.sibling=k,R=k);return Fe&&Bo(w,P),O}for(T=r(w,T);!k.done;P++,k=S.next())k=p(T,w,P,k.value,I),k!==null&&(e&&k.alternate!==null&&T.delete(k.key===null?P:k.key),E=o(k,E,P),R===null?O=k:R.sibling=k,R=k);return e&&T.forEach(function(N){return t(w,N)}),Fe&&Bo(w,P),O}function v(w,E,S,I){if(typeof S=="object"&&S!==null&&S.type===es&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case mf:e:{for(var O=S.key,R=E;R!==null;){if(R.key===O){if(O=S.type,O===es){if(R.tag===7){n(w,R.sibling),E=i(R,S.props.children),E.return=w,w=E;break e}}else if(R.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===zi&&Jx(O)===R.type){n(w,R.sibling),E=i(R,S.props),E.ref=Ml(w,R,S),E.return=w,w=E;break e}n(w,R);break}else t(w,R);R=R.sibling}S.type===es?(E=ra(S.props.children,w.mode,I,S.key),E.return=w,w=E):(I=fd(S.type,S.key,S.props,null,w.mode,I),I.ref=Ml(w,E,S),I.return=w,w=I)}return a(w);case Za:e:{for(R=S.key;E!==null;){if(E.key===R)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(w,E.sibling),E=i(E,S.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else t(w,E);E=E.sibling}E=Cg(S,w.mode,I),E.return=w,w=E}return a(w);case zi:return R=S._init,v(w,E,R(S._payload),I)}if(Xl(S))return m(w,E,S,I);if(kl(S))return _(w,E,S,I);Tf(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,S),E.return=w,w=E):(n(w,E),E=Og(S,w.mode,I),E.return=w,w=E),a(w)):n(w,E)}return v}var As=HO(!0),qO=HO(!1),$d=Co(null),Bd=null,ls=null,s_=null;function l_(){s_=ls=Bd=null}function u_(e){var t=$d.current;Le($d),e._currentValue=t}function Kv(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vs(e,t){Bd=e,s_=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function Xn(e){var t=e._currentValue;if(s_!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(Bd===null)throw Error(H(308));ls=e,Bd.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var Yo=null;function c_(e){Yo===null?Yo=[e]:Yo.push(e)}function GO(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,c_(t)):(n.next=i.next,i.next=n),t.interleaved=n,pi(e,r)}function pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wi=!1;function f_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,pi(e,n)}return i=r.interleaved,i===null?(t.next=t,c_(r)):(t.next=i.next,i.next=t),r.interleaved=t,pi(e,n)}function od(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Q0(e,n)}}function Zx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zd(e,t,n,r){var i=e.updateQueue;Wi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,_=s;switch(h=t,p=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=He({},d,h);break e;case 2:Wi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);ga|=a,e.lanes=a,e.memoizedState=d}}function eS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var _c={},Nr=Co(_c),Du=Co(_c),ju=Co(_c);function Qo(e){if(e===_c)throw Error(H(174));return e}function d_(e,t){switch(Re(ju,t),Re(Du,e),Re(Nr,_c),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pv(t,e)}Le(Nr),Re(Nr,t)}function Os(){Le(Nr),Le(Du),Le(ju)}function QO(e){Qo(ju.current);var t=Qo(Nr.current),n=Pv(t,e.type);t!==n&&(Re(Du,e),Re(Nr,n))}function h_(e){Du.current===e&&(Le(Nr),Le(Du))}var Be=Co(0);function Wd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xg=[];function p_(){for(var e=0;e<xg.length;e++)xg[e]._workInProgressVersionPrimary=null;xg.length=0}var ad=Oi.ReactCurrentDispatcher,Sg=Oi.ReactCurrentBatchConfig,ma=0,We=null,ut=null,bt=null,Kd=!1,du=!1,Mu=0,mF=0;function Kt(){throw Error(H(321))}function m_(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function g_(e,t,n,r,i,o){if(ma=o,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ad.current=e===null||e.memoizedState===null?_F:wF,e=n(r,i),du){o=0;do{if(du=!1,Mu=0,25<=o)throw Error(H(301));o+=1,bt=ut=null,t.updateQueue=null,ad.current=bF,e=n(r,i)}while(du)}if(ad.current=Hd,t=ut!==null&&ut.next!==null,ma=0,bt=ut=We=null,Kd=!1,t)throw Error(H(300));return e}function v_(){var e=Mu!==0;return Mu=0,e}function Pr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?We.memoizedState=bt=e:bt=bt.next=e,bt}function Jn(){if(ut===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=bt===null?We.memoizedState:bt.next;if(t!==null)bt=t,ut=e;else{if(e===null)throw Error(H(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},bt===null?We.memoizedState=bt=e:bt=bt.next=e}return bt}function Lu(e,t){return typeof t=="function"?t(e):t}function Pg(e){var t=Jn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=ut,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((ma&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,a=r):l=l.next=d,We.lanes|=c,ga|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,gr(r,t.memoizedState)||(gn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,We.lanes|=o,ga|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tg(e){var t=Jn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);gr(o,t.memoizedState)||(gn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function XO(){}function JO(e,t){var n=We,r=Jn(),i=t(),o=!gr(r.memoizedState,i);if(o&&(r.memoizedState=i,gn=!0),r=r.queue,y_(tC.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Vu(9,eC.bind(null,n,r,i,t),void 0,null),Et===null)throw Error(H(349));ma&30||ZO(n,t,i)}return i}function ZO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eC(e,t,n,r){t.value=n,t.getSnapshot=r,nC(t)&&rC(e)}function tC(e,t,n){return n(function(){nC(t)&&rC(e)})}function nC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch{return!0}}function rC(e){var t=pi(e,1);t!==null&&hr(t,e,1,-1)}function tS(e){var t=Pr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:e},t.queue=e,e=e.dispatch=yF.bind(null,We,e),[t.memoizedState,e]}function Vu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function iC(){return Jn().memoizedState}function sd(e,t,n,r){var i=Pr();We.flags|=e,i.memoizedState=Vu(1|t,n,void 0,r===void 0?null:r)}function mp(e,t,n,r){var i=Jn();r=r===void 0?null:r;var o=void 0;if(ut!==null){var a=ut.memoizedState;if(o=a.destroy,r!==null&&m_(r,a.deps)){i.memoizedState=Vu(t,n,o,r);return}}We.flags|=e,i.memoizedState=Vu(1|t,n,o,r)}function nS(e,t){return sd(8390656,8,e,t)}function y_(e,t){return mp(2048,8,e,t)}function oC(e,t){return mp(4,2,e,t)}function aC(e,t){return mp(4,4,e,t)}function sC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lC(e,t,n){return n=n!=null?n.concat([e]):null,mp(4,4,sC.bind(null,t,e),n)}function __(){}function uC(e,t){var n=Jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&m_(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function cC(e,t){var n=Jn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&m_(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fC(e,t,n){return ma&21?(gr(n,t)||(n=gO(),We.lanes|=n,ga|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=n)}function gF(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=Sg.transition;Sg.transition={};try{e(!1),t()}finally{Pe=n,Sg.transition=r}}function dC(){return Jn().memoizedState}function vF(e,t,n){var r=fo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hC(e))pC(t,n);else if(n=GO(e,t,n,r),n!==null){var i=sn();hr(n,e,r,i),mC(n,t,r)}}function yF(e,t,n){var r=fo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hC(e))pC(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,gr(s,a)){var l=t.interleaved;l===null?(i.next=i,c_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=GO(e,t,i,r),n!==null&&(i=sn(),hr(n,e,r,i),mC(n,t,r))}}function hC(e){var t=e.alternate;return e===We||t!==null&&t===We}function pC(e,t){du=Kd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Q0(e,n)}}var Hd={readContext:Xn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},_F={readContext:Xn,useCallback:function(e,t){return Pr().memoizedState=[e,t===void 0?null:t],e},useContext:Xn,useEffect:nS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sd(4194308,4,sC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sd(4194308,4,e,t)},useInsertionEffect:function(e,t){return sd(4,2,e,t)},useMemo:function(e,t){var n=Pr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vF.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=Pr();return e={current:e},t.memoizedState=e},useState:tS,useDebugValue:__,useDeferredValue:function(e){return Pr().memoizedState=e},useTransition:function(){var e=tS(!1),t=e[0];return e=gF.bind(null,e[1]),Pr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,i=Pr();if(Fe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Et===null)throw Error(H(349));ma&30||ZO(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,nS(tC.bind(null,r,o,e),[e]),r.flags|=2048,Vu(9,eC.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Pr(),t=Et.identifierPrefix;if(Fe){var n=ri,r=ni;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mu++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wF={readContext:Xn,useCallback:uC,useContext:Xn,useEffect:y_,useImperativeHandle:lC,useInsertionEffect:oC,useLayoutEffect:aC,useMemo:cC,useReducer:Pg,useRef:iC,useState:function(){return Pg(Lu)},useDebugValue:__,useDeferredValue:function(e){var t=Jn();return fC(t,ut.memoizedState,e)},useTransition:function(){var e=Pg(Lu)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:XO,useSyncExternalStore:JO,useId:dC,unstable_isNewReconciler:!1},bF={readContext:Xn,useCallback:uC,useContext:Xn,useEffect:y_,useImperativeHandle:lC,useInsertionEffect:oC,useLayoutEffect:aC,useMemo:cC,useReducer:Tg,useRef:iC,useState:function(){return Tg(Lu)},useDebugValue:__,useDeferredValue:function(e){var t=Jn();return ut===null?t.memoizedState=e:fC(t,ut.memoizedState,e)},useTransition:function(){var e=Tg(Lu)[0],t=Jn().memoizedState;return[e,t]},useMutableSource:XO,useSyncExternalStore:JO,useId:dC,unstable_isNewReconciler:!1};function ir(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hv(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gp={isMounted:function(e){return(e=e._reactInternals)?Ra(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=sn(),i=fo(e),o=ci(r,i);o.payload=t,n!=null&&(o.callback=n),t=uo(e,o,i),t!==null&&(hr(t,e,i,r),od(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=sn(),i=fo(e),o=ci(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=uo(e,o,i),t!==null&&(hr(t,e,i,r),od(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=sn(),r=fo(e),i=ci(n,r);i.tag=2,t!=null&&(i.callback=t),t=uo(e,i,r),t!==null&&(hr(t,e,r,n),od(t,e,r))}};function rS(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Cu(n,r)||!Cu(i,o):!0}function gC(e,t,n){var r=!1,i=bo,o=t.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(i=wn(t)?ha:Jt.current,r=t.contextTypes,o=(r=r!=null)?Ts(e,i):bo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gp,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function iS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gp.enqueueReplaceState(t,t.state,null)}function qv(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},f_(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Xn(o):(o=wn(t)?ha:Jt.current,i.context=Ts(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Hv(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gp.enqueueReplaceState(i,i.state,null),zd(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Cs(e,t){try{var n="",r=t;do n+=YV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ig(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gv(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var EF=typeof WeakMap=="function"?WeakMap:Map;function vC(e,t,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gd||(Gd=!0,iy=r),Gv(e,t)},n}function yC(e,t,n){n=ci(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Gv(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gv(e,t),typeof r!="function"&&(co===null?co=new Set([this]):co.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function oS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new EF;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=MF.bind(null,e,t,n),t.then(e,e))}function aS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sS(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ci(-1,1),t.tag=2,uo(n,t,1))),n.lanes|=1),e)}var xF=Oi.ReactCurrentOwner,gn=!1;function on(e,t,n,r){t.child=e===null?qO(t,null,n,r):As(t,e.child,n,r)}function lS(e,t,n,r,i){n=n.render;var o=t.ref;return vs(t,i),r=g_(e,t,n,r,o,i),n=v_(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(Fe&&n&&i_(t),t.flags|=1,on(e,t,r,i),t.child)}function uS(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!I_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,_C(e,t,o,r,i)):(e=fd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Cu,n(a,r)&&e.ref===t.ref)return mi(e,t,i)}return t.flags|=1,e=ho(o,r),e.ref=t.ref,e.return=t,t.child=e}function _C(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Cu(o,r)&&e.ref===t.ref)if(gn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,mi(e,t,i)}return Yv(e,t,n,r,i)}function wC(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(cs,Pn),Pn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(cs,Pn),Pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Re(cs,Pn),Pn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Re(cs,Pn),Pn|=r;return on(e,t,i,n),t.child}function bC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yv(e,t,n,r,i){var o=wn(n)?ha:Jt.current;return o=Ts(t,o),vs(t,i),n=g_(e,t,n,r,o,i),r=v_(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mi(e,t,i)):(Fe&&r&&i_(t),t.flags|=1,on(e,t,n,i),t.child)}function cS(e,t,n,r,i){if(wn(n)){var o=!0;Vd(t)}else o=!1;if(vs(t,i),t.stateNode===null)ld(e,t),gC(t,n,r),qv(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=wn(n)?ha:Jt.current,u=Ts(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&iS(t,a,r,u),Wi=!1;var h=t.memoizedState;a.state=h,zd(t,r,a,i),l=t.memoizedState,s!==r||h!==l||_n.current||Wi?(typeof c=="function"&&(Hv(t,n,c,r),l=t.memoizedState),(s=Wi||rS(t,n,s,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,YO(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ir(t.type,s),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=wn(n)?ha:Jt.current,l=Ts(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||h!==l)&&iS(t,a,r,l),Wi=!1,h=t.memoizedState,a.state=h,zd(t,r,a,i);var m=t.memoizedState;s!==d||h!==m||_n.current||Wi?(typeof p=="function"&&(Hv(t,n,p,r),m=t.memoizedState),(u=Wi||rS(t,n,u,r,h,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Qv(e,t,n,r,o,i)}function Qv(e,t,n,r,i,o){bC(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Yx(t,n,!1),mi(e,t,o);r=t.stateNode,xF.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=As(t,e.child,null,o),t.child=As(t,null,s,o)):on(e,t,s,o),t.memoizedState=r.state,i&&Yx(t,n,!0),t.child}function EC(e){var t=e.stateNode;t.pendingContext?Gx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gx(e,t.context,!1),d_(e,t.containerInfo)}function fS(e,t,n,r,i){return Is(),a_(i),t.flags|=256,on(e,t,n,r),t.child}var Xv={dehydrated:null,treeContext:null,retryLane:0};function Jv(e){return{baseLanes:e,cachePool:null,transitions:null}}function xC(e,t,n){var r=t.pendingProps,i=Be.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Re(Be,i&1),e===null)return Wv(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=_p(a,r,0,null),e=ra(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Jv(n),t.memoizedState=Xv,e):w_(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return SF(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ho(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=ho(s,o):(o=ra(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Jv(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Xv,r}return o=e.child,e=o.sibling,r=ho(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function w_(e,t){return t=_p({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function If(e,t,n,r){return r!==null&&a_(r),As(t,e.child,null,n),e=w_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SF(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Ig(Error(H(422))),If(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=_p({mode:"visible",children:r.children},i,0,null),o=ra(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&As(t,e.child,null,a),t.child.memoizedState=Jv(a),t.memoizedState=Xv,o);if(!(t.mode&1))return If(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(H(419)),r=Ig(o,r,void 0),If(e,t,a,r)}if(s=(a&e.childLanes)!==0,gn||s){if(r=Et,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,pi(e,i),hr(r,e,i,-1))}return T_(),r=Ig(Error(H(421))),If(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=LF.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,In=lo(i.nextSibling),Cn=t,Fe=!0,ar=null,e!==null&&(Kn[Hn++]=ni,Kn[Hn++]=ri,Kn[Hn++]=pa,ni=e.id,ri=e.overflow,pa=t),t=w_(t,r.children),t.flags|=4096,t)}function dS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kv(e.return,t,n)}function Ag(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function SC(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(on(e,t,r.children,n),r=Be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dS(e,n,t);else if(e.tag===19)dS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re(Be,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Wd(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ag(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Wd(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ag(t,!0,n,null,o);break;case"together":Ag(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ld(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ga|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=ho(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ho(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function PF(e,t,n){switch(t.tag){case 3:EC(t),Is();break;case 5:QO(t);break;case 1:wn(t.type)&&Vd(t);break;case 4:d_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Re($d,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Re(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?xC(e,t,n):(Re(Be,Be.current&1),e=mi(e,t,n),e!==null?e.sibling:null);Re(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return SC(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,wC(e,t,n)}return mi(e,t,n)}var PC,Zv,TC,IC;PC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zv=function(){};TC=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(Nr.current);var o=null;switch(n){case"input":i=bv(e,i),r=bv(e,r),o=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),o=[];break;case"textarea":i=Sv(e,i),r=Sv(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Md)}Tv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};IC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ll(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function TF(e,t,n){var r=t.pendingProps;switch(o_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return wn(t.type)&&Ld(),Ht(t),null;case 3:return r=t.stateNode,Os(),Le(_n),Le(Jt),p_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ar!==null&&(sy(ar),ar=null))),Zv(e,t),Ht(t),null;case 5:h_(t);var i=Qo(ju.current);if(n=t.type,e!==null&&t.stateNode!=null)TC(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Ht(t),null}if(e=Qo(Nr.current),Pf(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ir]=t,r[Nu]=o,e=(t.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Zl.length;i++)De(Zl[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":bx(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":xx(r,o),De("invalid",r)}Tv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Sf(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Sf(r.textContent,s,e),i=["children",""+s]):xu.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&De("scroll",r)}switch(n){case"input":gf(r),Ex(r,o,!0);break;case"textarea":gf(r),Sx(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Md)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tO(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ir]=t,e[Nu]=r,PC(e,t,!1,!1),t.stateNode=e;e:{switch(a=Iv(n,r),n){case"dialog":De("cancel",e),De("close",e),i=r;break;case"iframe":case"object":case"embed":De("load",e),i=r;break;case"video":case"audio":for(i=0;i<Zl.length;i++)De(Zl[i],e);i=r;break;case"source":De("error",e),i=r;break;case"img":case"image":case"link":De("error",e),De("load",e),i=r;break;case"details":De("toggle",e),i=r;break;case"input":bx(e,r),i=bv(e,r),De("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),De("invalid",e);break;case"textarea":xx(e,r),i=Sv(e,r),De("invalid",e);break;default:i=r}Tv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?iO(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nO(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Su(e,l):typeof l=="number"&&Su(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&De("scroll",e):l!=null&&W0(e,o,l,a))}switch(n){case"input":gf(e),Ex(e,r,!1);break;case"textarea":gf(e),Sx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?hs(e,!!r.multiple,o,!1):r.defaultValue!=null&&hs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)IC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=Qo(ju.current),Qo(Nr.current),Pf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ir]=t,(o=r.nodeValue!==n)&&(e=Cn,e!==null))switch(e.tag){case 3:Sf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Sf(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ir]=t,t.stateNode=r}return Ht(t),null;case 13:if(Le(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&In!==null&&t.mode&1&&!(t.flags&128))KO(),Is(),t.flags|=98560,o=!1;else if(o=Pf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Ir]=t}else Is(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),o=!1}else ar!==null&&(sy(ar),ar=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?ft===0&&(ft=3):T_())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return Os(),Zv(e,t),e===null&&ku(t.stateNode.containerInfo),Ht(t),null;case 10:return u_(t.type._context),Ht(t),null;case 17:return wn(t.type)&&Ld(),Ht(t),null;case 19:if(Le(Be),o=t.memoizedState,o===null)return Ht(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Ll(o,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Wd(e),a!==null){for(t.flags|=128,Ll(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Re(Be,Be.current&1|2),t.child}e=e.sibling}o.tail!==null&&nt()>ks&&(t.flags|=128,r=!0,Ll(o,!1),t.lanes=4194304)}else{if(!r)if(e=Wd(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Fe)return Ht(t),null}else 2*nt()-o.renderingStartTime>ks&&n!==1073741824&&(t.flags|=128,r=!0,Ll(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nt(),t.sibling=null,n=Be.current,Re(Be,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return P_(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Pn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function IF(e,t){switch(o_(t),t.tag){case 1:return wn(t.type)&&Ld(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Os(),Le(_n),Le(Jt),p_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return h_(t),null;case 13:if(Le(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Is()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Le(Be),null;case 4:return Os(),null;case 10:return u_(t.type._context),null;case 22:case 23:return P_(),null;case 24:return null;default:return null}}var Af=!1,Qt=!1,AF=typeof WeakSet=="function"?WeakSet:Set,Q=null;function us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function ey(e,t,n){try{n()}catch(r){Je(e,t,r)}}var hS=!1;function OF(e,t){if(Lv=Nd,e=RO(),r_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(s=a+i),d!==o||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vv={focusedElem:e,selectionRange:n},Nd=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,v=m.memoizedState,w=t.stateNode,E=w.getSnapshotBeforeUpdate(t.elementType===t.type?_:ir(t.type,_),v);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(I){Je(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return m=hS,hS=!1,m}function hu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ey(t,n,o)}i=i.next}while(i!==r)}}function vp(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ty(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function AC(e){var t=e.alternate;t!==null&&(e.alternate=null,AC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ir],delete t[Nu],delete t[$v],delete t[fF],delete t[dF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function OC(e){return e.tag===5||e.tag===3||e.tag===4}function pS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||OC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ny(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Md));else if(r!==4&&(e=e.child,e!==null))for(ny(e,t,n),e=e.sibling;e!==null;)ny(e,t,n),e=e.sibling}function ry(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ry(e,t,n),e=e.sibling;e!==null;)ry(e,t,n),e=e.sibling}var Ot=null,or=!1;function $i(e,t,n){for(n=n.child;n!==null;)CC(e,t,n),n=n.sibling}function CC(e,t,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(up,n)}catch{}switch(n.tag){case 5:Qt||us(n,t);case 6:var r=Ot,i=or;Ot=null,$i(e,t,n),Ot=r,or=i,Ot!==null&&(or?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(or?(e=Ot,n=n.stateNode,e.nodeType===8?bg(e.parentNode,n):e.nodeType===1&&bg(e,n),Au(e)):bg(Ot,n.stateNode));break;case 4:r=Ot,i=or,Ot=n.stateNode.containerInfo,or=!0,$i(e,t,n),Ot=r,or=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ey(n,t,a),i=i.next}while(i!==r)}$i(e,t,n);break;case 1:if(!Qt&&(us(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Je(n,t,s)}$i(e,t,n);break;case 21:$i(e,t,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,$i(e,t,n),Qt=r):$i(e,t,n);break;default:$i(e,t,n)}}function mS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new AF),t.forEach(function(r){var i=VF.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Ot=s.stateNode,or=!1;break e;case 3:Ot=s.stateNode.containerInfo,or=!0;break e;case 4:Ot=s.stateNode.containerInfo,or=!0;break e}s=s.return}if(Ot===null)throw Error(H(160));CC(o,a,i),Ot=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Je(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kC(t,e),t=t.sibling}function kC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(t,e),wr(e),r&4){try{hu(3,e,e.return),vp(3,e)}catch(_){Je(e,e.return,_)}try{hu(5,e,e.return)}catch(_){Je(e,e.return,_)}}break;case 1:rr(t,e),wr(e),r&512&&n!==null&&us(n,n.return);break;case 5:if(rr(t,e),wr(e),r&512&&n!==null&&us(n,n.return),e.flags&32){var i=e.stateNode;try{Su(i,"")}catch(_){Je(e,e.return,_)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&ZA(i,o),Iv(s,a);var u=Iv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?iO(i,d):c==="dangerouslySetInnerHTML"?nO(i,d):c==="children"?Su(i,d):W0(i,c,d,u)}switch(s){case"input":Ev(i,o);break;case"textarea":eO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?hs(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?hs(i,!!o.multiple,o.defaultValue,!0):hs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Nu]=o}catch(_){Je(e,e.return,_)}}break;case 6:if(rr(t,e),wr(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(_){Je(e,e.return,_)}}break;case 3:if(rr(t,e),wr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Au(t.containerInfo)}catch(_){Je(e,e.return,_)}break;case 4:rr(t,e),wr(e);break;case 13:rr(t,e),wr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(x_=nt())),r&4&&mS(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Qt=(u=Qt)||c,rr(t,e),Qt=u):rr(t,e),wr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Q=e,c=e.child;c!==null;){for(d=Q=c;Q!==null;){switch(h=Q,p=h.child,h.tag){case 0:case 11:case 14:case 15:hu(4,h,h.return);break;case 1:us(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(_){Je(r,n,_)}}break;case 5:us(h,h.return);break;case 22:if(h.memoizedState!==null){vS(d);continue}}p!==null?(p.return=h,Q=p):vS(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=rO("display",a))}catch(_){Je(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Je(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:rr(t,e),wr(e),r&4&&mS(e);break;case 21:break;default:rr(t,e),wr(e)}}function wr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(OC(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Su(i,""),r.flags&=-33);var o=pS(e);ry(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=pS(e);ny(e,s,a);break;default:throw Error(H(161))}}catch(l){Je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CF(e,t,n){Q=e,RC(e)}function RC(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Af;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Qt;s=Af;var u=Qt;if(Af=a,(Qt=l)&&!u)for(Q=i;Q!==null;)a=Q,l=a.child,a.tag===22&&a.memoizedState!==null?yS(i):l!==null?(l.return=a,Q=l):yS(i);for(;o!==null;)Q=o,RC(o),o=o.sibling;Q=i,Af=s,Qt=u}gS(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):gS(e)}}function gS(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||vp(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ir(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&eS(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eS(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Au(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Qt||t.flags&512&&ty(t)}catch(h){Je(t,t.return,h)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function vS(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function yS(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vp(4,t)}catch(l){Je(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Je(t,i,l)}}var o=t.return;try{ty(t)}catch(l){Je(t,o,l)}break;case 5:var a=t.return;try{ty(t)}catch(l){Je(t,a,l)}}}catch(l){Je(t,t.return,l)}if(t===e){Q=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Q=s;break}Q=t.return}}var kF=Math.ceil,qd=Oi.ReactCurrentDispatcher,b_=Oi.ReactCurrentOwner,Qn=Oi.ReactCurrentBatchConfig,ye=0,Et=null,ot=null,Dt=0,Pn=0,cs=Co(0),ft=0,Uu=null,ga=0,yp=0,E_=0,pu=null,pn=null,x_=0,ks=1/0,Xr=null,Gd=!1,iy=null,co=null,Of=!1,to=null,Yd=0,mu=0,oy=null,ud=-1,cd=0;function sn(){return ye&6?nt():ud!==-1?ud:ud=nt()}function fo(e){return e.mode&1?ye&2&&Dt!==0?Dt&-Dt:pF.transition!==null?(cd===0&&(cd=gO()),cd):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:xO(e.type)),e):1}function hr(e,t,n,r){if(50<mu)throw mu=0,oy=null,Error(H(185));gc(e,n,r),(!(ye&2)||e!==Et)&&(e===Et&&(!(ye&2)&&(yp|=n),ft===4&&Gi(e,Dt)),bn(e,r),n===1&&ye===0&&!(t.mode&1)&&(ks=nt()+500,pp&&ko()))}function bn(e,t){var n=e.callbackNode;pU(e,t);var r=Rd(e,e===Et?Dt:0);if(r===0)n!==null&&Ix(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ix(n),t===1)e.tag===0?hF(_S.bind(null,e)):BO(_S.bind(null,e)),uF(function(){!(ye&6)&&ko()}),n=null;else{switch(vO(r)){case 1:n=Y0;break;case 4:n=pO;break;case 16:n=kd;break;case 536870912:n=mO;break;default:n=kd}n=FC(n,NC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function NC(e,t){if(ud=-1,cd=0,ye&6)throw Error(H(327));var n=e.callbackNode;if(ys()&&e.callbackNode!==n)return null;var r=Rd(e,e===Et?Dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qd(e,r);else{t=r;var i=ye;ye|=2;var o=jC();(Et!==e||Dt!==t)&&(Xr=null,ks=nt()+500,na(e,t));do try{DF();break}catch(s){DC(e,s)}while(!0);l_(),qd.current=o,ye=i,ot!==null?t=0:(Et=null,Dt=0,t=ft)}if(t!==0){if(t===2&&(i=Rv(e),i!==0&&(r=i,t=ay(e,i))),t===1)throw n=Uu,na(e,0),Gi(e,r),bn(e,nt()),n;if(t===6)Gi(e,r);else{if(i=e.current.alternate,!(r&30)&&!RF(i)&&(t=Qd(e,r),t===2&&(o=Rv(e),o!==0&&(r=o,t=ay(e,o))),t===1))throw n=Uu,na(e,0),Gi(e,r),bn(e,nt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:zo(e,pn,Xr);break;case 3:if(Gi(e,r),(r&130023424)===r&&(t=x_+500-nt(),10<t)){if(Rd(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){sn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Fv(zo.bind(null,e,pn,Xr),t);break}zo(e,pn,Xr);break;case 4:if(Gi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-dr(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kF(r/1960))-r,10<r){e.timeoutHandle=Fv(zo.bind(null,e,pn,Xr),r);break}zo(e,pn,Xr);break;case 5:zo(e,pn,Xr);break;default:throw Error(H(329))}}}return bn(e,nt()),e.callbackNode===n?NC.bind(null,e):null}function ay(e,t){var n=pu;return e.current.memoizedState.isDehydrated&&(na(e,t).flags|=256),e=Qd(e,t),e!==2&&(t=pn,pn=n,t!==null&&sy(t)),e}function sy(e){pn===null?pn=e:pn.push.apply(pn,e)}function RF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gi(e,t){for(t&=~E_,t&=~yp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dr(t),r=1<<n;e[n]=-1,t&=~r}}function _S(e){if(ye&6)throw Error(H(327));ys();var t=Rd(e,0);if(!(t&1))return bn(e,nt()),null;var n=Qd(e,t);if(e.tag!==0&&n===2){var r=Rv(e);r!==0&&(t=r,n=ay(e,r))}if(n===1)throw n=Uu,na(e,0),Gi(e,t),bn(e,nt()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zo(e,pn,Xr),bn(e,nt()),null}function S_(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(ks=nt()+500,pp&&ko())}}function va(e){to!==null&&to.tag===0&&!(ye&6)&&ys();var t=ye;ye|=1;var n=Qn.transition,r=Pe;try{if(Qn.transition=null,Pe=1,e)return e()}finally{Pe=r,Qn.transition=n,ye=t,!(ye&6)&&ko()}}function P_(){Pn=cs.current,Le(cs)}function na(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lF(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(o_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ld();break;case 3:Os(),Le(_n),Le(Jt),p_();break;case 5:h_(r);break;case 4:Os();break;case 13:Le(Be);break;case 19:Le(Be);break;case 10:u_(r.type._context);break;case 22:case 23:P_()}n=n.return}if(Et=e,ot=e=ho(e.current,null),Dt=Pn=t,ft=0,Uu=null,E_=yp=ga=0,pn=pu=null,Yo!==null){for(t=0;t<Yo.length;t++)if(n=Yo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Yo=null}return e}function DC(e,t){do{var n=ot;try{if(l_(),ad.current=Hd,Kd){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kd=!1}if(ma=0,bt=ut=We=null,du=!1,Mu=0,b_.current=null,n===null||n.return===null){ft=1,Uu=t,ot=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Dt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=aS(a);if(p!==null){p.flags&=-257,sS(p,a,s,o,t),p.mode&1&&oS(o,u,t),t=p,l=u;var m=t.updateQueue;if(m===null){var _=new Set;_.add(l),t.updateQueue=_}else m.add(l);break e}else{if(!(t&1)){oS(o,u,t),T_();break e}l=Error(H(426))}}else if(Fe&&s.mode&1){var v=aS(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),sS(v,a,s,o,t),a_(Cs(l,s));break e}}o=l=Cs(l,s),ft!==4&&(ft=2),pu===null?pu=[o]:pu.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=vC(o,l,t);Zx(o,w);break e;case 1:s=l;var E=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(co===null||!co.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var I=yC(o,s,t);Zx(o,I);break e}}o=o.return}while(o!==null)}LC(n)}catch(O){t=O,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function jC(){var e=qd.current;return qd.current=Hd,e===null?Hd:e}function T_(){(ft===0||ft===3||ft===2)&&(ft=4),Et===null||!(ga&268435455)&&!(yp&268435455)||Gi(Et,Dt)}function Qd(e,t){var n=ye;ye|=2;var r=jC();(Et!==e||Dt!==t)&&(Xr=null,na(e,t));do try{NF();break}catch(i){DC(e,i)}while(!0);if(l_(),ye=n,qd.current=r,ot!==null)throw Error(H(261));return Et=null,Dt=0,ft}function NF(){for(;ot!==null;)MC(ot)}function DF(){for(;ot!==null&&!oU();)MC(ot)}function MC(e){var t=UC(e.alternate,e,Pn);e.memoizedProps=e.pendingProps,t===null?LC(e):ot=t,b_.current=null}function LC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=IF(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,ot=null;return}}else if(n=TF(n,t,Pn),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);ft===0&&(ft=5)}function zo(e,t,n){var r=Pe,i=Qn.transition;try{Qn.transition=null,Pe=1,jF(e,t,n,r)}finally{Qn.transition=i,Pe=r}return null}function jF(e,t,n,r){do ys();while(to!==null);if(ye&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(mU(e,o),e===Et&&(ot=Et=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Of||(Of=!0,FC(kd,function(){return ys(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qn.transition,Qn.transition=null;var a=Pe;Pe=1;var s=ye;ye|=4,b_.current=null,OF(e,n),kC(n,e),tF(Vv),Nd=!!Lv,Vv=Lv=null,e.current=n,CF(n),aU(),ye=s,Pe=a,Qn.transition=o}else e.current=n;if(Of&&(Of=!1,to=e,Yd=i),o=e.pendingLanes,o===0&&(co=null),uU(n.stateNode),bn(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gd)throw Gd=!1,e=iy,iy=null,e;return Yd&1&&e.tag!==0&&ys(),o=e.pendingLanes,o&1?e===oy?mu++:(mu=0,oy=e):mu=0,ko(),null}function ys(){if(to!==null){var e=vO(Yd),t=Qn.transition,n=Pe;try{if(Qn.transition=null,Pe=16>e?16:e,to===null)var r=!1;else{if(e=to,to=null,Yd=0,ye&6)throw Error(H(331));var i=ye;for(ye|=4,Q=e.current;Q!==null;){var o=Q,a=o.child;if(Q.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:hu(8,c,o)}var d=c.child;if(d!==null)d.return=c,Q=d;else for(;Q!==null;){c=Q;var h=c.sibling,p=c.return;if(AC(c),c===u){Q=null;break}if(h!==null){h.return=p,Q=h;break}Q=p}}}var m=o.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}Q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Q=a;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:hu(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Q=w;break e}Q=o.return}}var E=e.current;for(Q=E;Q!==null;){a=Q;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Q=S;else e:for(a=E;Q!==null;){if(s=Q,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:vp(9,s)}}catch(O){Je(s,s.return,O)}if(s===a){Q=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,Q=I;break e}Q=s.return}}if(ye=i,ko(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(up,e)}catch{}r=!0}return r}finally{Pe=n,Qn.transition=t}}return!1}function wS(e,t,n){t=Cs(n,t),t=vC(e,t,1),e=uo(e,t,1),t=sn(),e!==null&&(gc(e,1,t),bn(e,t))}function Je(e,t,n){if(e.tag===3)wS(e,e,n);else for(;t!==null;){if(t.tag===3){wS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(co===null||!co.has(r))){e=Cs(n,e),e=yC(t,e,1),t=uo(t,e,1),e=sn(),t!==null&&(gc(t,1,e),bn(t,e));break}}t=t.return}}function MF(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=sn(),e.pingedLanes|=e.suspendedLanes&n,Et===e&&(Dt&n)===n&&(ft===4||ft===3&&(Dt&130023424)===Dt&&500>nt()-x_?na(e,0):E_|=n),bn(e,t)}function VC(e,t){t===0&&(e.mode&1?(t=_f,_f<<=1,!(_f&130023424)&&(_f=4194304)):t=1);var n=sn();e=pi(e,t),e!==null&&(gc(e,t,n),bn(e,n))}function LF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),VC(e,n)}function VF(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),VC(e,n)}var UC;UC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_n.current)gn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gn=!1,PF(e,t,n);gn=!!(e.flags&131072)}else gn=!1,Fe&&t.flags&1048576&&zO(t,Fd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ld(e,t),e=t.pendingProps;var i=Ts(t,Jt.current);vs(t,n),i=g_(null,t,r,e,i,n);var o=v_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(r)?(o=!0,Vd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f_(t),i.updater=gp,t.stateNode=i,i._reactInternals=t,qv(t,r,e,n),t=Qv(null,t,r,!0,o,n)):(t.tag=0,Fe&&o&&i_(t),on(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ld(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=FF(r),e=ir(r,e),i){case 0:t=Yv(null,t,r,e,n);break e;case 1:t=cS(null,t,r,e,n);break e;case 11:t=lS(null,t,r,e,n);break e;case 14:t=uS(null,t,r,ir(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),Yv(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),cS(e,t,r,i,n);case 3:e:{if(EC(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,i=o.element,YO(e,t),zd(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Cs(Error(H(423)),t),t=fS(e,t,r,n,i);break e}else if(r!==i){i=Cs(Error(H(424)),t),t=fS(e,t,r,n,i);break e}else for(In=lo(t.stateNode.containerInfo.firstChild),Cn=t,Fe=!0,ar=null,n=qO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Is(),r===i){t=mi(e,t,n);break e}on(e,t,r,n)}t=t.child}return t;case 5:return QO(t),e===null&&Wv(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Uv(r,i)?a=null:o!==null&&Uv(r,o)&&(t.flags|=32),bC(e,t),on(e,t,a,n),t.child;case 6:return e===null&&Wv(t),null;case 13:return xC(e,t,n);case 4:return d_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=As(t,null,r,n):on(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),lS(e,t,r,i,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Re($d,r._currentValue),r._currentValue=a,o!==null)if(gr(o.value,a)){if(o.children===i.children&&!_n.current){t=mi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ci(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Kv(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Kv(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}on(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vs(t,n),i=Xn(i),r=r(i),t.flags|=1,on(e,t,r,n),t.child;case 14:return r=t.type,i=ir(r,t.pendingProps),i=ir(r.type,i),uS(e,t,r,i,n);case 15:return _C(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ir(r,i),ld(e,t),t.tag=1,wn(r)?(e=!0,Vd(t)):e=!1,vs(t,n),gC(t,r,i),qv(t,r,i,n),Qv(null,t,r,!0,e,n);case 19:return SC(e,t,n);case 22:return wC(e,t,n)}throw Error(H(156,t.tag))};function FC(e,t){return hO(e,t)}function UF(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,n,r){return new UF(e,t,n,r)}function I_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FF(e){if(typeof e=="function")return I_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===H0)return 11;if(e===q0)return 14}return 2}function ho(e,t){var n=e.alternate;return n===null?(n=Gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fd(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")I_(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case es:return ra(n.children,i,o,t);case K0:a=8,i|=8;break;case vv:return e=Gn(12,n,t,i|2),e.elementType=vv,e.lanes=o,e;case yv:return e=Gn(13,n,t,i),e.elementType=yv,e.lanes=o,e;case _v:return e=Gn(19,n,t,i),e.elementType=_v,e.lanes=o,e;case QA:return _p(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GA:a=10;break e;case YA:a=9;break e;case H0:a=11;break e;case q0:a=14;break e;case zi:a=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Gn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ra(e,t,n,r){return e=Gn(7,e,r,t),e.lanes=n,e}function _p(e,t,n,r){return e=Gn(22,e,r,t),e.elementType=QA,e.lanes=n,e.stateNode={isHidden:!1},e}function Og(e,t,n){return e=Gn(6,e,null,t),e.lanes=n,e}function Cg(e,t,n){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $F(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cg(0),this.expirationTimes=cg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function A_(e,t,n,r,i,o,a,s,l){return e=new $F(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f_(o),e}function BF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Za,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $C(e){if(!e)return bo;e=e._reactInternals;e:{if(Ra(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(wn(n))return $O(e,n,t)}return t}function BC(e,t,n,r,i,o,a,s,l){return e=A_(n,r,!0,e,i,o,a,s,l),e.context=$C(null),n=e.current,r=sn(),i=fo(n),o=ci(r,i),o.callback=t??null,uo(n,o,i),e.current.lanes=i,gc(e,i,r),bn(e,r),e}function wp(e,t,n,r){var i=t.current,o=sn(),a=fo(i);return n=$C(n),t.context===null?t.context=n:t.pendingContext=n,t=ci(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=uo(i,t,a),e!==null&&(hr(e,i,a,o),od(e,i,a)),a}function Xd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function O_(e,t){bS(e,t),(e=e.alternate)&&bS(e,t)}function zF(){return null}var zC=typeof reportError=="function"?reportError:function(e){console.error(e)};function C_(e){this._internalRoot=e}bp.prototype.render=C_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));wp(e,t,null,null)};bp.prototype.unmount=C_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;va(function(){wp(null,e,null,null)}),t[hi]=null}};function bp(e){this._internalRoot=e}bp.prototype.unstable_scheduleHydration=function(e){if(e){var t=wO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qi.length&&t!==0&&t<qi[n].priority;n++);qi.splice(n,0,e),n===0&&EO(e)}};function k_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ep(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ES(){}function WF(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Xd(a);o.call(u)}}var a=BC(t,r,e,0,null,!1,!1,"",ES);return e._reactRootContainer=a,e[hi]=a.current,ku(e.nodeType===8?e.parentNode:e),va(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Xd(l);s.call(u)}}var l=A_(e,0,!1,null,null,!1,!1,"",ES);return e._reactRootContainer=l,e[hi]=l.current,ku(e.nodeType===8?e.parentNode:e),va(function(){wp(t,l,n,r)}),l}function xp(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Xd(a);s.call(l)}}wp(t,a,e,i)}else a=WF(n,t,e,i,r);return Xd(a)}yO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jl(t.pendingLanes);n!==0&&(Q0(t,n|1),bn(t,nt()),!(ye&6)&&(ks=nt()+500,ko()))}break;case 13:va(function(){var r=pi(e,1);if(r!==null){var i=sn();hr(r,e,1,i)}}),O_(e,1)}};X0=function(e){if(e.tag===13){var t=pi(e,134217728);if(t!==null){var n=sn();hr(t,e,134217728,n)}O_(e,134217728)}};_O=function(e){if(e.tag===13){var t=fo(e),n=pi(e,t);if(n!==null){var r=sn();hr(n,e,t,r)}O_(e,t)}};wO=function(){return Pe};bO=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Ov=function(e,t,n){switch(t){case"input":if(Ev(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=hp(r);if(!i)throw Error(H(90));JA(r),Ev(r,i)}}}break;case"textarea":eO(e,n);break;case"select":t=n.value,t!=null&&hs(e,!!n.multiple,t,!1)}};sO=S_;lO=va;var KF={usingClientEntryPoint:!1,Events:[yc,is,hp,oO,aO,S_]},Vl={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HF={bundleType:Vl.bundleType,version:Vl.version,rendererPackageName:Vl.rendererPackageName,rendererConfig:Vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fO(e),e===null?null:e.stateNode},findFiberByHostInstance:Vl.findFiberByHostInstance||zF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{up=Cf.inject(HF),Rr=Cf}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KF;Vn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k_(t))throw Error(H(200));return BF(e,t,null,n)};Vn.createRoot=function(e,t){if(!k_(e))throw Error(H(299));var n=!1,r="",i=zC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=A_(e,1,!1,null,null,n,!1,r,i),e[hi]=t.current,ku(e.nodeType===8?e.parentNode:e),new C_(t)};Vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=fO(t),e=e===null?null:e.stateNode,e};Vn.flushSync=function(e){return va(e)};Vn.hydrate=function(e,t,n){if(!Ep(t))throw Error(H(200));return xp(null,e,t,!0,n)};Vn.hydrateRoot=function(e,t,n){if(!k_(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=zC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=BC(t,null,e,1,n??null,i,!1,o,a),e[hi]=t.current,ku(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new bp(t)};Vn.render=function(e,t,n){if(!Ep(t))throw Error(H(200));return xp(null,e,t,!1,n)};Vn.unmountComponentAtNode=function(e){if(!Ep(e))throw Error(H(40));return e._reactRootContainer?(va(function(){xp(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0):!1};Vn.unstable_batchedUpdates=S_;Vn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ep(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return xp(e,t,n,!1,r)};Vn.version="18.3.1-next-f1338f8080-20240426";function WC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WC)}catch(e){console.error(e)}}WC(),WA.exports=Vn;var Sp=WA.exports,xS=Sp;mv.createRoot=xS.createRoot,mv.hydrateRoot=xS.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fu.apply(this,arguments)}var no;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(no||(no={}));const SS="popstate";function qF(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return ly("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jd(i)}return YF(t,n,null,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GF(){return Math.random().toString(36).substr(2,8)}function PS(e,t){return{usr:e.state,key:e.key,idx:t}}function ly(e,t,n,r){return n===void 0&&(n=null),Fu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xs(t):t,{state:n,key:t&&t.key||r||GF()})}function Jd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function YF(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=no.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Fu({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){s=no.Pop;let v=c(),w=v==null?null:v-u;u=v,l&&l({action:s,location:_.location,delta:w})}function h(v,w){s=no.Push;let E=ly(_.location,v,w);u=c()+1;let S=PS(E,u),I=_.createHref(E);try{a.pushState(S,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(I)}o&&l&&l({action:s,location:_.location,delta:1})}function p(v,w){s=no.Replace;let E=ly(_.location,v,w);u=c();let S=PS(E,u),I=_.createHref(E);a.replaceState(S,"",I),o&&l&&l({action:s,location:_.location,delta:0})}function m(v){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof v=="string"?v:Jd(v);return E=E.replace(/ $/,"%20"),Ke(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let _={get action(){return s},get location(){return e(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SS,d),l=v,()=>{i.removeEventListener(SS,d),l=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let w=m(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(v){return a.go(v)}};return _}var TS;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(TS||(TS={}));function QF(e,t,n){return n===void 0&&(n="/"),XF(e,t,n)}function XF(e,t,n,r){let i=typeof t=="string"?Xs(t):t,o=Rs(i.pathname||"/",n);if(o==null)return null;let a=KC(e);JF(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=u$(o);s=s$(a[l],u)}return s}function KC(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(Ke(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=po([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ke(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KC(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:o$(u,o.index),routesMeta:c})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of HC(o.path))i(o,a,l)}),t}function HC(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=HC(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function JF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZF=/^:[\w-]+$/,e$=3,t$=2,n$=1,r$=10,i$=-2,IS=e=>e==="*";function o$(e,t){let n=e.split("/"),r=n.length;return n.some(IS)&&(r+=i$),t&&(r+=t$),n.filter(i=>!IS(i)).reduce((i,o)=>i+(ZF.test(o)?e$:o===""?n$:r$),r)}function a$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function s$(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=uy({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:po([o,d.pathname]),pathnameBase:p$(po([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=po([o,d.pathnameBase]))}return a}function uy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l$(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let _=s[d]||"";a=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const m=s[d];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function l$(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),R_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function u$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return R_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const c$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f$=e=>c$.test(e);function d$(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Xs(e):e,o;if(n)if(f$(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),R_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=AS(n.substring(1),"/"):o=AS(n,t)}else o=t;return{pathname:o,search:m$(r),hash:g$(i)}}function AS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function kg(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function h$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function N_(e,t){let n=h$(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function D_(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Xs(e):(i=Fu({},e),Ke(!i.pathname||!i.pathname.includes("?"),kg("?","pathname","search",i)),Ke(!i.pathname||!i.pathname.includes("#"),kg("#","pathname","hash",i)),Ke(!i.search||!i.search.includes("#"),kg("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=d$(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const po=e=>e.join("/").replace(/\/\/+/g,"/"),p$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,g$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function v$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qC=["post","put","patch","delete"];new Set(qC);const y$=["get",...qC];new Set(y$);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$u.apply(this,arguments)}const Pp=y.createContext(null),GC=y.createContext(null),Ci=y.createContext(null),Tp=y.createContext(null),Ro=y.createContext({outlet:null,matches:[],isDataRoute:!1}),YC=y.createContext(null);function _$(e,t){let{relative:n}=t===void 0?{}:t;Js()||Ke(!1);let{basename:r,navigator:i}=y.useContext(Ci),{hash:o,pathname:a,search:s}=Ip(e,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:po([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Js(){return y.useContext(Tp)!=null}function Zs(){return Js()||Ke(!1),y.useContext(Tp).location}function QC(e){y.useContext(Ci).static||y.useLayoutEffect(e)}function XC(){let{isDataRoute:e}=y.useContext(Ro);return e?R$():w$()}function w$(){Js()||Ke(!1);let e=y.useContext(Pp),{basename:t,future:n,navigator:r}=y.useContext(Ci),{matches:i}=y.useContext(Ro),{pathname:o}=Zs(),a=JSON.stringify(N_(i,n.v7_relativeSplatPath)),s=y.useRef(!1);return QC(()=>{s.current=!0}),y.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let d=D_(u,JSON.parse(a),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:po([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,a,o,e])}function Ip(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(Ci),{matches:i}=y.useContext(Ro),{pathname:o}=Zs(),a=JSON.stringify(N_(i,r.v7_relativeSplatPath));return y.useMemo(()=>D_(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function b$(e,t){return E$(e,t)}function E$(e,t,n,r){Js()||Ke(!1);let{navigator:i}=y.useContext(Ci),{matches:o}=y.useContext(Ro),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Zs(),c;if(t){var d;let v=typeof t=="string"?Xs(t):t;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Ke(!1),c=v}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=QF(e,{pathname:p}),_=I$(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:po([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:po([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r);return t&&_?y.createElement(Tp.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:no.Pop}},_):_}function x$(){let e=k$(),t=v$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:i},n):null,null)}const S$=y.createElement(x$,null);class P$ extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Ro.Provider,{value:this.props.routeContext},y.createElement(YC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T$(e){let{routeContext:t,match:n,children:r}=e,i=y.useContext(Pp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ro.Provider,{value:t},r)}function I$(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||Ke(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,h)=>{let p,m=!1,_=null,v=null;n&&(p=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||S$,l&&(u<0&&h===0?(N$("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),E=()=>{let S;return p?S=_:m?S=v:d.route.Component?S=y.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,y.createElement(T$,{match:d,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?y.createElement(P$,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var JC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(JC||{}),ZC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ZC||{});function A$(e){let t=y.useContext(Pp);return t||Ke(!1),t}function O$(e){let t=y.useContext(GC);return t||Ke(!1),t}function C$(e){let t=y.useContext(Ro);return t||Ke(!1),t}function ek(e){let t=C$(),n=t.matches[t.matches.length-1];return n.route.id||Ke(!1),n.route.id}function k$(){var e;let t=y.useContext(YC),n=O$(),r=ek();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function R$(){let{router:e}=A$(JC.UseNavigateStable),t=ek(ZC.UseNavigateStable),n=y.useRef(!1);return QC(()=>{n.current=!0}),y.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,$u({fromRouteId:t},o)))},[e,t])}const OS={};function N$(e,t,n){OS[e]||(OS[e]=!0)}function D$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function CS(e){let{to:t,replace:n,state:r,relative:i}=e;Js()||Ke(!1);let{future:o,static:a}=y.useContext(Ci),{matches:s}=y.useContext(Ro),{pathname:l}=Zs(),u=XC(),c=D_(t,N_(s,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return y.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function Qr(e){Ke(!1)}function j$(e){let{basename:t="/",children:n=null,location:r,navigationType:i=no.Pop,navigator:o,static:a=!1,future:s}=e;Js()&&Ke(!1);let l=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:l,navigator:o,static:a,future:$u({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Xs(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,_=y.useMemo(()=>{let v=Rs(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:m},navigationType:i}},[l,c,d,h,p,m,i]);return _==null?null:y.createElement(Ci.Provider,{value:u},y.createElement(Tp.Provider,{children:n,value:_}))}function M$(e){let{children:t,location:n}=e;return b$(cy(t),n)}new Promise(()=>{});function cy(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,i)=>{if(!y.isValidElement(r))return;let o=[...t,i];if(r.type===y.Fragment){n.push.apply(n,cy(r.props.children,o));return}r.type!==Qr&&Ke(!1),!r.props.index||!r.props.children||Ke(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=cy(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(this,arguments)}function tk(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function L$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function V$(e,t){return e.button===0&&(!t||t==="_self")&&!L$(e)}const U$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],$$="6";try{window.__reactRouterVersion=$$}catch{}const B$=y.createContext({isTransitioning:!1}),z$="startTransition",kS=BA[z$];function W$(e){let{basename:t,children:n,future:r,window:i}=e,o=y.useRef();o.current==null&&(o.current=qF({window:i,v5Compat:!0}));let a=o.current,[s,l]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=y.useCallback(d=>{u&&kS?kS(()=>l(d)):l(d)},[l,u]);return y.useLayoutEffect(()=>a.listen(c),[a,c]),y.useEffect(()=>D$(r),[r]),y.createElement(j$,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const K$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q$=y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=tk(t,U$),{basename:p}=y.useContext(Ci),m,_=!1;if(typeof u=="string"&&H$.test(u)&&(m=u,K$))try{let S=new URL(window.location.href),I=u.startsWith("//")?new URL(S.protocol+u):new URL(u),O=Rs(I.pathname,p);I.origin===S.origin&&O!=null?u=O+I.search+I.hash:_=!0}catch{}let v=_$(u,{relative:i}),w=Y$(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function E(S){r&&r(S),S.defaultPrevented||w(S)}return y.createElement("a",Zd({},h,{href:m||v,onClick:_||o?r:E,ref:n,target:l}))}),Wa=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:a=!1,style:s,to:l,viewTransition:u,children:c}=t,d=tk(t,F$),h=Ip(l,{relative:d.relative}),p=Zs(),m=y.useContext(GC),{navigator:_,basename:v}=y.useContext(Ci),w=m!=null&&Q$(h)&&u===!0,E=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,S=p.pathname,I=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(S=S.toLowerCase(),I=I?I.toLowerCase():null,E=E.toLowerCase()),I&&v&&(I=Rs(I,v)||I);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let R=S===E||!a&&S.startsWith(E)&&S.charAt(O)==="/",T=I!=null&&(I===E||!a&&I.startsWith(E)&&I.charAt(E.length)==="/"),P={isActive:R,isPending:T,isTransitioning:w},A=R?r:void 0,k;typeof o=="function"?k=o(P):k=[o,R?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(P):s;return y.createElement(q$,Zd({},d,{"aria-current":A,className:k,ref:n,style:D,to:l,viewTransition:u}),typeof c=="function"?c(P):c)});var fy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fy||(fy={}));var RS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(RS||(RS={}));function G$(e){let t=y.useContext(Pp);return t||Ke(!1),t}function Y$(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=t===void 0?{}:t,l=XC(),u=Zs(),c=Ip(e,{relative:a});return y.useCallback(d=>{if(V$(d,n)){d.preventDefault();let h=r!==void 0?r:Jd(u)===Jd(c);l(e,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,e,o,a,s])}function Q$(e,t){t===void 0&&(t={});let n=y.useContext(B$);n==null&&Ke(!1);let{basename:r}=G$(fy.useViewTransitionState),i=Ip(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Rs(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Rs(n.nextLocation.pathname,r)||n.nextLocation.pathname;return uy(i.pathname,a)!=null||uy(i.pathname,o)!=null}var NS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},X$=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],a=e[n++],s=e[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return t.join("")},rk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):X$(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||s==null||u==null||d==null)throw new J$;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class J$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z$=function(e){const t=nk(e);return rk.encodeByteArray(t,!0)},eh=function(e){return Z$(e).replace(/\./g,"")},ik=function(e){try{return rk.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=()=>e4().__FIREBASE_DEFAULTS__,n4=()=>{if(typeof process>"u"||typeof NS>"u")return;const e=NS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},r4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ik(e[1]);return t&&JSON.parse(t)},Ap=()=>{try{return t4()||n4()||r4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ok=e=>{var t,n;return(n=(t=Ap())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},ak=e=>{const t=ok(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},sk=()=>{var e;return(e=Ap())===null||e===void 0?void 0:e.config},lk=e=>{var t;return(t=Ap())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[eh(JSON.stringify(n)),eh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function a4(){var e;const t=(e=Ap())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function l4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function u4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c4(){const e=Zt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function f4(){return!a4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d4(){try{return typeof indexedDB=="object"}catch{return!1}}function h4(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="FirebaseError";class Hr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=p4,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wc.prototype.create)}}class wc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],a=o?m4(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Hr(i,s,r)}}function m4(e,t){return e.replace(g4,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const g4=/\{\$([^}]+)}/g;function v4(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function th(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],a=t[i];if(DS(o)&&DS(a)){if(!th(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function y4(e,t){const n=new _4(e,t);return n.subscribe.bind(n)}class _4{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");w4(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Rg),i.error===void 0&&(i.error=Rg),i.complete===void 0&&(i.complete=Rg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w4(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e){return e&&e._delegate?e._delegate:e}class Eo{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b4=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new i4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(x4(t))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Wo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wo){return this.instances.has(t)}getOptions(t=Wo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&t(a,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Wo){return this.component?this.component.multipleInstances?t:Wo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function E4(e){return e===Wo?void 0:e}function x4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new b4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));const P4={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},T4=ge.INFO,I4={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},A4=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=I4[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class j_{constructor(t){this.name=t,this._logLevel=T4,this._logHandler=A4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?P4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}const O4=(e,t)=>t.some(n=>e instanceof n);let jS,MS;function C4(){return jS||(jS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k4(){return MS||(MS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ck=new WeakMap,dy=new WeakMap,fk=new WeakMap,Ng=new WeakMap,M_=new WeakMap;function R4(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{n(mo(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&ck.set(n,e)}).catch(()=>{}),M_.set(t,e),t}function N4(e){if(dy.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});dy.set(e,t)}let hy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return dy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fk.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mo(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function D4(e){hy=e(hy)}function j4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Dg(this),t,...n);return fk.set(r,t.sort?t.sort():[t]),mo(r)}:k4().includes(e)?function(...t){return e.apply(Dg(this),t),mo(ck.get(this))}:function(...t){return mo(e.apply(Dg(this),t))}}function M4(e){return typeof e=="function"?j4(e):(e instanceof IDBTransaction&&N4(e),O4(e,C4())?new Proxy(e,hy):e)}function mo(e){if(e instanceof IDBRequest)return R4(e);if(Ng.has(e))return Ng.get(e);const t=M4(e);return t!==e&&(Ng.set(e,t),M_.set(t,e)),t}const Dg=e=>M_.get(e);function L4(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=mo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(mo(a.result),l.oldVersion,l.newVersion,mo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const V4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],jg=new Map;function LS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jg.get(t))return jg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=U4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return jg.set(t,o),o}D4(e=>({...e,get:(t,n,r)=>LS(t,n)||e.get(t,n,r),has:(t,n)=>!!LS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const py="@firebase/app",VS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new j_("@firebase/app"),B4="@firebase/app-compat",z4="@firebase/analytics-compat",W4="@firebase/analytics",K4="@firebase/app-check-compat",H4="@firebase/app-check",q4="@firebase/auth",G4="@firebase/auth-compat",Y4="@firebase/database",Q4="@firebase/data-connect",X4="@firebase/database-compat",J4="@firebase/functions",Z4="@firebase/functions-compat",eB="@firebase/installations",tB="@firebase/installations-compat",nB="@firebase/messaging",rB="@firebase/messaging-compat",iB="@firebase/performance",oB="@firebase/performance-compat",aB="@firebase/remote-config",sB="@firebase/remote-config-compat",lB="@firebase/storage",uB="@firebase/storage-compat",cB="@firebase/firestore",fB="@firebase/vertexai-preview",dB="@firebase/firestore-compat",hB="firebase",pB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="[DEFAULT]",mB={[py]:"fire-core",[B4]:"fire-core-compat",[W4]:"fire-analytics",[z4]:"fire-analytics-compat",[H4]:"fire-app-check",[K4]:"fire-app-check-compat",[q4]:"fire-auth",[G4]:"fire-auth-compat",[Y4]:"fire-rtdb",[Q4]:"fire-data-connect",[X4]:"fire-rtdb-compat",[J4]:"fire-fn",[Z4]:"fire-fn-compat",[eB]:"fire-iid",[tB]:"fire-iid-compat",[nB]:"fire-fcm",[rB]:"fire-fcm-compat",[iB]:"fire-perf",[oB]:"fire-perf-compat",[aB]:"fire-rc",[sB]:"fire-rc-compat",[lB]:"fire-gcs",[uB]:"fire-gcs-compat",[cB]:"fire-fst",[dB]:"fire-fst-compat",[fB]:"fire-vertex","fire-js":"fire-js",[hB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,gB=new Map,gy=new Map;function US(e,t){try{e.container.addComponent(t)}catch(n){gi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ya(e){const t=e.name;if(gy.has(t))return gi.debug(`There were multiple attempts to register component ${t}.`),!1;gy.set(t,e);for(const n of nh.values())US(n,e);for(const n of gB.values())US(n,e);return!0}function Op(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ii(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},go=new wc("app","Firebase",vB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=pB;function dk(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:my,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw go.create("bad-app-name",{appName:String(i)});if(n||(n=sk()),!n)throw go.create("no-options");const o=nh.get(i);if(o){if(th(n,o.options)&&th(r,o.config))return o;throw go.create("duplicate-app",{appName:i})}const a=new S4(i);for(const l of gy.values())a.addComponent(l);const s=new yB(n,r,a);return nh.set(i,s),s}function L_(e=my){const t=nh.get(e);if(!t&&e===my&&sk())return dk();if(!t)throw go.create("no-app",{appName:e});return t}function Dr(e,t,n){var r;let i=(r=mB[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${t}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gi.warn(s.join(" "));return}ya(new Eo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="firebase-heartbeat-database",wB=1,Bu="firebase-heartbeat-store";let Mg=null;function hk(){return Mg||(Mg=L4(_B,wB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(e=>{throw go.create("idb-open",{originalErrorMessage:e.message})})),Mg}async function bB(e){try{const n=(await hk()).transaction(Bu),r=await n.objectStore(Bu).get(pk(e));return await n.done,r}catch(t){if(t instanceof Hr)gi.warn(t.message);else{const n=go.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});gi.warn(n.message)}}}async function FS(e,t){try{const r=(await hk()).transaction(Bu,"readwrite");await r.objectStore(Bu).put(t,pk(e)),await r.done}catch(n){if(n instanceof Hr)gi.warn(n.message);else{const r=go.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function pk(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=1024,xB=30*24*60*60*1e3;class SB{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$S();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=xB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$S(),{heartbeatsToSend:r,unsentEntries:i}=PB(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return gi.warn(n),""}}}function $S(){return new Date().toISOString().substring(0,10)}function PB(e,t=EB){const n=[];let r=e.slice();for(const i of e){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),BS(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BS(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d4()?h4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bB(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function BS(e){return eh(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(e){ya(new Eo("platform-logger",t=>new F4(t),"PRIVATE")),ya(new Eo("heartbeat",t=>new SB(t),"PRIVATE")),Dr(py,VS,e),Dr(py,VS,"esm2017"),Dr("fire-js","")}IB("");function V_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function mk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AB=mk,gk=new wc("auth","Firebase",mk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new j_("@firebase/auth");function OB(e,...t){rh.logLevel<=ge.WARN&&rh.warn(`Auth (${Na}): ${e}`,...t)}function dd(e,...t){rh.logLevel<=ge.ERROR&&rh.error(`Auth (${Na}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e,...t){throw F_(e,...t)}function pr(e,...t){return F_(e,...t)}function U_(e,t,n){const r=Object.assign(Object.assign({},AB()),{[t]:n});return new wc("auth","Firebase",r).create(t,{appName:e.name})}function ia(e){return U_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CB(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Fr(e,"argument-error"),U_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function F_(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return gk.create(e,...t)}function se(e,t,...n){if(!e)throw F_(t,...n)}function oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw dd(t),new Error(t)}function vi(e,t){e||oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function kB(){return zS()==="http:"||zS()==="https:"}function zS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kB()||l4()||"connection"in navigator)?navigator.onLine:!0}function NB(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n){this.shortDelay=t,this.longDelay=n,vi(n>t,"Short delay should be less than long delay!"),this.isMobile=o4()||u4()}get(){return RB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(e,t){vi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=new Ec(3e4,6e4);function B_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function el(e,t,n,r,i={}){return yk(e,i,async()=>{let o={},a={};r&&(t==="GET"?a=r:o={body:JSON.stringify(r)});const s=bc(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},o);return s4()||(u.referrerPolicy="no-referrer"),vk.fetch()(_k(e,e.config.apiHost,n,s),u)})}async function yk(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},DB),t);try{const i=new LB(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw kf(e,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kf(e,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw kf(e,"email-already-in-use",a);if(l==="USER_DISABLED")throw kf(e,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw U_(e,c,u);Fr(e,c)}}catch(i){if(i instanceof Hr)throw i;Fr(e,"network-request-failed",{message:String(i)})}}async function MB(e,t,n,r,i={}){const o=await el(e,t,n,r,i);return"mfaPendingCredential"in o&&Fr(e,"multi-factor-auth-required",{_serverResponse:o}),o}function _k(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?$_(e.config,i):`${e.config.apiScheme}://${i}`}class LB{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),jB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VB(e,t){return el(e,"POST","/v1/accounts:delete",t)}async function wk(e,t){return el(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UB(e,t=!1){const n=ht(e),r=await n.getIdToken(t),i=z_(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:gu(Lg(i.auth_time)),issuedAtTime:gu(Lg(i.iat)),expirationTime:gu(Lg(i.exp)),signInProvider:a||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lg(e){return Number(e)*1e3}function z_(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const i=ik(n);return i?JSON.parse(i):(dd("Failed to decode base64 JWT payload"),null)}catch(i){return dd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WS(e){const t=z_(e);return se(t,"internal-error"),se(typeof t.exp<"u","internal-error"),se(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Hr&&FB(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function FB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(e){var t;const n=e.auth,r=await e.getIdToken(),i=await zu(e,wk(n,{idToken:r}));se(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?bk(o.providerUserInfo):[],s=zB(e.providerData,a),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new yy(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function BB(e){const t=ht(e);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zB(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function bk(e){return e.map(t=>{var{providerId:n}=t,r=V_(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WB(e,t){const n=await yk(e,{},async()=>{const r=bc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,a=_k(e,i,"/v1/token",`key=${o}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",vk.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KB(e,t){return el(e,"POST","/v2/accounts:revokeToken",B_(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){se(t.idToken,"internal-error"),se(typeof t.idToken<"u","internal-error"),se(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):WS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){se(t.length!==0,"internal-error");const n=WS(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await WB(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new _s;return r&&(se(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:t}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _s,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e,t){se(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ai{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=V_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $B(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await zu(this,this.stsTokenManager.getToken(this.auth,t));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return UB(this,t)}reload(){return BB(this)}_assign(t){this!==t&&(se(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ai(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ia(this.auth));const t=await this.getIdToken();return await zu(this,VB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,a,s,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,_=(s=n.tenantId)!==null&&s!==void 0?s:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:S,emailVerified:I,isAnonymous:O,providerData:R,stsTokenManager:T}=n;se(S&&T,t,"internal-error");const P=_s.fromJSON(this.name,T);se(typeof S=="string",t,"internal-error"),Bi(d,t.name),Bi(h,t.name),se(typeof I=="boolean",t,"internal-error"),se(typeof O=="boolean",t,"internal-error"),Bi(p,t.name),Bi(m,t.name),Bi(_,t.name),Bi(v,t.name),Bi(w,t.name),Bi(E,t.name);const A=new ai({uid:S,auth:t,email:h,emailVerified:I,displayName:d,isAnonymous:O,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:P,createdAt:w,lastLoginAt:E});return R&&Array.isArray(R)&&(A.providerData=R.map(k=>Object.assign({},k))),v&&(A._redirectEventId=v),A}static async _fromIdTokenResponse(t,n,r=!1){const i=new _s;i.updateFromServerResponse(n);const o=new ai({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await ih(o),o}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?bk(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),s=new _s;s.updateFromIdToken(r);const l=new ai({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Map;function si(e){vi(e instanceof Function,"Expected a class definition");let t=KS.get(e);return t?(vi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,KS.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Ek.type="NONE";const HS=Ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(e,t,n){return`firebase:${e}:${t}:${n}`}class ws{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hd(this.userKey,i.apiKey,o),this.fullPersistenceKey=hd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ai._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new ws(si(HS),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||si(HS);const a=hd(r,t.config.apiKey,t.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const d=ai._fromJSON(t,c);u!==o&&(s=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ws(o,t,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new ws(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ak(t))return"Blackberry";if(Ok(t))return"Webos";if(Sk(t))return"Safari";if((t.includes("chrome/")||Pk(t))&&!t.includes("edge/"))return"Chrome";if(Ik(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xk(e=Zt()){return/firefox\//i.test(e)}function Sk(e=Zt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Pk(e=Zt()){return/crios\//i.test(e)}function Tk(e=Zt()){return/iemobile/i.test(e)}function Ik(e=Zt()){return/android/i.test(e)}function Ak(e=Zt()){return/blackberry/i.test(e)}function Ok(e=Zt()){return/webos/i.test(e)}function W_(e=Zt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function HB(e=Zt()){var t;return W_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function qB(){return c4()&&document.documentMode===10}function Ck(e=Zt()){return W_(e)||Ik(e)||Ok(e)||Ak(e)||/windows phone/i.test(e)||Tk(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(e,t=[]){let n;switch(e){case"Browser":n=qS(Zt());break;case"Worker":n=`${qS(Zt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((a,s)=>{try{const l=t(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YB(e,t={}){return el(e,"GET","/v2/passwordPolicy",B_(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=6;class XB{constructor(t){var n,r,i,o;const a=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:QB,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GS(this),this.idTokenSubscription=new GS(this),this.beforeStateQueue=new GB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ws.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await wk(this,{idToken:t}),r=await ai._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ii(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!a||a===s)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=NB()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(ia(this));const n=t?ht(t):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&se(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YB(this),n=new XB(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new wc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KB(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&si(t)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await ws.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=t.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&OB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Cp(e){return ht(e)}class GS{constructor(t){this.auth=t,this.observer=null,this.addObserver=y4(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZB(e){K_=e}function ez(e){return K_.loadJS(e)}function tz(){return K_.gapiScript}function nz(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(e,t){const n=Op(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(th(o,t??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:t})}function iz(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function oz(e,t,n){const r=Cp(e);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=Rk(t),{host:a,port:s}=az(t),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),sz()}function Rk(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function az(e){const t=Rk(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:YS(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:YS(a)}}}function YS(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function sz(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(t){return oi("not implemented")}_linkToIdToken(t,n){return oi("not implemented")}_getReauthenticationResolver(t){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(e,t){return MB(e,"POST","/v1/accounts:signInWithIdp",B_(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="http://localhost";class _a extends Nk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new _a(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=V_(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new _a(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return bs(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,bs(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bs(t,n)}buildRequest(){const t={requestUri:lz,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=bc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends H_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends xc{constructor(){super("facebook.com")}static credential(t){return _a._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Yi.credentialFromTaggedObject(t)}static credentialFromError(t){return Yi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Yi.credential(t.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return _a._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ei.credentialFromTaggedObject(t)}static credentialFromError(t){return ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends xc{constructor(){super("github.com")}static credential(t){return _a._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qi.credentialFromTaggedObject(t)}static credentialFromError(t){return Qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qi.credential(t.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends xc{constructor(){super("twitter.com")}static credential(t,n){return _a._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await ai._fromIdTokenResponse(t,r,i),a=QS(r);return new Ns({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=QS(r);return new Ns({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function QS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends Hr{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new oh(t,n,r,i)}}function Dk(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(e,o,t,r):o})}async function uz(e,t,n=!1){const r=await zu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ns._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(e,t,n=!1){const{auth:r}=e;if(ii(r.app))return Promise.reject(ia(r));const i="reauthenticate";try{const o=await zu(e,Dk(r,i,t,e),n);se(o.idToken,r,"internal-error");const a=z_(o.idToken);se(a,r,"internal-error");const{sub:s}=a;return se(e.uid===s,r,"user-mismatch"),Ns._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(e,t,n=!1){if(ii(e.app))return Promise.reject(ia(e));const r="signIn",i=await Dk(e,r,t),o=await Ns._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function dz(e,t,n,r){return ht(e).onIdTokenChanged(t,n,r)}function hz(e,t,n){return ht(e).beforeAuthStateChanged(t,n)}function pz(e,t,n,r){return ht(e).onAuthStateChanged(t,n,r)}function mz(e){return ht(e).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=1e3,vz=10;class Mk extends jk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ck(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);qB()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,vz):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Mk.type="LOCAL";const yz=Mk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends jk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Lk.type="SESSION";const Vk=Lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new kp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await _z(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=q_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function bz(e){jr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function Ez(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xz(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Sz(){return Uk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="firebaseLocalStorageDb",Pz=1,sh="firebaseLocalStorage",$k="fbase_key";class Sc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rp(e,t){return e.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function Tz(){const e=indexedDB.deleteDatabase(Fk);return new Sc(e).toPromise()}function _y(){const e=indexedDB.open(Fk,Pz);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(sh,{keyPath:$k})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(sh)?t(r):(r.close(),await Tz(),t(await _y()))})})}async function XS(e,t,n){const r=Rp(e,!0).put({[$k]:t,value:n});return new Sc(r).toPromise()}async function Iz(e,t){const n=Rp(e,!1).get(t),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function JS(e,t){const n=Rp(e,!0).delete(t);return new Sc(n).toPromise()}const Az=800,Oz=3;class Bk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Oz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kp._getInstance(Sz()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Ez(),!this.activeServiceWorker)return;this.sender=new wz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _y();return await XS(t,ah,"1"),await JS(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XS(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Iz(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>JS(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Rp(i,!1).getAll();return new Sc(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Az)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bk.type="LOCAL";const Cz=Bk;new Ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(e,t){return t?si(t):(se(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_ extends Nk{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function kz(e){return fz(e.auth,new G_(e),e.bypassAuthState)}function Rz(e){const{auth:t,user:n}=e;return se(n,t,"internal-error"),cz(n,new G_(e),e.bypassAuthState)}async function Nz(e){const{auth:t,user:n}=e;return se(n,t,"internal-error"),uz(n,new G_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=t;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kz;case"linkViaPopup":case"linkViaRedirect":return Nz;case"reauthViaPopup":case"reauthViaRedirect":return Rz;default:Fr(this.auth,"internal-error")}}resolve(t){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz=new Ec(2e3,1e4);async function jz(e,t,n){if(ii(e.app))return Promise.reject(pr(e,"operation-not-supported-in-this-environment"));const r=Cp(e);CB(e,t,H_);const i=zk(r,n);return new Xo(r,"signInViaPopup",t,i).executeNotNull()}class Xo extends Wk{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return se(t,this.auth,"internal-error"),t}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const t=q_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Dz.get())};t()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz="pendingRedirect",pd=new Map;class Lz extends Wk{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=pd.get(this.auth._key());if(!t){try{const r=await Vz(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}pd.set(this.auth._key(),t)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vz(e,t){const n=$z(t),r=Fz(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Uz(e,t){pd.set(e._key(),t)}function Fz(e){return si(e._redirectPersistence)}function $z(e){return hd(Mz,e.config.apiKey,e.name)}async function Bz(e,t,n=!1){if(ii(e.app))return Promise.reject(ia(e));const r=Cp(e),i=zk(r,t),a=await new Lz(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=10*60*1e3;class Wz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Kz(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Kk(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zz&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZS(t))}saveEventToCache(t){this.cachedEventUids.add(ZS(t)),this.lastProcessedEventTime=Date.now()}}function ZS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Kk({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Kz(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kk(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(e,t={}){return el(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gz=/^https?/;async function Yz(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Hz(e);for(const n of t)try{if(Qz(n))return}catch{}Fr(e,"unauthorized-domain")}function Qz(e){const t=vy(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Gz.test(n))return!1;if(qz.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=new Ec(3e4,6e4);function eP(){const e=jr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Jz(e){return new Promise((t,n)=>{var r,i,o;function a(){eP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{eP(),n(pr(e,"network-request-failed"))},timeout:Xz.get()})}if(!((i=(r=jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=jr().gapi)===null||o===void 0)&&o.load)a();else{const s=nz("iframefcb");return jr()[s]=()=>{gapi.load?a():n(pr(e,"network-request-failed"))},ez(`${tz()}?onload=${s}`).catch(l=>n(l))}}).catch(t=>{throw md=null,t})}let md=null;function Zz(e){return md=md||Jz(e),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new Ec(5e3,15e3),t3="__/auth/iframe",n3="emulator/auth/iframe",r3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o3(e){const t=e.config;se(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?$_(t,n3):`https://${e.config.authDomain}/${t3}`,r={apiKey:t.apiKey,appName:e.name,v:Na},i=i3.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${bc(r).slice(1)}`}async function a3(e){const t=await Zz(e),n=jr().gapi;return se(n,e,"internal-error"),t.open({where:document.body,url:o3(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=pr(e,"network-request-failed"),s=jr().setTimeout(()=>{o(a)},e3.get());function l(){jr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l3=500,u3=600,c3="_blank",f3="http://localhost";class tP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d3(e,t,n,r=l3,i=u3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},s3),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Zt().toLowerCase();n&&(s=Pk(u)?c3:n),xk(u)&&(t=t||f3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(HB(u)&&s!=="_self")return h3(t||"",s),new tP(null);const d=window.open(t||"",s,c);se(d,e,"popup-blocked");try{d.focus()}catch{}return new tP(d)}function h3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="__/auth/handler",m3="emulator/auth/handler",g3=encodeURIComponent("fac");async function nP(e,t,n,r,i,o){se(e.config.authDomain,e,"auth-domain-config-required"),se(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Na,eventId:i};if(t instanceof H_){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",v4(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))a[c]=d}if(t instanceof xc){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(a.scopes=c.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${g3}=${encodeURIComponent(l)}`:"";return`${v3(e)}?${bc(s).slice(1)}${u}`}function v3({config:e}){return e.emulator?$_(e,m3):`https://${e.authDomain}/${p3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="webStorageSupport";class y3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vk,this._completeRedirectFn=Bz,this._overrideRedirectResult=Uz}async _openPopup(t,n,r,i){var o;vi((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await nP(t,n,r,vy(),i);return d3(t,a,q_())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await nP(t,n,r,vy(),i);return bz(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(vi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await a3(t),r=new Wz(t);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Vg,{type:Vg},i=>{var o;const a=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Vg];a!==void 0&&n(!!a),Fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yz(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ck()||Sk()||W_()}}const _3=y3;var rP="@firebase/auth",iP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E3(e){ya(new Eo("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kk(e)},u=new JB(r,i,o,l);return iz(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ya(new Eo("auth-internal",t=>{const n=Cp(t.getProvider("auth").getImmediate());return(r=>new w3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(rP,iP,b3(e)),Dr(rP,iP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=5*60,S3=lk("authIdTokenMaxAge")||x3;let oP=null;const P3=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>S3)return;const i=n==null?void 0:n.token;oP!==i&&(oP=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T3(e=L_()){const t=Op(e,"auth");if(t.isInitialized())return t.getImmediate();const n=rz(e,{popupRedirectResolver:_3,persistence:[Cz,yz,Vk]}),r=lk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=P3(o.toString());hz(n,a,()=>a(n.currentUser)),dz(n,s=>a(s))}}const i=ok("auth");return i&&oz(n,`http://${i}`),n}function I3(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}ZB({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=pr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",I3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E3("Browser");var A3="firebase",O3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(A3,O3,"app");var aP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,Hk;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,P){function A(){}A.prototype=P.prototype,T.D=P.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(k,D,N){for(var j=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)j[Y-2]=arguments[Y];return P.prototype[D].apply(k,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,P,A){A||(A=0);var k=Array(16);if(typeof P=="string")for(var D=0;16>D;++D)k[D]=P.charCodeAt(A++)|P.charCodeAt(A++)<<8|P.charCodeAt(A++)<<16|P.charCodeAt(A++)<<24;else for(D=0;16>D;++D)k[D]=P[A++]|P[A++]<<8|P[A++]<<16|P[A++]<<24;P=T.g[0],A=T.g[1],D=T.g[2];var N=T.g[3],j=P+(N^A&(D^N))+k[0]+3614090360&4294967295;P=A+(j<<7&4294967295|j>>>25),j=N+(D^P&(A^D))+k[1]+3905402710&4294967295,N=P+(j<<12&4294967295|j>>>20),j=D+(A^N&(P^A))+k[2]+606105819&4294967295,D=N+(j<<17&4294967295|j>>>15),j=A+(P^D&(N^P))+k[3]+3250441966&4294967295,A=D+(j<<22&4294967295|j>>>10),j=P+(N^A&(D^N))+k[4]+4118548399&4294967295,P=A+(j<<7&4294967295|j>>>25),j=N+(D^P&(A^D))+k[5]+1200080426&4294967295,N=P+(j<<12&4294967295|j>>>20),j=D+(A^N&(P^A))+k[6]+2821735955&4294967295,D=N+(j<<17&4294967295|j>>>15),j=A+(P^D&(N^P))+k[7]+4249261313&4294967295,A=D+(j<<22&4294967295|j>>>10),j=P+(N^A&(D^N))+k[8]+1770035416&4294967295,P=A+(j<<7&4294967295|j>>>25),j=N+(D^P&(A^D))+k[9]+2336552879&4294967295,N=P+(j<<12&4294967295|j>>>20),j=D+(A^N&(P^A))+k[10]+4294925233&4294967295,D=N+(j<<17&4294967295|j>>>15),j=A+(P^D&(N^P))+k[11]+2304563134&4294967295,A=D+(j<<22&4294967295|j>>>10),j=P+(N^A&(D^N))+k[12]+1804603682&4294967295,P=A+(j<<7&4294967295|j>>>25),j=N+(D^P&(A^D))+k[13]+4254626195&4294967295,N=P+(j<<12&4294967295|j>>>20),j=D+(A^N&(P^A))+k[14]+2792965006&4294967295,D=N+(j<<17&4294967295|j>>>15),j=A+(P^D&(N^P))+k[15]+1236535329&4294967295,A=D+(j<<22&4294967295|j>>>10),j=P+(D^N&(A^D))+k[1]+4129170786&4294967295,P=A+(j<<5&4294967295|j>>>27),j=N+(A^D&(P^A))+k[6]+3225465664&4294967295,N=P+(j<<9&4294967295|j>>>23),j=D+(P^A&(N^P))+k[11]+643717713&4294967295,D=N+(j<<14&4294967295|j>>>18),j=A+(N^P&(D^N))+k[0]+3921069994&4294967295,A=D+(j<<20&4294967295|j>>>12),j=P+(D^N&(A^D))+k[5]+3593408605&4294967295,P=A+(j<<5&4294967295|j>>>27),j=N+(A^D&(P^A))+k[10]+38016083&4294967295,N=P+(j<<9&4294967295|j>>>23),j=D+(P^A&(N^P))+k[15]+3634488961&4294967295,D=N+(j<<14&4294967295|j>>>18),j=A+(N^P&(D^N))+k[4]+3889429448&4294967295,A=D+(j<<20&4294967295|j>>>12),j=P+(D^N&(A^D))+k[9]+568446438&4294967295,P=A+(j<<5&4294967295|j>>>27),j=N+(A^D&(P^A))+k[14]+3275163606&4294967295,N=P+(j<<9&4294967295|j>>>23),j=D+(P^A&(N^P))+k[3]+4107603335&4294967295,D=N+(j<<14&4294967295|j>>>18),j=A+(N^P&(D^N))+k[8]+1163531501&4294967295,A=D+(j<<20&4294967295|j>>>12),j=P+(D^N&(A^D))+k[13]+2850285829&4294967295,P=A+(j<<5&4294967295|j>>>27),j=N+(A^D&(P^A))+k[2]+4243563512&4294967295,N=P+(j<<9&4294967295|j>>>23),j=D+(P^A&(N^P))+k[7]+1735328473&4294967295,D=N+(j<<14&4294967295|j>>>18),j=A+(N^P&(D^N))+k[12]+2368359562&4294967295,A=D+(j<<20&4294967295|j>>>12),j=P+(A^D^N)+k[5]+4294588738&4294967295,P=A+(j<<4&4294967295|j>>>28),j=N+(P^A^D)+k[8]+2272392833&4294967295,N=P+(j<<11&4294967295|j>>>21),j=D+(N^P^A)+k[11]+1839030562&4294967295,D=N+(j<<16&4294967295|j>>>16),j=A+(D^N^P)+k[14]+4259657740&4294967295,A=D+(j<<23&4294967295|j>>>9),j=P+(A^D^N)+k[1]+2763975236&4294967295,P=A+(j<<4&4294967295|j>>>28),j=N+(P^A^D)+k[4]+1272893353&4294967295,N=P+(j<<11&4294967295|j>>>21),j=D+(N^P^A)+k[7]+4139469664&4294967295,D=N+(j<<16&4294967295|j>>>16),j=A+(D^N^P)+k[10]+3200236656&4294967295,A=D+(j<<23&4294967295|j>>>9),j=P+(A^D^N)+k[13]+681279174&4294967295,P=A+(j<<4&4294967295|j>>>28),j=N+(P^A^D)+k[0]+3936430074&4294967295,N=P+(j<<11&4294967295|j>>>21),j=D+(N^P^A)+k[3]+3572445317&4294967295,D=N+(j<<16&4294967295|j>>>16),j=A+(D^N^P)+k[6]+76029189&4294967295,A=D+(j<<23&4294967295|j>>>9),j=P+(A^D^N)+k[9]+3654602809&4294967295,P=A+(j<<4&4294967295|j>>>28),j=N+(P^A^D)+k[12]+3873151461&4294967295,N=P+(j<<11&4294967295|j>>>21),j=D+(N^P^A)+k[15]+530742520&4294967295,D=N+(j<<16&4294967295|j>>>16),j=A+(D^N^P)+k[2]+3299628645&4294967295,A=D+(j<<23&4294967295|j>>>9),j=P+(D^(A|~N))+k[0]+4096336452&4294967295,P=A+(j<<6&4294967295|j>>>26),j=N+(A^(P|~D))+k[7]+1126891415&4294967295,N=P+(j<<10&4294967295|j>>>22),j=D+(P^(N|~A))+k[14]+2878612391&4294967295,D=N+(j<<15&4294967295|j>>>17),j=A+(N^(D|~P))+k[5]+4237533241&4294967295,A=D+(j<<21&4294967295|j>>>11),j=P+(D^(A|~N))+k[12]+1700485571&4294967295,P=A+(j<<6&4294967295|j>>>26),j=N+(A^(P|~D))+k[3]+2399980690&4294967295,N=P+(j<<10&4294967295|j>>>22),j=D+(P^(N|~A))+k[10]+4293915773&4294967295,D=N+(j<<15&4294967295|j>>>17),j=A+(N^(D|~P))+k[1]+2240044497&4294967295,A=D+(j<<21&4294967295|j>>>11),j=P+(D^(A|~N))+k[8]+1873313359&4294967295,P=A+(j<<6&4294967295|j>>>26),j=N+(A^(P|~D))+k[15]+4264355552&4294967295,N=P+(j<<10&4294967295|j>>>22),j=D+(P^(N|~A))+k[6]+2734768916&4294967295,D=N+(j<<15&4294967295|j>>>17),j=A+(N^(D|~P))+k[13]+1309151649&4294967295,A=D+(j<<21&4294967295|j>>>11),j=P+(D^(A|~N))+k[4]+4149444226&4294967295,P=A+(j<<6&4294967295|j>>>26),j=N+(A^(P|~D))+k[11]+3174756917&4294967295,N=P+(j<<10&4294967295|j>>>22),j=D+(P^(N|~A))+k[2]+718787259&4294967295,D=N+(j<<15&4294967295|j>>>17),j=A+(N^(D|~P))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+P&4294967295,T.g[1]=T.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,P){P===void 0&&(P=T.length);for(var A=P-this.blockSize,k=this.B,D=this.h,N=0;N<P;){if(D==0)for(;N<=A;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<P;)if(k[D++]=T.charCodeAt(N++),D==this.blockSize){i(this,k),D=0;break}}else for(;N<P;)if(k[D++]=T[N++],D==this.blockSize){i(this,k),D=0;break}}this.h=D,this.o+=P},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var P=1;P<T.length-8;++P)T[P]=0;var A=8*this.o;for(P=T.length-8;P<T.length;++P)T[P]=A&255,A/=256;for(this.u(T),T=Array(16),P=A=0;4>P;++P)for(var k=0;32>k;k+=8)T[A++]=this.g[P]>>>k&255;return T};function o(T,P){var A=s;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=P(T)}function a(T,P){this.h=P;for(var A=[],k=!0,D=T.length-1;0<=D;D--){var N=T[D]|0;k&&N==P||(A[D]=N,k=!1)}this.g=A}var s={};function l(T){return-128<=T&&128>T?o(T,function(P){return new a([P|0],0>P?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(u(-T));for(var P=[],A=1,k=0;T>=A;k++)P[k]=T/A|0,A*=4294967296;return new a(P,0)}function c(T,P){if(T.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T.charAt(0)=="-")return v(c(T.substring(1),P));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(P,8)),k=d,D=0;D<T.length;D+=8){var N=Math.min(8,T.length-D),j=parseInt(T.substring(D,D+N),P);8>N?(N=u(Math.pow(P,N)),k=k.j(N).add(u(j))):(k=k.j(A),k=k.add(u(j)))}return k}var d=l(0),h=l(1),p=l(16777216);e=a.prototype,e.m=function(){if(_(this))return-v(this).m();for(var T=0,P=1,A=0;A<this.g.length;A++){var k=this.i(A);T+=(0<=k?k:4294967296+k)*P,P*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(_(this))return"-"+v(this).toString(T);for(var P=u(Math.pow(T,6)),A=this,k="";;){var D=I(A,P).g;A=w(A,D.j(P));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=D,m(A))return N+k;for(;6>N.length;)N="0"+N;k=N+k}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var P=0;P<T.g.length;P++)if(T.g[P]!=0)return!1;return!0}function _(T){return T.h==-1}e.l=function(T){return T=w(this,T),_(T)?-1:m(T)?0:1};function v(T){for(var P=T.g.length,A=[],k=0;k<P;k++)A[k]=~T.g[k];return new a(A,~T.h).add(h)}e.abs=function(){return _(this)?v(this):this},e.add=function(T){for(var P=Math.max(this.g.length,T.g.length),A=[],k=0,D=0;D<=P;D++){var N=k+(this.i(D)&65535)+(T.i(D)&65535),j=(N>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);k=j>>>16,N&=65535,j&=65535,A[D]=j<<16|N}return new a(A,A[A.length-1]&-2147483648?-1:0)};function w(T,P){return T.add(v(P))}e.j=function(T){if(m(this)||m(T))return d;if(_(this))return _(T)?v(this).j(v(T)):v(v(this).j(T));if(_(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var P=this.g.length+T.g.length,A=[],k=0;k<2*P;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<T.g.length;D++){var N=this.i(k)>>>16,j=this.i(k)&65535,Y=T.i(D)>>>16,oe=T.i(D)&65535;A[2*k+2*D]+=j*oe,E(A,2*k+2*D),A[2*k+2*D+1]+=N*oe,E(A,2*k+2*D+1),A[2*k+2*D+1]+=j*Y,E(A,2*k+2*D+1),A[2*k+2*D+2]+=N*Y,E(A,2*k+2*D+2)}for(k=0;k<P;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=P;k<2*P;k++)A[k]=0;return new a(A,0)};function E(T,P){for(;(T[P]&65535)!=T[P];)T[P+1]+=T[P]>>>16,T[P]&=65535,P++}function S(T,P){this.g=T,this.h=P}function I(T,P){if(m(P))throw Error("division by zero");if(m(T))return new S(d,d);if(_(T))return P=I(v(T),P),new S(v(P.g),v(P.h));if(_(P))return P=I(T,v(P)),new S(v(P.g),P.h);if(30<T.g.length){if(_(T)||_(P))throw Error("slowDivide_ only works with positive integers.");for(var A=h,k=P;0>=k.l(T);)A=O(A),k=O(k);var D=R(A,1),N=R(k,1);for(k=R(k,2),A=R(A,2);!m(k);){var j=N.add(k);0>=j.l(T)&&(D=D.add(A),N=j),k=R(k,1),A=R(A,1)}return P=w(T,D.j(P)),new S(D,P)}for(D=d;0<=T.l(P);){for(A=Math.max(1,Math.floor(T.m()/P.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),N=u(A),j=N.j(P);_(j)||0<j.l(T);)A-=k,N=u(A),j=N.j(P);m(N)&&(N=h),D=D.add(N),T=w(T,j)}return new S(D,T)}e.A=function(T){return I(this,T).h},e.and=function(T){for(var P=Math.max(this.g.length,T.g.length),A=[],k=0;k<P;k++)A[k]=this.i(k)&T.i(k);return new a(A,this.h&T.h)},e.or=function(T){for(var P=Math.max(this.g.length,T.g.length),A=[],k=0;k<P;k++)A[k]=this.i(k)|T.i(k);return new a(A,this.h|T.h)},e.xor=function(T){for(var P=Math.max(this.g.length,T.g.length),A=[],k=0;k<P;k++)A[k]=this.i(k)^T.i(k);return new a(A,this.h^T.h)};function O(T){for(var P=T.g.length+1,A=[],k=0;k<P;k++)A[k]=T.i(k)<<1|T.i(k-1)>>>31;return new a(A,T.h)}function R(T,P){var A=P>>5;P%=32;for(var k=T.g.length-A,D=[],N=0;N<k;N++)D[N]=0<P?T.i(N+A)>>>P|T.i(N+A+1)<<32-P:T.i(N+A);return new a(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hk=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,oa=a}).apply(typeof aP<"u"?aP:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qk,eu,Gk,gd,wy,Yk,Qk,Xk;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,g,b){return f==Array.prototype||f==Object.prototype||(f[g]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var g=0;g<f.length;++g){var b=f[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function i(f,g){if(g)e:{var b=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var V=f[C];if(!(V in b))break e;b=b[V]}f=f[f.length-1],C=b[f],g=g(C),g!=C&&g!=null&&t(b,f,{configurable:!0,writable:!0,value:g})}}function o(f,g){f instanceof String&&(f+="");var b=0,C=!1,V={next:function(){if(!C&&b<f.length){var F=b++;return{value:g(F,f[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(f){return f||function(){return o(this,function(g,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(f){var g=typeof f;return g=g!="object"?g:f?Array.isArray(f)?"array":g:"null",g=="array"||g=="object"&&typeof f.length=="number"}function u(f){var g=typeof f;return g=="object"&&f!=null||g=="function"}function c(f,g,b){return f.call.apply(f.bind,arguments)}function d(f,g,b){if(!f)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,C),f.apply(g,V)}}return function(){return f.apply(g,arguments)}}function h(f,g,b){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,g){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function m(f,g){function b(){}b.prototype=g.prototype,f.aa=g.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(C,V,F){for(var G=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)G[Oe-2]=arguments[Oe];return g.prototype[V].apply(C,G)}}function _(f){const g=f.length;if(0<g){const b=Array(g);for(let C=0;C<g;C++)b[C]=f[C];return b}return[]}function v(f,g){for(let b=1;b<arguments.length;b++){const C=arguments[b];if(l(C)){const V=f.length||0,F=C.length||0;f.length=V+F;for(let G=0;G<F;G++)f[V+G]=C[G]}else f.push(C)}}class w{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function E(f){return/^[\s\xa0]*$/.test(f)}function S(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function I(f){return I[" "](f),f}I[" "]=function(){};var O=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(f,g,b){for(const C in f)g.call(b,f[C],C,f)}function T(f,g){for(const b in f)g.call(void 0,f[b],b,f)}function P(f){const g={};for(const b in f)g[b]=f[b];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,g){let b,C;for(let V=1;V<arguments.length;V++){C=arguments[V];for(b in C)f[b]=C[b];for(let F=0;F<A.length;F++)b=A[F],Object.prototype.hasOwnProperty.call(C,b)&&(f[b]=C[b])}}function D(f){var g=1;f=f.split(":");const b=[];for(;0<g&&f.length;)b.push(f.shift()),g--;return f.length&&b.push(f.join(":")),b}function N(f){s.setTimeout(()=>{throw f},0)}function j(){var f=M;let g=null;return f.g&&(g=f.g,f.g=f.g.next,f.g||(f.h=null),g.next=null),g}class Y{constructor(){this.h=this.g=null}add(g,b){const C=oe.get();C.set(g,b),this.h?this.h.next=C:this.g=C,this.h=C}}var oe=new w(()=>new de,f=>f.reset());class de{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,L=!1,M=new Y,$=()=>{const f=s.Promise.resolve(void 0);ie=()=>{f.then(q)}};var q=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(b){N(b)}var g=oe;g.j(f),100>g.h&&(g.h++,f.next=g.g,g.g=f)}L=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(f,g){this.type=f,this.g=this.target=g,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};s.addEventListener("test",b,g),s.removeEventListener("test",b,g)}catch{}return f}();function rt(f,g){if(ae.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=g,g=f.relatedTarget){if(O){e:{try{I(g.nodeName);var V=!0;break e}catch{}V=!1}V||(g=null)}}else b=="mouseover"?g=f.fromElement:b=="mouseout"&&(g=f.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:en[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&rt.aa.h.call(this)}}m(rt,ae);var en={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),vl=0;function z(f,g,b,C,V){this.listener=f,this.proxy=null,this.src=g,this.type=b,this.capture=!!C,this.ha=V,this.key=++vl,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,g,b,C,V){var F=f.toString();f=this.g[F],f||(f=this.g[F]=[],this.h++);var G=gt(f,g,C,V);return-1<G?(g=f[G],b||(g.fa=!1)):(g=new z(g,this.src,F,!!C,V),g.fa=b,f.push(g)),g};function K(f,g){var b=g.type;if(b in f.g){var C=f.g[b],V=Array.prototype.indexOf.call(C,g,void 0),F;(F=0<=V)&&Array.prototype.splice.call(C,V,1),F&&(fe(g),f.g[b].length==0&&(delete f.g[b],f.h--))}}function gt(f,g,b,C){for(var V=0;V<f.length;++V){var F=f[V];if(!F.da&&F.listener==g&&F.capture==!!b&&F.ha==C)return V}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Tt={};function $t(f,g,b,C,V){if(Array.isArray(g)){for(var F=0;F<g.length;F++)$t(f,g[F],b,C,V);return null}return b=_E(b),f&&f[Ve]?f.K(g,b,u(C)?!!C.capture:!1,V):qr(f,g,b,!1,C,V)}function qr(f,g,b,C,V,F){if(!g)throw Error("Invalid event type");var G=u(V)?!!V.capture:!!V,Oe=Fm(f);if(Oe||(f[Ee]=Oe=new he(f)),b=Oe.add(g,b,C,G,F),b.proxy)return b;if(C=Qc(),b.proxy=C,C.src=f,C.listener=b,f.addEventListener)xe||(V=G),V===void 0&&(V=!1),f.addEventListener(g.toString(),C,V);else if(f.attachEvent)f.attachEvent(yE(g.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Qc(){function f(b){return g.call(f.src,f.listener,b)}const g=HL;return f}function vE(f,g,b,C,V){if(Array.isArray(g))for(var F=0;F<g.length;F++)vE(f,g[F],b,C,V);else C=u(C)?!!C.capture:!!C,b=_E(b),f&&f[Ve]?(f=f.i,g=String(g).toString(),g in f.g&&(F=f.g[g],b=gt(F,b,C,V),-1<b&&(fe(F[b]),Array.prototype.splice.call(F,b,1),F.length==0&&(delete f.g[g],f.h--)))):f&&(f=Fm(f))&&(g=f.g[g.toString()],f=-1,g&&(f=gt(g,b,C,V)),(b=-1<f?g[f]:null)&&Um(b))}function Um(f){if(typeof f!="number"&&f&&!f.da){var g=f.src;if(g&&g[Ve])K(g.i,f);else{var b=f.type,C=f.proxy;g.removeEventListener?g.removeEventListener(b,C,f.capture):g.detachEvent?g.detachEvent(yE(b),C):g.addListener&&g.removeListener&&g.removeListener(C),(b=Fm(g))?(K(b,f),b.h==0&&(b.src=null,g[Ee]=null)):fe(f)}}}function yE(f){return f in Tt?Tt[f]:Tt[f]="on"+f}function HL(f,g){if(f.da)f=!0;else{g=new rt(g,this);var b=f.listener,C=f.ha||f.src;f.fa&&Um(f),f=b.call(C,g)}return f}function Fm(f){return f=f[Ee],f instanceof he?f:null}var $m="__closure_events_fn_"+(1e9*Math.random()>>>0);function _E(f){return typeof f=="function"?f:(f[$m]||(f[$m]=function(g){return f.handleEvent(g)}),f[$m])}function Bt(){ee.call(this),this.i=new he(this),this.M=this,this.F=null}m(Bt,ee),Bt.prototype[Ve]=!0,Bt.prototype.removeEventListener=function(f,g,b,C){vE(this,f,g,b,C)};function tn(f,g){var b,C=f.F;if(C)for(b=[];C;C=C.F)b.push(C);if(f=f.M,C=g.type||g,typeof g=="string")g=new ae(g,f);else if(g instanceof ae)g.target=g.target||f;else{var V=g;g=new ae(C,f),k(g,V)}if(V=!0,b)for(var F=b.length-1;0<=F;F--){var G=g.g=b[F];V=Xc(G,C,!0,g)&&V}if(G=g.g=f,V=Xc(G,C,!0,g)&&V,V=Xc(G,C,!1,g)&&V,b)for(F=0;F<b.length;F++)G=g.g=b[F],V=Xc(G,C,!1,g)&&V}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var f=this.i,g;for(g in f.g){for(var b=f.g[g],C=0;C<b.length;C++)fe(b[C]);delete f.g[g],f.h--}}this.F=null},Bt.prototype.K=function(f,g,b,C){return this.i.add(String(f),g,!1,b,C)},Bt.prototype.L=function(f,g,b,C){return this.i.add(String(f),g,!0,b,C)};function Xc(f,g,b,C){if(g=f.i.g[String(g)],!g)return!0;g=g.concat();for(var V=!0,F=0;F<g.length;++F){var G=g[F];if(G&&!G.da&&G.capture==b){var Oe=G.listener,It=G.ha||G.src;G.fa&&K(f.i,G),V=Oe.call(It,C)!==!1&&V}}return V&&!C.defaultPrevented}function wE(f,g,b){if(typeof f=="function")b&&(f=h(f,b));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:s.setTimeout(f,g||0)}function bE(f){f.g=wE(()=>{f.g=null,f.i&&(f.i=!1,bE(f))},f.l);const g=f.h;f.h=null,f.m.apply(null,g)}class qL extends ee{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bE(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yl(f){ee.call(this),this.h=f,this.g={}}m(yl,ee);var EE=[];function xE(f){R(f.g,function(g,b){this.g.hasOwnProperty(b)&&Um(g)},f),f.g={}}yl.prototype.N=function(){yl.aa.N.call(this),xE(this)},yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bm=s.JSON.stringify,GL=s.JSON.parse,YL=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function zm(){}zm.prototype.h=null;function SE(f){return f.h||(f.h=f.i())}function PE(){}var _l={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wm(){ae.call(this,"d")}m(Wm,ae);function Km(){ae.call(this,"c")}m(Km,ae);var Lo={},TE=null;function Jc(){return TE=TE||new Bt}Lo.La="serverreachability";function IE(f){ae.call(this,Lo.La,f)}m(IE,ae);function wl(f){const g=Jc();tn(g,new IE(g))}Lo.STAT_EVENT="statevent";function AE(f,g){ae.call(this,Lo.STAT_EVENT,f),this.stat=g}m(AE,ae);function nn(f){const g=Jc();tn(g,new AE(g,f))}Lo.Ma="timingevent";function OE(f,g){ae.call(this,Lo.Ma,f),this.size=g}m(OE,ae);function bl(f,g){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},g)}function El(){this.g=!0}El.prototype.xa=function(){this.g=!1};function QL(f,g,b,C,V,F){f.info(function(){if(f.g)if(F)for(var G="",Oe=F.split("&"),It=0;It<Oe.length;It++){var _e=Oe[It].split("=");if(1<_e.length){var zt=_e[0];_e=_e[1];var Wt=zt.split("_");G=2<=Wt.length&&Wt[1]=="type"?G+(zt+"="+_e+"&"):G+(zt+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+C+") [attempt "+V+"]: "+g+`
`+b+`
`+G})}function XL(f,g,b,C,V,F,G){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+V+"]: "+g+`
`+b+`
`+F+" "+G})}function Ua(f,g,b,C){f.info(function(){return"XMLHTTP TEXT ("+g+"): "+ZL(f,b)+(C?" "+C:"")})}function JL(f,g){f.info(function(){return"TIMEOUT: "+g})}El.prototype.info=function(){};function ZL(f,g){if(!f.g)return g;if(!g)return null;try{var b=JSON.parse(g);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var C=b[f];if(!(2>C.length)){var V=C[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<V.length;G++)V[G]=""}}}}return Bm(b)}catch{return g}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},CE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hm;function ef(){}m(ef,zm),ef.prototype.g=function(){return new XMLHttpRequest},ef.prototype.i=function(){return{}},Hm=new ef;function Vi(f,g,b,C){this.j=f,this.i=g,this.l=b,this.R=C||1,this.U=new yl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kE}function kE(){this.i=null,this.g="",this.h=!1}var RE={},qm={};function Gm(f,g,b){f.L=1,f.v=of(Gr(g)),f.m=b,f.P=!0,NE(f,null)}function NE(f,g){f.F=Date.now(),tf(f),f.A=Gr(f.v);var b=f.A,C=f.R;Array.isArray(C)||(C=[String(C)]),qE(b.i,"t",C),f.C=0,b=f.j.J,f.h=new kE,f.g=fx(f.j,b?g:null,!f.m),0<f.O&&(f.M=new qL(h(f.Y,f,f.g),f.O)),g=f.U,b=f.g,C=f.ca;var V="readystatechange";Array.isArray(V)||(V&&(EE[0]=V.toString()),V=EE);for(var F=0;F<V.length;F++){var G=$t(b,V[F],C||g.handleEvent,!1,g.h||g);if(!G)break;g.g[G.key]=G}g=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,g)):(f.u="GET",f.g.ea(f.A,f.u,null,g)),wl(),QL(f.i,f.u,f.A,f.l,f.R,f.m)}Vi.prototype.ca=function(f){f=f.target;const g=this.M;g&&Yr(f)==3?g.j():this.Y(f)},Vi.prototype.Y=function(f){try{if(f==this.g)e:{const Wt=Yr(this.g);var g=this.g.Ba();const Ba=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||ex(this.g)))){this.J||Wt!=4||g==7||(g==8||0>=Ba?wl(3):wl(2)),Ym(this);var b=this.g.Z();this.X=b;t:if(DE(this)){var C=ex(this.g);f="";var V=C.length,F=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),xl(this);var G="";break t}this.h.i=new s.TextDecoder}for(g=0;g<V;g++)this.h.h=!0,f+=this.h.i.decode(C[g],{stream:!(F&&g==V-1)});C.length=0,this.h.g+=f,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=b==200,XL(this.i,this.u,this.A,this.l,this.R,Wt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,It=this.g;if((Oe=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Oe)){var _e=Oe;break t}}_e=null}if(b=_e)Ua(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qm(this,b);else{this.o=!1,this.s=3,nn(12),Vo(this),xl(this);break e}}if(this.P){b=!0;let nr;for(;!this.J&&this.C<G.length;)if(nr=eV(this,G),nr==qm){Wt==4&&(this.s=4,nn(14),b=!1),Ua(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==RE){this.s=4,nn(15),Ua(this.i,this.l,G,"[Invalid Chunk]"),b=!1;break}else Ua(this.i,this.l,nr,null),Qm(this,nr);if(DE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||G.length!=0||this.h.h||(this.s=1,nn(16),b=!1),this.o=this.o&&b,!b)Ua(this.i,this.l,G,"[Invalid Chunked Response]"),Vo(this),xl(this);else if(0<G.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),ng(zt),zt.M=!0,nn(11))}}else Ua(this.i,this.l,G,null),Qm(this,G);Wt==4&&Vo(this),this.o&&!this.J&&(Wt==4?sx(this.j,this):(this.o=!1,tf(this)))}else vV(this.g),b==400&&0<G.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),Vo(this),xl(this)}}}catch{}finally{}};function DE(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function eV(f,g){var b=f.C,C=g.indexOf(`
`,b);return C==-1?qm:(b=Number(g.substring(b,C)),isNaN(b)?RE:(C+=1,C+b>g.length?qm:(g=g.slice(C,C+b),f.C=C+b,g)))}Vi.prototype.cancel=function(){this.J=!0,Vo(this)};function tf(f){f.S=Date.now()+f.I,jE(f,f.I)}function jE(f,g){if(f.B!=null)throw Error("WatchDog timer not null");f.B=bl(h(f.ba,f),g)}function Ym(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Vi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(JL(this.i,this.A),this.L!=2&&(wl(),nn(17)),Vo(this),this.s=2,xl(this)):jE(this,this.S-f)};function xl(f){f.j.G==0||f.J||sx(f.j,f)}function Vo(f){Ym(f);var g=f.M;g&&typeof g.ma=="function"&&g.ma(),f.M=null,xE(f.U),f.g&&(g=f.g,f.g=null,g.abort(),g.ma())}function Qm(f,g){try{var b=f.j;if(b.G!=0&&(b.g==f||Xm(b.h,f))){if(!f.K&&Xm(b.h,f)&&b.G==3){try{var C=b.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var V=C;if(V[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)ff(b),uf(b);else break e;tg(b),nn(18)}}else b.za=V[1],0<b.za-b.T&&37500>V[2]&&b.F&&b.v==0&&!b.C&&(b.C=bl(h(b.Za,b),6e3));if(1>=VE(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Fo(b,11)}else if((f.K||b.g==f)&&ff(b),!E(g))for(V=b.Da.g.parse(g),g=0;g<V.length;g++){let _e=V[g];if(b.T=_e[0],_e=_e[1],b.G==2)if(_e[0]=="c"){b.K=_e[1],b.ia=_e[2];const zt=_e[3];zt!=null&&(b.la=zt,b.j.info("VER="+b.la));const Wt=_e[4];Wt!=null&&(b.Aa=Wt,b.j.info("SVER="+b.Aa));const Ba=_e[5];Ba!=null&&typeof Ba=="number"&&0<Ba&&(C=1.5*Ba,b.L=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const nr=f.g;if(nr){const hf=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hf){var F=C.h;F.g||hf.indexOf("spdy")==-1&&hf.indexOf("quic")==-1&&hf.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Jm(F,F.h),F.h=null))}if(C.D){const rg=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;rg&&(C.ya=rg,Ne(C.I,C.D,rg))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),C=b;var G=f;if(C.qa=cx(C,C.J?C.ia:null,C.W),G.K){UE(C.h,G);var Oe=G,It=C.L;It&&(Oe.I=It),Oe.B&&(Ym(Oe),tf(Oe)),C.g=G}else ox(C);0<b.i.length&&cf(b)}else _e[0]!="stop"&&_e[0]!="close"||Fo(b,7);else b.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Fo(b,7):eg(b):_e[0]!="noop"&&b.l&&b.l.ta(_e),b.v=0)}}wl(4)}catch{}}var tV=class{constructor(f,g){this.g=f,this.map=g}};function ME(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LE(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function VE(f){return f.h?1:f.g?f.g.size:0}function Xm(f,g){return f.h?f.h==g:f.g?f.g.has(g):!1}function Jm(f,g){f.g?f.g.add(g):f.h=g}function UE(f,g){f.h&&f.h==g?f.h=null:f.g&&f.g.has(g)&&f.g.delete(g)}ME.prototype.cancel=function(){if(this.i=FE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function FE(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let g=f.i;for(const b of f.g.values())g=g.concat(b.D);return g}return _(f.i)}function nV(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var g=[],b=f.length,C=0;C<b;C++)g.push(f[C]);return g}g=[],b=0;for(C in f)g[b++]=f[C];return g}function rV(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var g=[];f=f.length;for(var b=0;b<f;b++)g.push(b);return g}g=[],b=0;for(const C in f)g[b++]=C;return g}}}function $E(f,g){if(f.forEach&&typeof f.forEach=="function")f.forEach(g,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,g,void 0);else for(var b=rV(f),C=nV(f),V=C.length,F=0;F<V;F++)g.call(void 0,C[F],b&&b[F],f)}var BE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function iV(f,g){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var C=f[b].indexOf("="),V=null;if(0<=C){var F=f[b].substring(0,C);V=f[b].substring(C+1)}else F=f[b];g(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Uo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Uo){this.h=f.h,nf(this,f.j),this.o=f.o,this.g=f.g,rf(this,f.s),this.l=f.l;var g=f.i,b=new Tl;b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),zE(this,b),this.m=f.m}else f&&(g=String(f).match(BE))?(this.h=!1,nf(this,g[1]||"",!0),this.o=Sl(g[2]||""),this.g=Sl(g[3]||"",!0),rf(this,g[4]),this.l=Sl(g[5]||"",!0),zE(this,g[6]||"",!0),this.m=Sl(g[7]||"")):(this.h=!1,this.i=new Tl(null,this.h))}Uo.prototype.toString=function(){var f=[],g=this.j;g&&f.push(Pl(g,WE,!0),":");var b=this.g;return(b||g=="file")&&(f.push("//"),(g=this.o)&&f.push(Pl(g,WE,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(Pl(b,b.charAt(0)=="/"?sV:aV,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",Pl(b,uV)),f.join("")};function Gr(f){return new Uo(f)}function nf(f,g,b){f.j=b?Sl(g,!0):g,f.j&&(f.j=f.j.replace(/:$/,""))}function rf(f,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);f.s=g}else f.s=null}function zE(f,g,b){g instanceof Tl?(f.i=g,cV(f.i,f.h)):(b||(g=Pl(g,lV)),f.i=new Tl(g,f.h))}function Ne(f,g,b){f.i.set(g,b)}function of(f){return Ne(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Sl(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Pl(f,g,b){return typeof f=="string"?(f=encodeURI(f).replace(g,oV),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function oV(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var WE=/[#\/\?@]/g,aV=/[#\?:]/g,sV=/[#\?]/g,lV=/[#\?@]/g,uV=/#/g;function Tl(f,g){this.h=this.g=null,this.i=f||null,this.j=!!g}function Ui(f){f.g||(f.g=new Map,f.h=0,f.i&&iV(f.i,function(g,b){f.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}e=Tl.prototype,e.add=function(f,g){Ui(this),this.i=null,f=Fa(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(g),this.h+=1,this};function KE(f,g){Ui(f),g=Fa(f,g),f.g.has(g)&&(f.i=null,f.h-=f.g.get(g).length,f.g.delete(g))}function HE(f,g){return Ui(f),g=Fa(f,g),f.g.has(g)}e.forEach=function(f,g){Ui(this),this.g.forEach(function(b,C){b.forEach(function(V){f.call(g,V,C,this)},this)},this)},e.na=function(){Ui(this);const f=Array.from(this.g.values()),g=Array.from(this.g.keys()),b=[];for(let C=0;C<g.length;C++){const V=f[C];for(let F=0;F<V.length;F++)b.push(g[C])}return b},e.V=function(f){Ui(this);let g=[];if(typeof f=="string")HE(this,f)&&(g=g.concat(this.g.get(Fa(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)g=g.concat(f[b])}return g},e.set=function(f,g){return Ui(this),this.i=null,f=Fa(this,f),HE(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[g]),this.h+=1,this},e.get=function(f,g){return f?(f=this.V(f),0<f.length?String(f[0]):g):g};function qE(f,g,b){KE(f,g),0<b.length&&(f.i=null,f.g.set(Fa(f,g),_(b)),f.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],g=Array.from(this.g.keys());for(var b=0;b<g.length;b++){var C=g[b];const F=encodeURIComponent(String(C)),G=this.V(C);for(C=0;C<G.length;C++){var V=F;G[C]!==""&&(V+="="+encodeURIComponent(String(G[C]))),f.push(V)}}return this.i=f.join("&")};function Fa(f,g){return g=String(g),f.j&&(g=g.toLowerCase()),g}function cV(f,g){g&&!f.j&&(Ui(f),f.i=null,f.g.forEach(function(b,C){var V=C.toLowerCase();C!=V&&(KE(this,C),qE(this,V,b))},f)),f.j=g}function fV(f,g){const b=new El;if(s.Image){const C=new Image;C.onload=p(Fi,b,"TestLoadImage: loaded",!0,g,C),C.onerror=p(Fi,b,"TestLoadImage: error",!1,g,C),C.onabort=p(Fi,b,"TestLoadImage: abort",!1,g,C),C.ontimeout=p(Fi,b,"TestLoadImage: timeout",!1,g,C),s.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else g(!1)}function dV(f,g){const b=new El,C=new AbortController,V=setTimeout(()=>{C.abort(),Fi(b,"TestPingServer: timeout",!1,g)},1e4);fetch(f,{signal:C.signal}).then(F=>{clearTimeout(V),F.ok?Fi(b,"TestPingServer: ok",!0,g):Fi(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),Fi(b,"TestPingServer: error",!1,g)})}function Fi(f,g,b,C,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),C(b)}catch{}}function hV(){this.g=new YL}function pV(f,g,b){const C=b||"";try{$E(f,function(V,F){let G=V;u(V)&&(G=Bm(V)),g.push(C+F+"="+encodeURIComponent(G))})}catch(V){throw g.push(C+"type="+encodeURIComponent("_badmap")),V}}function af(f){this.l=f.Ub||null,this.j=f.eb||!1}m(af,zm),af.prototype.g=function(){return new sf(this.l,this.j)},af.prototype.i=function(f){return function(){return f}}({});function sf(f,g){Bt.call(this),this.D=f,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(sf,Bt),e=sf.prototype,e.open=function(f,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=g,this.readyState=1,Al(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(g.body=f),(this.D||s).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Il(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Al(this)),this.g&&(this.readyState=3,Al(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;GE(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function GE(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var g=f.value?f.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!f.done}))&&(this.response=this.responseText+=g)}f.done?Il(this):Al(this),this.readyState==3&&GE(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,Il(this))},e.Qa=function(f){this.g&&(this.response=f,Il(this))},e.ga=function(){this.g&&Il(this)};function Il(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Al(f)}e.setRequestHeader=function(f,g){this.u.append(f,g)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=g.next();return f.join(`\r
`)};function Al(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function YE(f){let g="";return R(f,function(b,C){g+=C,g+=":",g+=b,g+=`\r
`}),g}function Zm(f,g,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=YE(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Ne(f,g,b))}function Ye(f){Bt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Ye,Bt);var mV=/^https?$/i,gV=["POST","PUT"];e=Ye.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,g,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);g=g?g.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hm.g(),this.v=this.o?SE(this.o):SE(Hm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(g,String(f),!0),this.B=!1}catch(F){QE(this,F);return}if(f=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var V in C)b.set(V,C[V]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())b.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),V=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(gV,g,void 0))||C||V||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of b)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ZE(this),this.u=!0,this.g.send(f),this.u=!1}catch(F){QE(this,F)}};function QE(f,g){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=g,f.m=5,XE(f),lf(f)}function XE(f){f.A||(f.A=!0,tn(f,"complete"),tn(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,tn(this,"complete"),tn(this,"abort"),lf(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lf(this,!0)),Ye.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?JE(this):this.bb())},e.bb=function(){JE(this)};function JE(f){if(f.h&&typeof a<"u"&&(!f.v[1]||Yr(f)!=4||f.Z()!=2)){if(f.u&&Yr(f)==4)wE(f.Ea,0,f);else if(tn(f,"readystatechange"),Yr(f)==4){f.h=!1;try{const G=f.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var C;if(C=G===0){var V=String(f.D).match(BE)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),C=!mV.test(V?V.toLowerCase():"")}b=C}if(b)tn(f,"complete"),tn(f,"success");else{f.m=6;try{var F=2<Yr(f)?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.Z()+"]",XE(f)}}finally{lf(f)}}}}function lf(f,g){if(f.g){ZE(f);const b=f.g,C=f.v[0]?()=>{}:null;f.g=null,f.v=null,g||tn(f,"ready");try{b.onreadystatechange=C}catch{}}}function ZE(f){f.I&&(s.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Yr(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var g=this.g.responseText;return f&&g.indexOf(f)==0&&(g=g.substring(f.length)),GL(g)}};function ex(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function vV(f){const g={};f=(f.g&&2<=Yr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(E(f[C]))continue;var b=D(f[C]);const V=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=g[V]||[];g[V]=F,F.push(b)}T(g,function(C){return C.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ol(f,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||g}function tx(f){this.Aa=0,this.i=[],this.j=new El,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ol("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ol("baseRetryDelayMs",5e3,f),this.cb=Ol("retryDelaySeedMs",1e4,f),this.Wa=Ol("forwardChannelMaxRetries",2,f),this.wa=Ol("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ME(f&&f.concurrentRequestLimit),this.Da=new hV,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=tx.prototype,e.la=8,e.G=1,e.connect=function(f,g,b,C){nn(0),this.W=f,this.H=g||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.I=cx(this,null,this.W),cf(this)};function eg(f){if(nx(f),f.G==3){var g=f.U++,b=Gr(f.I);if(Ne(b,"SID",f.K),Ne(b,"RID",g),Ne(b,"TYPE","terminate"),Cl(f,b),g=new Vi(f,f.j,g),g.L=2,g.v=of(Gr(b)),b=!1,s.navigator&&s.navigator.sendBeacon)try{b=s.navigator.sendBeacon(g.v.toString(),"")}catch{}!b&&s.Image&&(new Image().src=g.v,b=!0),b||(g.g=fx(g.j,null),g.g.ea(g.v)),g.F=Date.now(),tf(g)}ux(f)}function uf(f){f.g&&(ng(f),f.g.cancel(),f.g=null)}function nx(f){uf(f),f.u&&(s.clearTimeout(f.u),f.u=null),ff(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function cf(f){if(!LE(f.h)&&!f.s){f.s=!0;var g=f.Ga;ie||$(),L||(ie(),L=!0),M.add(g,f),f.B=0}}function yV(f,g){return VE(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=g.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=bl(h(f.Ga,f,g),lx(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const V=new Vi(this,this.j,f);let F=this.o;if(this.S&&(F?(F=P(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=ix(this,V,g),b=Gr(this.I),Ne(b,"RID",f),Ne(b,"CVER",22),this.D&&Ne(b,"X-HTTP-Session-Id",this.D),Cl(this,b),F&&(this.O?g="headers="+encodeURIComponent(String(YE(F)))+"&"+g:this.m&&Zm(b,this.m,F)),Jm(this.h,V),this.Ua&&Ne(b,"TYPE","init"),this.P?(Ne(b,"$req",g),Ne(b,"SID","null"),V.T=!0,Gm(V,b,null)):Gm(V,b,g),this.G=2}}else this.G==3&&(f?rx(this,f):this.i.length==0||LE(this.h)||rx(this))};function rx(f,g){var b;g?b=g.l:b=f.U++;const C=Gr(f.I);Ne(C,"SID",f.K),Ne(C,"RID",b),Ne(C,"AID",f.T),Cl(f,C),f.m&&f.o&&Zm(C,f.m,f.o),b=new Vi(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),g&&(f.i=g.D.concat(f.i)),g=ix(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Jm(f.h,b),Gm(b,C,g)}function Cl(f,g){f.H&&R(f.H,function(b,C){Ne(g,C,b)}),f.l&&$E({},function(b,C){Ne(g,C,b)})}function ix(f,g,b){b=Math.min(f.i.length,b);var C=f.l?h(f.l.Na,f.l,f):null;e:{var V=f.i;let F=-1;for(;;){const G=["count="+b];F==-1?0<b?(F=V[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Oe=!0;for(let It=0;It<b;It++){let _e=V[It].g;const zt=V[It].map;if(_e-=F,0>_e)F=Math.max(0,V[It].g-100),Oe=!1;else try{pV(zt,G,"req"+_e+"_")}catch{C&&C(zt)}}if(Oe){C=G.join("&");break e}}}return f=f.i.splice(0,b),g.D=f,C}function ox(f){if(!f.g&&!f.u){f.Y=1;var g=f.Fa;ie||$(),L||(ie(),L=!0),M.add(g,f),f.v=0}}function tg(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=bl(h(f.Fa,f),lx(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,ax(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=bl(h(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),uf(this),ax(this))};function ng(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function ax(f){f.g=new Vi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var g=Gr(f.qa);Ne(g,"RID","rpc"),Ne(g,"SID",f.K),Ne(g,"AID",f.T),Ne(g,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ne(g,"TO",f.ja),Ne(g,"TYPE","xmlhttp"),Cl(f,g),f.m&&f.o&&Zm(g,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=of(Gr(g)),b.m=null,b.P=!0,NE(b,f)}e.Za=function(){this.C!=null&&(this.C=null,uf(this),tg(this),nn(19))};function ff(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function sx(f,g){var b=null;if(f.g==g){ff(f),ng(f),f.g=null;var C=2}else if(Xm(f.h,g))b=g.D,UE(f.h,g),C=1;else return;if(f.G!=0){if(g.o)if(C==1){b=g.m?g.m.length:0,g=Date.now()-g.F;var V=f.B;C=Jc(),tn(C,new OE(C,b)),cf(f)}else ox(f);else if(V=g.s,V==3||V==0&&0<g.X||!(C==1&&yV(f,g)||C==2&&tg(f)))switch(b&&0<b.length&&(g=f.h,g.i=g.i.concat(b)),V){case 1:Fo(f,5);break;case 4:Fo(f,10);break;case 3:Fo(f,6);break;default:Fo(f,2)}}}function lx(f,g){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*g}function Fo(f,g){if(f.j.info("Error code "+g),g==2){var b=h(f.fb,f),C=f.Xa;const V=!C;C=new Uo(C||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||nf(C,"https"),of(C),V?fV(C.toString(),b):dV(C.toString(),b)}else nn(2);f.G=0,f.l&&f.l.sa(g),ux(f),nx(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function ux(f){if(f.G=0,f.ka=[],f.l){const g=FE(f.h);(g.length!=0||f.i.length!=0)&&(v(f.ka,g),v(f.ka,f.i),f.h.i.length=0,_(f.i),f.i.length=0),f.l.ra()}}function cx(f,g,b){var C=b instanceof Uo?Gr(b):new Uo(b);if(C.g!="")g&&(C.g=g+"."+C.g),rf(C,C.s);else{var V=s.location;C=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;var F=new Uo(null);C&&nf(F,C),g&&(F.g=g),V&&rf(F,V),b&&(F.l=b),C=F}return b=f.D,g=f.ya,b&&g&&Ne(C,b,g),Ne(C,"VER",f.la),Cl(f,C),C}function fx(f,g,b){if(g&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=f.Ca&&!f.pa?new Ye(new af({eb:b})):new Ye(f.pa),g.Ha(f.J),g}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function dx(){}e=dx.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function df(){}df.prototype.g=function(f,g){return new Sn(f,g)};function Sn(f,g){Bt.call(this),this.g=new tx(g),this.l=f,this.h=g&&g.messageUrlParams||null,f=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(f?f["X-WebChannel-Content-Type"]=g.messageContentType:f={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(f?f["X-WebChannel-Client-Profile"]=g.va:f={"X-WebChannel-Client-Profile":g.va}),this.g.S=f,(f=g&&g.Sb)&&!E(f)&&(this.g.m=f),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!E(g)&&(this.g.D=g,f=this.h,f!==null&&g in f&&(f=this.h,g in f&&delete f[g])),this.j=new $a(this)}m(Sn,Bt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){eg(this.g)},Sn.prototype.o=function(f){var g=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Bm(f),f=b);g.i.push(new tV(g.Ya++,f)),g.G==3&&cf(g)},Sn.prototype.N=function(){this.g.l=null,delete this.j,eg(this.g),delete this.g,Sn.aa.N.call(this)};function hx(f){Wm.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var g=f.__sm__;if(g){e:{for(const b in g){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,g=g!==null&&f in g?g[f]:void 0),this.data=g}else this.data=f}m(hx,Wm);function px(){Km.call(this),this.status=1}m(px,Km);function $a(f){this.g=f}m($a,dx),$a.prototype.ua=function(){tn(this.g,"a")},$a.prototype.ta=function(f){tn(this.g,new hx(f))},$a.prototype.sa=function(f){tn(this.g,new px)},$a.prototype.ra=function(){tn(this.g,"b")},df.prototype.createWebChannel=df.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,Xk=function(){return new df},Qk=function(){return Jc()},Yk=Lo,wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,gd=Zc,CE.COMPLETE="complete",Gk=CE,PE.EventType=_l,_l.OPEN="a",_l.CLOSE="b",_l.ERROR="c",_l.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,eu=PE,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,qk=Ye}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});const sP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new j_("@firebase/firestore");function Ul(){return wa.logLevel}function Z(e,...t){if(wa.logLevel<=ge.DEBUG){const n=t.map(Y_);wa.debug(`Firestore (${tl}): ${e}`,...n)}}function yi(e,...t){if(wa.logLevel<=ge.ERROR){const n=t.map(Y_);wa.error(`Firestore (${tl}): ${e}`,...n)}}function Ds(e,...t){if(wa.logLevel<=ge.WARN){const n=t.map(Y_);wa.warn(`Firestore (${tl}): ${e}`,...n)}}function Y_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e="Unexpected state"){const t=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: `+e;throw yi(t),new Error(t)}function Te(e,t){e||le()}function ce(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Hr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class C3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class k3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R3{constructor(t){this.t=t,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Te(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new aa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new aa,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new aa)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Jk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Te(t===null||typeof t=="string"),new Yt(t)}}class N3{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class D3{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new N3(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j3{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M3{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){Te(this.o===void 0);const r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new j3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=L3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function we(e,t){return e<t?-1:e>t?1:0}function js(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return dt.fromMillis(Date.now())}static fromDate(t){return dt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?we(this.nanoseconds,t.nanoseconds):we(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ue(t)}static min(){return new ue(new dt(0,0))}static max(){return new ue(new dt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,n,r){n===void 0?n=0:n>t.length&&le(),r===void 0?r=t.length-n:r>t.length-n&&le(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Wu.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Wu?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Me extends Wu{construct(t,n,r){return new Me(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const V3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Wu{construct(t,n,r){return new Rt(t,n,r)}static isValidIdentifier(t){return V3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(t){this.path=t}static fromPath(t){return new te(Me.fromString(t))}static fromName(t){return new te(Me.fromString(t).popFirst(5))}static empty(){return new te(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new te(new Me(t.slice()))}}function U3(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new xo(i,te.empty(),t)}function F3(e){return new xo(e.readTime,e.key,-1)}class xo{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(ue.min(),te.empty(),-1)}static max(){return new xo(ue.max(),te.empty(),-1)}}function $3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=te.comparator(e.documentKey,t.documentKey),n!==0?n:we(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==B3)throw e;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new W((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):W.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):W.reject(n)}static resolve(t){return new W((n,r)=>{n(t)})}static reject(t){return new W((n,r)=>{r(t)})}static waitFor(t){return new W((n,r)=>{let i=0,o=0,a=!1;t.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(t){let n=W.resolve(!1);for(const r of t)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new W((r,i)=>{const o=t.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(t,n){return new W((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function W3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Q_.oe=-1;function Np(e){return e==null}function lh(e){return e===0&&1/e==-1/0}function K3(e){return typeof e=="number"&&Number.isInteger(e)&&!lh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function nl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function eR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,n){this.comparator=t,this.root=n||kt.EMPTY}insert(t,n){return new qe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nf(this.root,t,this.comparator,!0)}}class Nf{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??kt.RED,this.left=i??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new kt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return kt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const t=this.left.check();if(t!==this.right.check())throw le();return t+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,n,r,i,o){return this}insert(t,n,r){return new kt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new uP(this.data.getIterator())}getIteratorFrom(t){return new uP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof jt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new jt(this.comparator);return n.data=t,n}}class uP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(t){this.fields=t,t.sort(Rt.comparator)}static empty(){return new cr([])}unionWith(t){let n=new jt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new cr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return js(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tR("Invalid base64 string: "+o):o}}(t);return new Vt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(t);return new Vt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return we(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const H3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(e){if(Te(!!e),typeof e=="string"){let t=0;const n=H3.exec(e);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tt(e.seconds),nanos:tt(e.nanos)}}function tt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ba(e){return typeof e=="string"?Vt.fromBase64String(e):Vt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function J_(e){const t=e.mapValue.fields.__previous_value__;return X_(t)?J_(t):t}function Ku(e){const t=So(e.mapValue.fields.__local_write_time__.timestampValue);return new dt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(t,n,r,i,o,a,s,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Hu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Hu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df={mapValue:{}};function Ea(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?X_(e)?4:Y3(e)?9007199254740991:G3(e)?10:11:le()}function $r(e,t){if(e===t)return!0;const n=Ea(e);if(n!==Ea(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ku(e).isEqual(Ku(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=So(i.timestampValue),s=So(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return ba(i.bytesValue).isEqual(ba(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=tt(i.doubleValue),s=tt(o.doubleValue);return a===s?lh(a)===lh(s):isNaN(a)&&isNaN(s)}return!1}(e,t);case 9:return js(e.arrayValue.values||[],t.arrayValue.values||[],$r);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(lP(a)!==lP(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!$r(a[l],s[l])))return!1;return!0}(e,t);default:return le()}}function qu(e,t){return(e.values||[]).find(n=>$r(n,t))!==void 0}function Ms(e,t){if(e===t)return 0;const n=Ea(e),r=Ea(t);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(e.booleanValue,t.booleanValue);case 2:return function(o,a){const s=tt(o.integerValue||o.doubleValue),l=tt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return cP(e.timestampValue,t.timestampValue);case 4:return cP(Ku(e),Ku(t));case 5:return we(e.stringValue,t.stringValue);case 6:return function(o,a){const s=ba(o),l=ba(a);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=we(s[u],l[u]);if(c!==0)return c}return we(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,a){const s=we(tt(o.latitude),tt(a.latitude));return s!==0?s:we(tt(o.longitude),tt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return fP(e.arrayValue,t.arrayValue);case 10:return function(o,a){var s,l,u,c;const d=o.fields||{},h=a.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,m=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=we(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:fP(p,m)}(e.mapValue,t.mapValue);case 11:return function(o,a){if(o===Df.mapValue&&a===Df.mapValue)return 0;if(o===Df.mapValue)return 1;if(a===Df.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=we(l[d],c[d]);if(h!==0)return h;const p=Ms(s[l[d]],u[c[d]]);if(p!==0)return p}return we(l.length,c.length)}(e.mapValue,t.mapValue);default:throw le()}}function cP(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return we(e,t);const n=So(e),r=So(t),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function fP(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ms(n[i],r[i]);if(o)return o}return we(n.length,r.length)}function Ls(e){return by(e)}function by(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=So(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ba(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return te.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=by(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${by(n.fields[a])}`;return i+"}"}(e.mapValue):le()}function dP(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ey(e){return!!e&&"integerValue"in e}function Z_(e){return!!e&&"arrayValue"in e}function hP(e){return!!e&&"nullValue"in e}function pP(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function vd(e){return!!e&&"mapValue"in e}function G3(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return nl(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=vu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Y3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.value=t}static empty(){return new qn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!vd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vu(n)}setAll(t){let n=Rt.emptyPath(),r={},i=[];t.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=vu(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return $r(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];vd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){nl(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new qn(vu(this.value))}}function nR(e){const t=[];return nl(e.fields,(n,r)=>{const i=new Rt([n]);if(vd(r)){const o=nR(r.mapValue).fields;if(o.length===0)t.push(i);else for(const a of o)t.push(i.child(a))}else t.push(i)}),new cr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,n,r,i,o,a,s){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(t){return new Xt(t,0,ue.min(),ue.min(),ue.min(),qn.empty(),0)}static newFoundDocument(t,n,r,i){return new Xt(t,1,n,ue.min(),r,i,0)}static newNoDocument(t,n){return new Xt(t,2,n,ue.min(),ue.min(),qn.empty(),0)}static newUnknownDocument(t,n){return new Xt(t,3,n,ue.min(),ue.min(),qn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n){this.position=t,this.inclusive=n}}function mP(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(a.referenceValue),n.key):r=Ms(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function gP(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!$r(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n="asc"){this.field=t,this.dir=n}}function Q3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{}class at extends rR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new J3(t,n,r):n==="array-contains"?new t6(t,r):n==="in"?new n6(t,r):n==="not-in"?new r6(t,r):n==="array-contains-any"?new i6(t,r):new at(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Z3(t,r):new e6(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ms(n,this.value)):n!==null&&Ea(this.value)===Ea(n)&&this.matchesComparison(Ms(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends rR{constructor(t,n){super(),this.filters=t,this.op=n,this.ae=null}static create(t,n){return new vr(t,n)}matches(t){return iR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function iR(e){return e.op==="and"}function oR(e){return X3(e)&&iR(e)}function X3(e){for(const t of e.filters)if(t instanceof vr)return!1;return!0}function xy(e){if(e instanceof at)return e.field.canonicalString()+e.op.toString()+Ls(e.value);if(oR(e))return e.filters.map(t=>xy(t)).join(",");{const t=e.filters.map(n=>xy(n)).join(",");return`${e.op}(${t})`}}function aR(e,t){return e instanceof at?function(r,i){return i instanceof at&&r.op===i.op&&r.field.isEqual(i.field)&&$r(r.value,i.value)}(e,t):e instanceof vr?function(r,i){return i instanceof vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&aR(a,i.filters[s]),!0):!1}(e,t):void le()}function sR(e){return e instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${Ls(n.value)}`}(e):e instanceof vr?function(n){return n.op.toString()+" {"+n.getFilters().map(sR).join(" ,")+"}"}(e):"Filter"}class J3 extends at{constructor(t,n,r){super(t,n,r),this.key=te.fromName(r.referenceValue)}matches(t){const n=te.comparator(t.key,this.key);return this.matchesComparison(n)}}class Z3 extends at{constructor(t,n){super(t,"in",n),this.keys=lR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class e6 extends at{constructor(t,n){super(t,"not-in",n),this.keys=lR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lR(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class t6 extends at{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Z_(n)&&qu(n.arrayValue,this.value)}}class n6 extends at{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class r6 extends at{constructor(t,n){super(t,"not-in",n)}matches(t){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!qu(this.value.arrayValue,n)}}class i6 extends at{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(t,n=null,r=[],i=[],o=null,a=null,s=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function vP(e,t=null,n=[],r=[],i=null,o=null,a=null){return new o6(e,t,n,r,i,o,a)}function ew(e){const t=ce(e);if(t.ue===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>xy(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Np(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Ls(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Ls(r)).join(",")),t.ue=n}return t.ue}function tw(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Q3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!aR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gP(e.startAt,t.startAt)&&gP(e.endAt,t.endAt)}function Sy(e){return te.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function a6(e,t,n,r,i,o,a,s){return new rl(e,t,n,r,i,o,a,s)}function nw(e){return new rl(e)}function yP(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function uR(e){return e.collectionGroup!==null}function yu(e){const t=ce(e);if(t.ce===null){t.ce=[];const n=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),n.add(o.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new jt(Rt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Gu(o,r))}),n.has(Rt.keyField().canonicalString())||t.ce.push(new Gu(Rt.keyField(),r))}return t.ce}function Mr(e){const t=ce(e);return t.le||(t.le=s6(t,yu(e))),t.le}function s6(e,t){if(e.limitType==="F")return vP(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Gu(i.field,o)});const n=e.endAt?new uh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new uh(e.startAt.position,e.startAt.inclusive):null;return vP(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Py(e,t){const n=e.filters.concat([t]);return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ty(e,t,n){return new rl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Dp(e,t){return tw(Mr(e),Mr(t))&&e.limitType===t.limitType}function cR(e){return`${ew(Mr(e))}|lt:${e.limitType}`}function Ya(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sR(i)).join(", ")}]`),Np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ls(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ls(i)).join(",")),`Target(${r})`}(Mr(e))}; limitType=${e.limitType})`}function jp(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of yu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=mP(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,yu(r),i)||r.endAt&&!function(a,s,l){const u=mP(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,yu(r),i))}(e,t)}function l6(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fR(e){return(t,n)=>{let r=!1;for(const i of yu(e)){const o=u6(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function u6(e,t,n){const r=e.field.isKeyField()?te.comparator(t.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ms(l,u):le()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){nl(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return eR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=new qe(te.comparator);function _i(){return c6}const dR=new qe(te.comparator);function tu(...e){let t=dR;for(const n of e)t=t.insert(n.key,n);return t}function hR(e){let t=dR;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Jo(){return _u()}function pR(){return _u()}function _u(){return new il(e=>e.toString(),(e,t)=>e.isEqual(t))}const f6=new qe(te.comparator),d6=new jt(te.comparator);function me(...e){let t=d6;for(const n of e)t=t.add(n);return t}const h6=new jt(we);function p6(){return h6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(t)?"-0":t}}function mR(e){return{integerValue:""+e}}function m6(e,t){return K3(t)?mR(t):rw(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this._=void 0}}function g6(e,t,n){return e instanceof ch?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&X_(o)&&(o=J_(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,t):e instanceof Yu?vR(e,t):e instanceof Qu?yR(e,t):function(i,o){const a=gR(i,o),s=_P(a)+_P(i.Pe);return Ey(a)&&Ey(i.Pe)?mR(s):rw(i.serializer,s)}(e,t)}function v6(e,t,n){return e instanceof Yu?vR(e,t):e instanceof Qu?yR(e,t):n}function gR(e,t){return e instanceof fh?function(r){return Ey(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class ch extends Mp{}class Yu extends Mp{constructor(t){super(),this.elements=t}}function vR(e,t){const n=_R(t);for(const r of e.elements)n.some(i=>$r(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qu extends Mp{constructor(t){super(),this.elements=t}}function yR(e,t){let n=_R(t);for(const r of e.elements)n=n.filter(i=>!$r(i,r));return{arrayValue:{values:n}}}class fh extends Mp{constructor(t,n){super(),this.serializer=t,this.Pe=n}}function _P(e){return tt(e.integerValue||e.doubleValue)}function _R(e){return Z_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function y6(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Yu&&i instanceof Yu||r instanceof Qu&&i instanceof Qu?js(r.elements,i.elements,$r):r instanceof fh&&i instanceof fh?$r(r.Pe,i.Pe):r instanceof ch&&i instanceof ch}(e.transform,t.transform)}class _6{constructor(t,n){this.version=t,this.transformResults=n}}class Lr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Lr}static exists(t){return new Lr(void 0,t)}static updateTime(t){return new Lr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Lp{}function wR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new iw(e.key,Lr.none()):new Ic(e.key,e.data,Lr.none());{const n=e.data,r=qn.empty();let i=new jt(Rt.comparator);for(let o of t.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new Da(e.key,r,new cr(i.toArray()),Lr.none())}}function w6(e,t,n){e instanceof Ic?function(i,o,a){const s=i.value.clone(),l=bP(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(e,t,n):e instanceof Da?function(i,o,a){if(!yd(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=bP(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll(bR(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function wu(e,t,n,r){return e instanceof Ic?function(o,a,s,l){if(!yd(o.precondition,a))return s;const u=o.value.clone(),c=EP(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof Da?function(o,a,s,l){if(!yd(o.precondition,a))return s;const u=EP(o.fieldTransforms,l,a),c=a.data;return c.setAll(bR(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,a,s){return yd(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(e,t,n)}function b6(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=gR(r.transform,i||null);o!=null&&(n===null&&(n=qn.empty()),n.set(r.field,o))}return n||null}function wP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&js(r,i,(o,a)=>y6(o,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ic extends Lp{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Da extends Lp{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function bP(e,t,n){const r=new Map;Te(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,v6(a,s,n[i]))}return r}function EP(e,t,n){const r=new Map;for(const i of e){const o=i.transform,a=n.data.field(i.field);r.set(i.field,g6(o,a,t))}return r}class iw extends Lp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E6 extends Lp{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&w6(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=wu(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=wu(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=pR();return this.mutations.forEach(i=>{const o=t.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=wR(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),me())}isEqual(t){return this.batchId===t.batchId&&js(this.mutations,t.mutations,(n,r)=>wP(n,r))&&js(this.baseMutations,t.baseMutations,(n,r)=>wP(n,r))}}class ow{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Te(t.mutations.length===r.length);let i=function(){return f6}();const o=t.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new ow(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,ve;function T6(e){switch(e){default:return le();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function ER(e){if(e===void 0)return yi("GRPC error has no .code"),B.UNKNOWN;switch(e){case it.OK:return B.OK;case it.CANCELLED:return B.CANCELLED;case it.UNKNOWN:return B.UNKNOWN;case it.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case it.INTERNAL:return B.INTERNAL;case it.UNAVAILABLE:return B.UNAVAILABLE;case it.UNAUTHENTICATED:return B.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case it.NOT_FOUND:return B.NOT_FOUND;case it.ALREADY_EXISTS:return B.ALREADY_EXISTS;case it.PERMISSION_DENIED:return B.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case it.ABORTED:return B.ABORTED;case it.OUT_OF_RANGE:return B.OUT_OF_RANGE;case it.UNIMPLEMENTED:return B.UNIMPLEMENTED;case it.DATA_LOSS:return B.DATA_LOSS;default:return le()}}(ve=it||(it={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=new oa([4294967295,4294967295],0);function xP(e){const t=I6().encode(e),n=new Hk;return n.update(t),new Uint8Array(n.digest())}function SP(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new oa([n,r],0),new oa([i,o],0)]}class aw{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(r<0)throw new nu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*t.length-n,this.Te=oa.fromNumber(this.Ie)}Ee(t,n,r){let i=t.add(n.multiply(oa.fromNumber(r)));return i.compare(A6)===1&&(i=new oa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const n=xP(t),[r,i]=SP(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),a=new aw(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(t){if(this.Ie===0)return;const n=xP(t),[r,i]=SP(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ac.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Vp(ue.min(),i,new qe(we),_i(),me())}}class Ac{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ac(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,n,r,i){this.Re=t,this.removedTargetIds=n,this.key=r,this.Ve=i}}class xR{constructor(t,n){this.targetId=t,this.me=n}}class SR{constructor(t,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PP{constructor(){this.fe=0,this.ge=IP(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=me(),n=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Ac(this.pe,this.ye,t,n,r)}Ce(){this.we=!1,this.ge=IP()}Fe(t,n){this.we=!0,this.ge=this.ge.insert(t,n)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class O6{constructor(t){this.Le=t,this.Be=new Map,this.ke=_i(),this.qe=TP(),this.Qe=new qe(we)}Ke(t){for(const n of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(n,t.Ve):this.Ue(n,t.key,t.Ve);for(const n of t.removedTargetIds)this.Ue(n,t.key,t.Ve)}We(t){this.forEachTarget(t,n=>{const r=this.Ge(n);switch(t.state){case 0:this.ze(n)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(t.resumeToken));break;default:le()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(t){const n=t.targetId,r=t.me.count,i=this.Je(n);if(i){const o=i.target;if(Sy(o))if(r===0){const a=new te(o.path);this.Ue(n,a,Xt.newNoDocument(a,ue.min()))}else Te(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(t),l=s?this.Xe(s,t,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(t){const n=t.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=ba(r).toUint8Array()}catch(l){if(l instanceof tR)return Ds("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new aw(a,i,o)}catch(l){return Ds(l instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(t,n,r){return n.me.count===r-this.nt(t,n.targetId)?0:2}nt(t,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;t.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(t){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&Sy(s.target)){const l=new te(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Xt.newNoDocument(l,t))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=me();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(t));const i=new Vp(t,n,this.Qe,this.ke,r);return this.ke=_i(),this.qe=TP(),this.Qe=new qe(we),i}$e(t,n){if(!this.ze(t))return;const r=this.it(t,n.key)?2:0;this.Ge(t).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(t))}Ue(t,n,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(t)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const n=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let n=this.Be.get(t);return n||(n=new PP,this.Be.set(t,n)),n}st(t){let n=this.qe.get(t);return n||(n=new jt(we),this.qe=this.qe.insert(t,n)),n}ze(t){const n=this.Je(t)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",t),n}Je(t){const n=this.Be.get(t);return n&&n.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new PP),this.Le.getRemoteKeysForTarget(t).forEach(n=>{this.Ue(t,n,null)})}it(t,n){return this.Le.getRemoteKeysForTarget(t).has(n)}}function TP(){return new qe(te.comparator)}function IP(){return new qe(te.comparator)}const C6={asc:"ASCENDING",desc:"DESCENDING"},k6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R6={and:"AND",or:"OR"};class N6{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Iy(e,t){return e.useProto3Json||Np(t)?t:{value:t}}function dh(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function D6(e,t){return dh(e,t.toTimestamp())}function Vr(e){return Te(!!e),ue.fromTimestamp(function(n){const r=So(n);return new dt(r.seconds,r.nanos)}(e))}function sw(e,t){return Ay(e,t).canonicalString()}function Ay(e,t){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function TR(e){const t=Me.fromString(e);return Te(kR(t)),t}function Oy(e,t){return sw(e.databaseId,t.path)}function Ug(e,t){const n=TR(t);if(n.get(1)!==e.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new te(AR(n))}function IR(e,t){return sw(e.databaseId,t)}function j6(e){const t=TR(e);return t.length===4?Me.emptyPath():AR(t)}function Cy(e){return new Me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function AR(e){return Te(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function AP(e,t,n){return{name:Oy(e,t),fields:n.value.mapValue.fields}}function M6(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Te(c===void 0||typeof c=="string"),Vt.fromBase64String(c||"")):(Te(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Vt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(u){const c=u.code===void 0?B.UNKNOWN:ER(u.code);return new J(c,u.message||"")}(a);n=new SR(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ug(e,r.document.name),o=Vr(r.document.updateTime),a=r.document.createTime?Vr(r.document.createTime):ue.min(),s=new qn({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new _d(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ug(e,r.document),o=r.readTime?Vr(r.readTime):ue.min(),a=Xt.newNoDocument(i,o),s=r.removedTargetIds||[];n=new _d([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ug(e,r.document),o=r.removedTargetIds||[];n=new _d([],o,i,null)}else{if(!("filter"in t))return le();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new P6(i,o),s=r.targetId;n=new xR(s,a)}}return n}function L6(e,t){let n;if(t instanceof Ic)n={update:AP(e,t.key,t.value)};else if(t instanceof iw)n={delete:Oy(e,t.key)};else if(t instanceof Da)n={update:AP(e,t.key,t.data),updateMask:H6(t.fieldMask)};else{if(!(t instanceof E6))return le();n={verify:Oy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof ch)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Yu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Qu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof fh)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw le()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:D6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(e,t.precondition)),n}function V6(e,t){return e&&e.length>0?(Te(t!==void 0),e.map(n=>function(i,o){let a=i.updateTime?Vr(i.updateTime):Vr(o);return a.isEqual(ue.min())&&(a=Vr(o)),new _6(a,i.transformResults||[])}(n,t))):[]}function U6(e,t){return{documents:[IR(e,t.path)]}}function F6(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=IR(e,i);const o=function(u){if(u.length!==0)return CR(vr.create(u,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Qa(h.field),direction:z6(h.dir)}}(c))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Iy(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:n,parent:i}}function $6(e){let t=j6(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=OR(d);return h instanceof vr&&oR(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(h=>function(m){return new Gu(Xa(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,Np(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new uh(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new uh(p,h)}(n.endAt)),a6(t,i,a,o,s,"F",l,u)}function B6(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function OR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xa(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xa(n.unaryFilter.field);return at.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xa(n.unaryFilter.field);return at.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Xa(n.unaryFilter.field);return at.create(a,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(e):e.fieldFilter!==void 0?function(n){return at.create(Xa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return vr.create(n.compositeFilter.filters.map(r=>OR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(e):le()}function z6(e){return C6[e]}function W6(e){return k6[e]}function K6(e){return R6[e]}function Qa(e){return{fieldPath:e.canonicalString()}}function Xa(e){return Rt.fromServerFormat(e.fieldPath)}function CR(e){return e instanceof at?function(n){if(n.op==="=="){if(pP(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(hP(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pP(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(hP(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:W6(n.op),value:n.value}}}(e):e instanceof vr?function(n){const r=n.getFilters().map(i=>CR(i));return r.length===1?r[0]:{compositeFilter:{op:K6(n.op),filters:r}}}(e):le()}function H6(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function kR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n,r,i,o=ue.min(),a=ue.min(),s=Vt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new ro(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(t){this.ct=t}}function G6(e){const t=$6({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ty(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.un=new Q6}addToCollectionParentIndex(t,n){return this.un.add(n),W.resolve()}getCollectionParents(t,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(t,n){return W.resolve()}deleteFieldIndex(t,n){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,n){return W.resolve()}getDocumentsMatchingTarget(t,n){return W.resolve(null)}getIndexType(t,n){return W.resolve(0)}getFieldIndexes(t,n){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,n){return W.resolve(xo.min())}getMinOffsetFromCollectionGroup(t,n){return W.resolve(xo.min())}updateCollectionGroup(t,n,r){return W.resolve()}updateIndexEntries(t,n){return W.resolve()}}class Q6{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new jt(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new jt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vs(0)}static kn(){return new Vs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(){this.changes=new il(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&wu(r.mutation,i,cr.empty(),dt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,me()).next(()=>r))}getLocalViewOfDocuments(t,n,r=me()){const i=Jo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let a=tu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Jo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,me()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(t,n,r,i){let o=_i();const a=_u(),s=function(){return _u()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Da)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),wu(c.mutation,u,c.mutation.getFieldMask(),dt.now())):a.set(u.key,cr.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var d;return s.set(u,new J6(c,(d=a.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(t,n){const r=_u();let i=new qe((a,s)=>a-s),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||cr.empty();c=s.applyToLocalView(u,c),r.set(l,c);const d=(i.get(s.batchId)||me()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=pR();c.forEach(h=>{if(!o.has(h)){const p=wR(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(t,u,d))}return W.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(a){return te.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):uR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):W.resolve(Jo());let s=-1,l=o;return a.next(u=>W.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),o.get(c)?W.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,me())).next(c=>({batchId:s,changes:hR(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new te(n)).next(r=>{let i=tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let a=tu();return this.indexManager.getCollectionParents(t,o).next(s=>W.forEach(s,l=>{const u=function(d,h){return new rl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,h)=>{a=a.insert(d,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Xt.newInvalidDocument(c)))});let s=tu();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&wu(c.mutation,u,cr.empty(),dt.now()),jp(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(t,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vr(i.createTime)}}(n)),W.resolve()}getNamedQuery(t,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(t,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:G6(i.bundledQuery),readTime:Vr(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(){this.overlays=new qe(te.comparator),this.Ir=new Map}getOverlay(t,n){return W.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jo();return W.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.ht(t,n,o)}),W.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(t,n,r){const i=Jo(),o=n.length+1,a=new te(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new qe((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Jo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Jo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return W.resolve(s)}ht(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new S6(n,r));let o=this.Ir.get(n);o===void 0&&(o=me(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.Tr=new jt(_t.Er),this.dr=new jt(_t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,n){const r=new _t(t,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Vr(new _t(t,n))}mr(t,n){t.forEach(r=>this.removeReference(r,n))}gr(t){const n=new te(new Me([])),r=new _t(n,t),i=new _t(n,t+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const n=new te(new Me([])),r=new _t(n,t),i=new _t(n,t+1);let o=me();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(t){const n=new _t(t,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class _t{constructor(t,n){this.key=t,this.wr=n}static Er(t,n){return te.comparator(t.key,n.key)||we(t.wr,n.wr)}static Ar(t,n){return we(t.wr,n.wr)||te.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new jt(_t.Er)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new x6(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new _t(s.key,o)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return W.resolve(a)}lookupMutationBatch(t,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new jt(we);return n.forEach(i=>{const o=new _t(i,0),a=new _t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const a=new _t(new te(o),0);let s=new jt(we);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),W.resolve(this.Cr(s))}Cr(t){const n=[];return t.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(n.mutations,i=>{const o=new _t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=r})}On(t){}containsKey(t,n){const r=new _t(n,0),i=this.br.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Fr(t,n){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const n=this.vr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(t){this.Mr=t,this.docs=function(){return new qe(te.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(t,n){let r=_i();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xt.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=_i();const a=n.path,s=new te(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||$3(F3(c),r)<=0||(i.has(c.key)||jp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(t,n,r,i){le()}Or(t,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new o9(this)}getSize(t){return W.resolve(this.size)}}class o9 extends X6{constructor(t){super(),this.cr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(t,i)):this.cr.removeEntry(r)}),W.waitFor(n)}getFromCache(t,n){return this.cr.getEntry(t,n)}getAllFromCache(t,n){return this.cr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(t){this.persistence=t,this.Nr=new il(n=>ew(n),tw),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lw,this.targetCount=0,this.kr=Vs.Bn()}forEachTarget(t,n){return this.Nr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(t){this.Nr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.kr=new Vs(n),this.highestTargetId=n),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(t,n){return this.Kn(n),W.resolve()}removeTargetData(t,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),W.waitFor(o).next(()=>i)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,n){const r=this.Nr.get(n)||null;return W.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Rr(n,r),W.resolve()}removeMatchingKeys(t,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(t,a))}),W.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.yr(n);return W.resolve(r)}containsKey(t,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(t,n){this.qr={},this.overlays={},this.Qr=new Q_(0),this.Kr=!1,this.Kr=!0,this.$r=new n9,this.referenceDelegate=t(this),this.Ur=new a9(this),this.indexManager=new Y6,this.remoteDocumentCache=function(i){return new i9(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new q6(n),this.Gr=new e9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new t9,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.qr[t.toKey()];return r||(r=new r9(n,this.referenceDelegate),this.qr[t.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,n,r){Z("MemoryPersistence","Starting transaction:",t);const i=new l9(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(t,n){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(t,n)))}}class l9 extends z3{constructor(t){super(),this.currentSequenceNumber=t}}class uw{constructor(t){this.persistence=t,this.Jr=new lw,this.Yr=null}static Zr(t){return new uw(t)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(t,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),W.resolve()}removeReference(t,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(t,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(t,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}zr(){this.Yr=new Set}jr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const i=te.fromPath(r);return this.ei(t,i).next(o=>{o||n.removeEntry(i,ue.min())})}).next(()=>(this.Yr=null,n.apply(t)))}updateLimboDocument(t,n){return this.ei(t,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(t){return 0}ei(t,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Hr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(t,n){let r=me(),i=me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new cw(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return f4()?8:W3(Zt())>0?6:4}()}initialize(t,n){this.Ji=t,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Yi(t,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(t,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new u9;return this.Xi(t,n,a).next(s=>{if(o.result=s,this.zi)return this.es(t,n,a,s.size)})}).next(()=>o.result)}es(t,n,r,i){return r.documentReadCount<this.ji?(Ul()<=ge.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(Ul()<=ge.DEBUG&&Z("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ul()<=ge.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mr(n))):W.resolve())}Yi(t,n){if(yP(n))return W.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ty(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const a=me(...o);return this.Ji.getDocuments(t,a).next(s=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(t,Ty(n,null,"F")):this.rs(t,u,n,l)}))})))}Zi(t,n,r,i){return yP(n)||i.isEqual(ue.min())?W.resolve(null):this.Ji.getDocuments(t,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?W.resolve(null):(Ul()<=ge.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(n)),this.rs(t,a,n,U3(i,-1)).next(s=>s))})}ts(t,n){let r=new jt(fR(t));return n.forEach((i,o)=>{jp(t,o)&&(r=r.add(o))}),r}ns(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(t,n,r){return Ul()<=ge.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.Ji.getDocumentsMatchingQuery(t,n,xo.min(),r)}rs(t,n,r,i){return this.Ji.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(t,n,r,i){this.persistence=t,this.ss=n,this.serializer=i,this.os=new qe(we),this._s=new il(o=>ew(o),tw),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(r)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Z6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.os))}}function d9(e,t,n,r){return new f9(e,t,n,r)}async function RR(e,t){const n=ce(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=me();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function h9(e,t){const n=ce(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let p=W.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(_=>{const v=u.docVersions.get(m);Te(v!==null),_.version.compareTo(v)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=me();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function NR(e){const t=ce(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ur.getLastRemoteSnapshotVersion(n))}function p9(e,t){const n=ce(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Vt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(_,v,w){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=_i(),u=me();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(m9(o,a,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(ue.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return W.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function m9(e,t,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let a=_i();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(ue.min())?(t.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),a=a.insert(s,l)):Z("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function g9(e,t){const n=ce(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function v9(e,t){const n=ce(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,t).next(o=>o?(i=o,W.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new ro(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(t,r.targetId)),r})}async function ky(e,t,n){const r=ce(e),i=r.os.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Tc(a))throw a;Z("LocalStore",`Failed to update sequence numbers for target ${t}: ${a}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function OP(e,t,n){const r=ce(e);let i=ue.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const d=ce(l),h=d._s.get(c);return h!==void 0?W.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,a,Mr(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,t,n?i:ue.min(),n?o:me())).next(s=>(y9(r,l6(t),s),{documents:s,Ts:o})))}function y9(e,t,n){let r=e.us.get(t)||ue.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.us.set(t,r)}class CP{constructor(){this.activeTargetIds=p6()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _9{constructor(){this.so=new CP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,n,r){this.oo[t]=n}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new CP,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf=null;function Fg(){return jf===null?jf=function(){return 268435456+Math.round(2147483648*Math.random())}():jf++,"0x"+jf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class x9 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=Fg(),l=this.xo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(Z("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Ds("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=b9[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,n,r,i){const o=Fg();return new Promise((a,s)=>{const l=new qk;l.setWithCredentials(!0),l.listenOnce(Gk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gd.NO_ERROR:const c=l.getResponseJson();Z(qt,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),a(c);break;case gd.TIMEOUT:Z(qt,`RPC '${t}' ${o} timed out`),s(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:const d=l.getStatus();if(Z(qt,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(p.status);s(new J(m,p.message))}else s(new J(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new J(B.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z(qt,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Z(qt,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(t,n,r){const i=Fg(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Xk(),s=Qk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Z(qt,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=a.createWebChannel(c,l);let h=!1,p=!1;const m=new E9({Io:v=>{p?Z(qt,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(h||(Z(qt,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),Z(qt,`RPC '${t}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),_=(v,w,E)=>{v.listen(w,S=>{try{E(S)}catch(I){setTimeout(()=>{throw I},0)}})};return _(d,eu.EventType.OPEN,()=>{p||(Z(qt,`RPC '${t}' stream ${i} transport opened.`),m.yo())}),_(d,eu.EventType.CLOSE,()=>{p||(p=!0,Z(qt,`RPC '${t}' stream ${i} transport closed`),m.So())}),_(d,eu.EventType.ERROR,v=>{p||(p=!0,Ds(qt,`RPC '${t}' stream ${i} transport errored:`,v),m.So(new J(B.UNAVAILABLE,"The operation could not be completed")))}),_(d,eu.EventType.MESSAGE,v=>{var w;if(!p){const E=v.data[0];Te(!!E);const S=E,I=S.error||((w=S[0])===null||w===void 0?void 0:w.error);if(I){Z(qt,`RPC '${t}' stream ${i} received error:`,I);const O=I.status;let R=function(A){const k=it[A];if(k!==void 0)return ER(k)}(O),T=I.message;R===void 0&&(R=B.INTERNAL,T="Unknown error status: "+O+" with message "+I.message),p=!0,m.So(new J(R,T)),d.close()}else Z(qt,`RPC '${t}' stream ${i} received:`,E),m.bo(E)}}),_(s,Yk.STAT_EVENT,v=>{v.stat===wy.PROXY?Z(qt,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===wy.NOPROXY&&Z(qt,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function $g(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(e){return new N6(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t,n,r=1e3,i=1.5,o=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,n,r,i,o,a,s,l){this.ui=t,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new DR(t,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(n)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{t(()=>{const i=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(t,n){const r=this.h_(this.Yo);this.stream=this.T_(t,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return Z("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return n=>{this.ui.enqueueAndForget(()=>this.Yo===t?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S9 extends jR{constructor(t,n,r,i,o,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(t,n){return this.connection.Bo("Listen",t,n)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const n=M6(this.serializer,t),r=function(o){if(!("targetChange"in o))return ue.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ue.min():a.readTime?Vr(a.readTime):ue.min()}(t);return this.listener.d_(n,r)}A_(t){const n={};n.database=Cy(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=Sy(l)?{documents:U6(o,l)}:{query:F6(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=PR(o,a.resumeToken);const u=Iy(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(ue.min())>0){s.readTime=dh(o,a.snapshotVersion.toTimestamp());const u=Iy(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const r=B6(this.serializer,t);r&&(n.labels=r),this.a_(n)}R_(t){const n={};n.database=Cy(this.serializer),n.removeTarget=t,this.a_(n)}}class P9 extends jR{constructor(t,n,r,i,o,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,n){return this.connection.Bo("Write",t,n)}E_(t){return Te(!!t.streamToken),this.lastStreamToken=t.streamToken,Te(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const n=V6(t.writeResults,t.commitTime),r=Vr(t.commitTime);return this.listener.g_(r,n)}p_(){const t={};t.database=Cy(this.serializer),this.a_(t)}m_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>L6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9 extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(t,Ay(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}Lo(t,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(t,Ay(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new J(B.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class I9{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yi(n),this.D_=!1):Z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{ja(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ce(l);u.L_.add(4),await Oc(u),u.q_.set("Unknown"),u.L_.delete(4),await Fp(u)}(this))})}),this.q_=new I9(r,i)}}async function Fp(e){if(ja(e))for(const t of e.B_)await t(!0)}async function Oc(e){for(const t of e.B_)await t(!1)}function MR(e,t){const n=ce(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),pw(n)?hw(n):ol(n).r_()&&dw(n,t))}function fw(e,t){const n=ce(e),r=ol(n);n.N_.delete(t),r.r_()&&LR(n,t),n.N_.size===0&&(r.r_()?r.o_():ja(n)&&n.q_.set("Unknown"))}function dw(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ue.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ol(e).A_(t)}function LR(e,t){e.Q_.xe(t),ol(e).R_(t)}function hw(e){e.Q_=new O6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ol(e).start(),e.q_.v_()}function pw(e){return ja(e)&&!ol(e).n_()&&e.N_.size>0}function ja(e){return ce(e).L_.size===0}function VR(e){e.Q_=void 0}async function O9(e){e.q_.set("Online")}async function C9(e){e.N_.forEach((t,n)=>{dw(e,t)})}async function k9(e,t){VR(e),pw(e)?(e.q_.M_(t),hw(e)):e.q_.set("Unknown")}async function R9(e,t,n){if(e.q_.set("Online"),t instanceof SR&&t.state===2&&t.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(e,t)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hh(e,r)}else if(t instanceof _d?e.Q_.Ke(t):t instanceof xR?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ue.min()))try{const r=await NR(e.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Vt.EMPTY_BYTE_STRING,c.snapshotVersion)),LR(o,l);const d=new ro(c.target,l,u,c.sequenceNumber);dw(o,d)}),o.remoteSyncer.applyRemoteEvent(s)}(e,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await hh(e,r)}}async function hh(e,t,n){if(!Tc(t))throw t;e.L_.add(1),await Oc(e),e.q_.set("Offline"),n||(n=()=>NR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await Fp(e)})}function UR(e,t){return t().catch(n=>hh(e,n,t))}async function $p(e){const t=ce(e),n=Po(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;N9(t);)try{const i=await g9(t.localStore,r);if(i===null){t.O_.length===0&&n.o_();break}r=i.batchId,D9(t,i)}catch(i){await hh(t,i)}FR(t)&&$R(t)}function N9(e){return ja(e)&&e.O_.length<10}function D9(e,t){e.O_.push(t);const n=Po(e);n.r_()&&n.V_&&n.m_(t.mutations)}function FR(e){return ja(e)&&!Po(e).n_()&&e.O_.length>0}function $R(e){Po(e).start()}async function j9(e){Po(e).p_()}async function M9(e){const t=Po(e);for(const n of e.O_)t.m_(n.mutations)}async function L9(e,t,n){const r=e.O_.shift(),i=ow.from(r,t,n);await UR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await $p(e)}async function V9(e,t){t&&Po(e).V_&&await async function(r,i){if(function(a){return T6(a)&&a!==B.ABORTED}(i.code)){const o=r.O_.shift();Po(r).s_(),await UR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $p(r)}}(e,t),FR(e)&&$R(e)}async function RP(e,t){const n=ce(e);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=ja(n);n.L_.add(3),await Oc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await Fp(n)}async function U9(e,t){const n=ce(e);t?(n.L_.delete(2),await Fp(n)):t||(n.L_.add(2),await Oc(n),n.q_.set("Unknown"))}function ol(e){return e.K_||(e.K_=function(n,r,i){const o=ce(n);return o.w_(),new S9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Eo:O9.bind(null,e),Ro:C9.bind(null,e),mo:k9.bind(null,e),d_:R9.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),pw(e)?hw(e):e.q_.set("Unknown")):(await e.K_.stop(),VR(e))})),e.K_}function Po(e){return e.U_||(e.U_=function(n,r,i){const o=ce(n);return o.w_(),new P9(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:j9.bind(null,e),mo:V9.bind(null,e),f_:M9.bind(null,e),g_:L9.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await $p(e)):(await e.U_.stop(),e.O_.length>0&&(Z("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const a=Date.now()+r,s=new mw(t,n,a,i,o);return s.start(r),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gw(e,t){if(yi("AsyncQueue",`${t}: ${e}`),Tc(e))return new J(B.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t){this.comparator=t?(n,r)=>t(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=tu(),this.sortedSet=new qe(this.comparator)}static emptySet(t){return new Es(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Es)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Es;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.W_=new qe(te.comparator)}track(t){const n=t.doc.key,r=this.W_.get(n);r?t.type!==0&&r.type===3?this.W_=this.W_.insert(n,t):t.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.W_=this.W_.remove(n):t.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:t.doc}):le():this.W_=this.W_.insert(n,t)}G_(){const t=[];return this.W_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Us{constructor(t,n,r,i,o,a,s,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new Us(t,n,Es.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class $9{constructor(){this.queries=DP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ce(n),o=i.queries;i.queries=DP(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function DP(){return new il(e=>cR(e),Dp)}async function B9(e,t){const n=ce(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.H_()&&t.J_()&&(r=2):(o=new F9,r=t.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=gw(a,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(s)}n.queries.set(i,o),o.j_.push(t),t.Z_(n.onlineState),o.z_&&t.X_(o.z_)&&vw(n)}async function z9(e,t){const n=ce(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(t);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=t.J_()?0:1:!o.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function W9(e,t){const n=ce(e);let r=!1;for(const i of t){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&vw(n)}function K9(e,t,n){const r=ce(e),i=r.queries.get(t);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(t)}function vw(e){e.Y_.forEach(t=>{t.next()})}var Ry,jP;(jP=Ry||(Ry={})).ea="default",jP.Cache="cache";class H9{constructor(t,n,r){this.query=t,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Us(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.na?this.ia(t)&&(this.ta.next(t),n=!0):this.sa(t,this.onlineState)&&(this.oa(t),n=!0),this.ra=t,n}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),n=!0),n}sa(t,n){if(!t.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(t){t=Us.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Ry.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t){this.key=t}}class zR{constructor(t){this.key=t}}class q9{constructor(t,n){this.query=t,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=fR(t),this.Ra=new Es(this.Aa)}get Va(){return this.Ta}ma(t,n){const r=n?n.fa:new NP,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),p=jp(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==_&&(r.track({type:3,doc:p}),v=!0):this.ga(h,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(a=a.add(p),o=_?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const a=t.fa.G_();a.sort((c,d)=>function(p,m){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return _(p)-_(m)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Us(this.query,t.Ra,o,a,t.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new NP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return t.forEach(r=>{this.da.has(r)||n.push(new zR(r))}),this.da.forEach(r=>{t.has(r)||n.push(new BR(r))}),n}ba(t){this.Ta=t.Ts,this.da=me();const n=this.ma(t.documents);return this.applyChanges(n,!0)}Da(){return Us.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class G9{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class Y9{constructor(t){this.key=t,this.va=!1}}class Q9{constructor(t,n,r,i,o,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new il(s=>cR(s),Dp),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(te.comparator),this.Na=new Map,this.La=new lw,this.Ba={},this.ka=new Map,this.qa=Vs.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function X9(e,t,n=!0){const r=YR(e);let i;const o=r.Fa.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await WR(r,t,n,!0),i}async function J9(e,t){const n=YR(e);await WR(n,t,!0,!1)}async function WR(e,t,n,r){const i=await v9(e.localStore,Mr(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Z9(e,t,o,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&MR(e.remoteStore,i),s}async function Z9(e,t,n,r,i){e.Ka=(d,h,p)=>async function(_,v,w,E){let S=v.view.ma(w);S.ns&&(S=await OP(_.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,S)));const I=E&&E.targetChanges.get(v.targetId),O=E&&E.targetMismatches.get(v.targetId)!=null,R=v.view.applyChanges(S,_.isPrimaryClient,I,O);return LP(_,v.targetId,R.wa),R.snapshot}(e,d,h,p);const o=await OP(e.localStore,t,!0),a=new q9(t,o.Ts),s=a.ma(o.documents),l=Ac.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=a.applyChanges(s,e.isPrimaryClient,l);LP(e,n,u.wa);const c=new G9(t,n,a);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function e5(e,t,n){const r=ce(e),i=r.Fa.get(t),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Dp(a,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ky(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fw(r.remoteStore,i.targetId),Ny(r,i.targetId)}).catch(Pc)):(Ny(r,i.targetId),await ky(r.localStore,i.targetId,!0))}async function t5(e,t){const n=ce(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fw(n.remoteStore,r.targetId))}async function n5(e,t,n){const r=u5(e);try{const i=await function(a,s){const l=ce(a),u=dt.now(),c=s.reduce((p,m)=>p.add(m.key),me());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=_i(),_=me();return l.cs.getEntries(p,c).next(v=>{m=v,m.forEach((w,E)=>{E.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{d=v;const w=[];for(const E of s){const S=b6(E,d.get(E.key).overlayedDocument);S!=null&&w.push(new Da(E.key,S,nR(S.value.mapValue),Lr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,s)}).next(v=>{h=v;const w=v.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(p,v.batchId,w)})}).then(()=>({batchId:h.batchId,changes:hR(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new qe(we)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Cc(r,i.changes),await $p(r.remoteStore)}catch(i){const o=gw(i,"Failed to persist write");n.reject(o)}}async function KR(e,t){const n=ce(e);try{const r=await p9(n.localStore,t);t.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Te(a.va):i.removedDocuments.size>0&&(Te(a.va),a.va=!1))}),await Cc(n,r,t)}catch(r){await Pc(r)}}function MP(e,t,n){const r=ce(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(t);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=ce(a);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(s)&&(u=!0)}),u&&vw(l)}(r.eventManager,t),i.length&&r.Ca.d_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function r5(e,t,n){const r=ce(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),o=i&&i.key;if(o){let a=new qe(te.comparator);a=a.insert(o,Xt.newNoDocument(o,ue.min()));const s=me().add(o),l=new Vp(ue.min(),new Map,new qe(we),a,s);await KR(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(t),yw(r)}else await ky(r.localStore,t,!1).then(()=>Ny(r,t,n)).catch(Pc)}async function i5(e,t){const n=ce(e),r=t.batch.batchId;try{const i=await h9(n.localStore,t);qR(n,r,null),HR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(n,i)}catch(i){await Pc(i)}}async function o5(e,t,n){const r=ce(e);try{const i=await function(a,s){const l=ce(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Te(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);qR(r,t,n),HR(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cc(r,i)}catch(i){await Pc(i)}}function HR(e,t){(e.ka.get(t)||[]).forEach(n=>{n.resolve()}),e.ka.delete(t)}function qR(e,t,n){const r=ce(e);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Ny(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(r=>{e.La.containsKey(r)||GR(e,r)})}function GR(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);n!==null&&(fw(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),yw(e))}function LP(e,t,n){for(const r of n)r instanceof BR?(e.La.addReference(r.key,t),a5(e,r)):r instanceof zR?(Z("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||GR(e,r.key)):le()}function a5(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Z("SyncEngine","New document in limbo: "+n),e.xa.add(r),yw(e))}function yw(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new te(Me.fromString(t)),r=e.qa.next();e.Na.set(r,new Y9(n)),e.Oa=e.Oa.insert(n,r),MR(e.remoteStore,new ro(Mr(nw(n.path)),r,"TargetPurposeLimboResolution",Q_.oe))}}async function Cc(e,t,n){const r=ce(e),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,t,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=cw.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>W.forEach(u,h=>W.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>W.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Tc(d))throw d;Z("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),m=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(m);c.os=c.os.insert(h,_)}}}(r.localStore,o))}async function s5(e,t){const n=ce(e);if(!n.currentUser.isEqual(t)){Z("SyncEngine","User change. New user:",t.toKey());const r=await RR(n.localStore,t);n.currentUser=t,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new J(B.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Cc(n,r.hs)}}function l5(e,t){const n=ce(e),r=n.Na.get(t);if(r&&r.va)return me().add(r.key);{let i=me();const o=n.Ma.get(t);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function YR(e){const t=ce(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=KR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=l5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=r5.bind(null,t),t.Ca.d_=W9.bind(null,t.eventManager),t.Ca.$a=K9.bind(null,t.eventManager),t}function u5(e){const t=ce(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=i5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=o5.bind(null,t),t}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Up(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,n){return null}Ha(t,n){return null}za(t){return d9(this.persistence,new c9,t.initialUser,this.serializer)}Ga(t){return new s9(uw.Zr,this.serializer)}Wa(t){return new _9}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class Dy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s5.bind(null,this.syncEngine),await U9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new $9}()}createDatastore(t){const n=Up(t.databaseInfo.databaseId),r=function(o){return new x9(o)}(t.databaseInfo);return function(o,a,s,l){return new T9(o,a,s,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,a,s){return new A9(r,i,o,a,s)}(this.localStore,this.datastore,t.asyncQueue,n=>MP(this.syncEngine,n,0),function(){return kP.D()?new kP:new w9}())}createSyncEngine(t,n){return function(i,o,a,s,l,u,c){const d=new Q9(i,o,a,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const o=ce(i);Z("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Oc(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Dy.provider={build:()=>new Dy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):yi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(t,n,r,i,o){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=Zk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Z("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Z("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=gw(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Bg(e,t){e.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RR(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function VP(e,t){e.asyncQueue.verifyOperationInProgress();const n=await d5(e);Z("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>RP(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>RP(t.remoteStore,i)),e._onlineComponents=t}async function d5(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ds("Error using user provided cache. Falling back to memory cache: "+n),await Bg(e,new ph)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Bg(e,new ph);return e._offlineComponents}async function QR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await VP(e,e._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await VP(e,new Dy))),e._onlineComponents}function h5(e){return QR(e).then(t=>t.syncEngine)}async function UP(e){const t=await QR(e),n=t.eventManager;return n.onListen=X9.bind(null,t.syncEngine),n.onUnlisten=e5.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=J9.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=t5.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(e,t,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function p5(e,t,n,r){if(t===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $P(e){if(!te.isDocumentKey(e))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function BP(e){if(te.isDocumentKey(e))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Bp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":le()}function sa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bp(e);throw new J(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XR((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zp{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zP(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C3;switch(r.type){case"firstParty":return new D3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=FP.get(n);r&&(Z("ComponentProvider","Removing Datastore"),FP.delete(n),r.terminate())}(this),Promise.resolve()}}function m5(e,t,n,r={}){var i;const o=(e=sa(e,zp))._getSettings(),a=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Yt.MOCK_USER;else{s=uk(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Yt(u)}e._authCredentials=new k3(new Jk(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ma(this.firestore,t,this._query)}}class En{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new En(this.firestore,t,this._key)}}class vo extends Ma{constructor(t,n,r){super(t,n,nw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new En(this.firestore,null,new te(t))}withConverter(t){return new vo(this.firestore,t,this._path)}}function kn(e,t,...n){if(e=ht(e),JR("collection","path",t),e instanceof zp){const r=Me.fromString(t,...n);return BP(r),new vo(e,null,r)}{if(!(e instanceof En||e instanceof vo))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Me.fromString(t,...n));return BP(r),new vo(e.firestore,null,r)}}function Br(e,t,...n){if(e=ht(e),arguments.length===1&&(t=Zk.newId()),JR("doc","path",t),e instanceof zp){const r=Me.fromString(t,...n);return $P(r),new En(e,null,new te(r))}{if(!(e instanceof En||e instanceof vo))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Me.fromString(t,...n));return $P(r),new En(e.firestore,e instanceof vo?e.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new DR(this,"async_queue_retry"),this.Vu=()=>{const r=$g();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=$g();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=$g();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new aa;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Tc(t))throw t;Z("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=mw.createAndSchedule(this,t,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&le()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}function KP(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(e,["next","error","complete"])}class Xu extends zp{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new WP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new WP(t),this._firestoreClient=void 0,await t}}}function g5(e,t){const n=typeof e=="object"?e:L_(),r=typeof e=="string"?e:"(default)",i=Op(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ak("firestore");o&&m5(i,...o)}return i}function ZR(e){if(e._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||v5(e),e._firestoreClient}function v5(e){var t,n,r;const i=e._freezeSettings(),o=function(s,l,u,c){return new q3(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,XR(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new f5(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Fs(Vt.fromBase64String(t))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Fs(Vt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return we(this._lat,t._lat)||we(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=/^__.*__$/;class _5{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Da(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ic(t,this.data,n,this.fieldTransforms)}}function tN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Ew{constructor(t,n,r,i,o,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Ew(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.Ou(t),i}Nu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return mh(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(tN(this.Cu)&&y5.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class w5{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Up(t)}Qu(t,n,r,i=!1){return new Ew({Cu:t,methodName:n,qu:r,path:Rt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nN(e){const t=e._freezeSettings(),n=Up(e._databaseId);return new w5(e._databaseId,!!t.ignoreUndefinedProperties,n)}function b5(e,t,n,r,i,o={}){const a=e.Qu(o.merge||o.mergeFields?2:0,t,n,i);oN("Data must be an object, but it was:",a,r);const s=rN(r,a);let l,u;if(o.merge)l=new cr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=x5(t,d,n);if(!a.contains(h))throw new J(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);P5(c,h)||c.push(h)}l=new cr(c),u=a.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=a.fieldTransforms;return new _5(new qn(s),l,u)}function E5(e,t,n,r=!1){return xw(n,e.Qu(r?4:3,t))}function xw(e,t){if(iN(e=ht(e)))return oN("Unsupported field value:",t,e),rN(e,t);if(e instanceof eN)return function(r,i){if(!tN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=xw(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=dt.fromDate(r);return{timestampValue:dh(i.serializer,o)}}if(r instanceof dt){const o=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dh(i.serializer,o)}}if(r instanceof ww)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fs)return{bytesValue:PR(i.serializer,r._byteString)};if(r instanceof En){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bw)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return rw(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Bp(r)}`)}(e,t)}function rN(e,t){const n={};return eR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nl(e,(r,i)=>{const o=xw(i,t.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function iN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof dt||e instanceof ww||e instanceof Fs||e instanceof En||e instanceof eN||e instanceof bw)}function oN(e,t,n){if(!iN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Bp(n);throw r==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function x5(e,t,n){if((t=ht(t))instanceof _w)return t._internalPath;if(typeof t=="string")return aN(e,t);throw mh("Field path arguments must be of type string or ",e,!1,void 0,n)}const S5=new RegExp("[~\\*/\\[\\]]");function aN(e,t,n){if(t.search(S5)>=0)throw mh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _w(...t.split("."))._internalPath}catch{throw mh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function mh(e,t,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new J(B.INVALID_ARGUMENT,s+e+l)}function P5(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new T5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T5 extends sN{data(){return super.data()}}function Wp(e,t){return typeof t=="string"?aN(e,t):t instanceof _w?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sw{}class lN extends Sw{}function Rn(e,t,...n){let r=[];t instanceof Sw&&r.push(t),r=r.concat(n),function(o){const a=o.filter(l=>l instanceof Pw).length,s=o.filter(l=>l instanceof Kp).length;if(a>1||a>0&&s>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class Kp extends lN{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Kp(t,n,r)}_apply(t){const n=this._parse(t);return uN(t._query,n),new Ma(t.firestore,t.converter,Py(t._query,n))}_parse(t){const n=nN(t.firestore);return function(o,a,s,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){GP(d,c);const p=[];for(const m of d)p.push(qP(l,o,m));h={arrayValue:{values:p}}}else h=qP(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||GP(d,c),h=E5(s,a,d,c==="in"||c==="not-in");return at.create(u,c,h)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function HP(e,t,n){const r=t,i=Wp("where",e);return Kp._create(i,r,n)}class Pw extends Sw{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Pw(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let a=i;const s=o.getFlattenedFilters();for(const l of s)uN(a,l),a=Py(a,l)}(t._query,n),new Ma(t.firestore,t.converter,Py(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tw extends lN{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Tw(t,n)}_apply(t){const n=function(i,o,a){if(i.startAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gu(o,a)}(t._query,this._field,this._direction);return new Ma(t.firestore,t.converter,function(i,o){const a=i.explicitOrderBy.concat([o]);return new rl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Nn(e,t="asc"){const n=t,r=Wp("orderBy",e);return Tw._create(r,n)}function qP(e,t,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uR(t)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Me.fromString(n));if(!te.isDocumentKey(r))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dP(e,new te(r))}if(n instanceof En)return dP(e,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bp(n)}.`)}function GP(e,t){if(!Array.isArray(e)||e.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uN(e,t){const n=function(i,o){for(const a of i)for(const s of a.getFlattenedFilters())if(o.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class A5{convertValue(t,n="none"){switch(Ea(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ba(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw le()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return nl(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(t){var n,r,i;const o=(i=(r=(n=t.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>tt(a.doubleValue));return new bw(o)}convertGeoPoint(t){return new ww(tt(t.latitude),tt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=J_(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ku(t));default:return null}}convertTimestamp(t){const n=So(t);return new dt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Me.fromString(t);Te(kR(r));const i=new Hu(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||yi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cN extends sN{constructor(t,n,r,i,o,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Wp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wd extends cN{data(t={}){return super.data(t)}}class C5{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new ru(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new wd(this._firestore,this._userDataWriter,r.key,r,new ru(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new wd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ru(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new wd(i._firestore,i._userDataWriter,s.doc.key,s.doc,new ru(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:k5(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function k5(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class fN extends A5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Fs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new En(this.firestore,null,n)}}function kc(e,t,n){e=sa(e,En);const r=sa(e.firestore,Xu),i=O5(e.converter,t,n);return dN(r,[b5(nN(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Lr.none())])}function Rc(e){return dN(sa(e.firestore,Xu),[new iw(e._key,Lr.none())])}function Dn(e,...t){var n,r,i;e=ht(e);let o={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||KP(t[a])||(o=t[a],a++);const s={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(KP(t[a])){const d=t[a];t[a]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[a+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[a+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof En)u=sa(e.firestore,Xu),c=nw(e._key.path),l={next:d=>{t[a]&&t[a](R5(u,e,d))},error:t[a+1],complete:t[a+2]};else{const d=sa(e,Ma);u=sa(d.firestore,Xu),c=d._query;const h=new fN(u);l={next:p=>{t[a]&&t[a](new C5(u,h,d,p))},error:t[a+1],complete:t[a+2]},I5(e._query)}return function(h,p,m,_){const v=new c5(_),w=new H9(p,v,m);return h.asyncQueue.enqueueAndForget(async()=>B9(await UP(h),w)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>z9(await UP(h),w))}}(ZR(u),c,s,l)}function dN(e,t){return function(r,i){const o=new aa;return r.asyncQueue.enqueueAndForget(async()=>n5(await h5(r),i,o)),o.promise}(ZR(e),t)}function R5(e,t,n){const r=n.docs.get(t._key),i=new fN(e);return new cN(e,i,t._key,r,new ru(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){tl=i})(Na),ya(new Eo("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new Xu(new R3(r.getProvider("auth-internal")),new M3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),Dr(sP,"4.7.3",t),Dr(sP,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="firebasestorage.googleapis.com",pN="storageBucket",N5=2*60*1e3,D5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends Hr{constructor(t,n,r=0){super(zg(t),`Firebase Storage: ${n} (${zg(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return zg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function zg(e){return"storage/"+e}function Iw(){const e="An unknown error occurred, please check the error payload for server response.";return new et(Ze.UNKNOWN,e)}function j5(e){return new et(Ze.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function M5(e){return new et(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function L5(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(Ze.UNAUTHENTICATED,e)}function V5(){return new et(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function U5(e){return new et(Ze.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function F5(){return new et(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $5(){return new et(Ze.CANCELED,"User canceled the upload/download.")}function B5(e){return new et(Ze.INVALID_URL,"Invalid URL '"+e+"'.")}function z5(e){return new et(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function W5(){return new et(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pN+"' property when initializing the app?")}function K5(){return new et(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function H5(){return new et(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q5(e){return new et(Ze.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jy(e){return new et(Ze.INVALID_ARGUMENT,e)}function mN(){return new et(Ze.APP_DELETED,"The Firebase app was deleted.")}function G5(e){return new et(Ze.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(e,t){return new et(Ze.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Fl(e){throw new et(Ze.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=An.makeFromUrl(t,n)}catch{return new An(t,"")}if(r.path==="")return r;throw z5(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const a="(/(.*))?$",s=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},_=n===hN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",w=new RegExp(`^https?://${_}/${i}/${v}`,"i"),S=[{regex:s,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<S.length;I++){const O=S[I],R=O.regex.exec(t);if(R){const T=R[O.indices.bucket];let P=R[O.indices.path];P||(P=""),r=new An(T,P),O.postModify(r);break}}if(r==null)throw B5(t);return r}}class Y5{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return s===2}let u=!1;function c(...v){u||(u=!0,t.apply(null,v))}function d(v){i=setTimeout(()=>{i=null,e(p,l())},v)}function h(){o&&clearTimeout(o)}function p(v,...w){if(u){h();return}if(v){h(),c.call(null,v,...w);return}if(l()||a){h(),c.call(null,v,...w);return}r<64&&(r*=2);let S;s===1?(s=2,S=0):S=(r+Math.random())*1e3,d(S)}let m=!1;function _(v){m||(m=!0,h(),!u&&(i!==null?(v||(s=2),clearTimeout(i),d(0)):v||(s=1)))}return d(0),o=setTimeout(()=>{a=!0,_(!0)},n),_}function X5(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(e){return e!==void 0}function Z5(e){return typeof e=="object"&&!Array.isArray(e)}function Aw(e){return typeof e=="string"||e instanceof String}function YP(e){return Ow()&&e instanceof Blob}function Ow(){return typeof Blob<"u"}function QP(e,t,n,r){if(r<t)throw jy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw jy(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function gN(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var la;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(la||(la={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(t,n,r,i,o,a,s,l,u,c,d,h=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=a,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Mf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const a=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(a),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(a),this.pendingConnection_=null;const s=o.getErrorCode()===la.NO_ERROR,l=o.getStatus();if(!s||eW(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===la.ABORT;r(!1,new Mf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Mf(u,o))})},n=(r,i)=>{const o=this.resolve_,a=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());J5(l)?o(l):o()}catch(l){a(l)}else if(s!==null){const l=Iw();l.serverResponse=s.getErrorText(),this.errorCallback_?a(this.errorCallback_(s,l)):a(l)}else if(i.canceled){const l=this.appDelete_?mN():$5();a(l)}else{const l=F5();a(l)}};this.canceled_?n(!1,new Mf(!1,null,!0)):this.backoffId_=Q5(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&X5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mf{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function nW(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function rW(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function iW(e,t){t&&(e["X-Firebase-GMPID"]=t)}function oW(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function aW(e,t,n,r,i,o,a=!0){const s=gN(e.urlParams),l=e.url+s,u=Object.assign({},e.headers);return iW(u,t),nW(u,n),rW(u,o),oW(u,r),new tW(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lW(...e){const t=sW();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Ow())return new Blob(e);throw new et(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uW(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cW(e){if(typeof atob>"u")throw q5("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wg{constructor(t,n){this.data=t,this.contentType=n||null}}function fW(e,t){switch(e){case Ar.RAW:return new Wg(vN(t));case Ar.BASE64:case Ar.BASE64URL:return new Wg(yN(e,t));case Ar.DATA_URL:return new Wg(hW(t),pW(t))}throw Iw()}function vN(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,a=e.charCodeAt(++n);r=65536|(o&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function dW(e){let t;try{t=decodeURIComponent(e)}catch{throw bu(Ar.DATA_URL,"Malformed data URL.")}return vN(t)}function yN(e,t){switch(e){case Ar.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw bu(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Ar.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw bu(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cW(t)}catch(i){throw i.message.includes("polyfill")?i:bu(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _N{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw bu(Ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function hW(e){const t=new _N(e);return t.base64?yN(Ar.BASE64,t.rest):dW(t.rest)}function pW(e){return new _N(e).contentType}function mW(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,n){let r=0,i="";YP(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(YP(this.data_)){const r=this.data_,i=uW(r,t,n);return i===null?null:new Ji(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ji(r,!0)}}static getBlob(...t){if(Ow()){const n=t.map(r=>r instanceof Ji?r.data_:r);return new Ji(lW.apply(null,n))}else{const n=t.map(a=>Aw(a)?fW(Ar.RAW,a).data:a.data_);let r=0;n.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(a=>{for(let s=0;s<a.length;s++)i[o++]=a[s]}),new Ji(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(e){let t;try{t=JSON.parse(e)}catch{return null}return Z5(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function vW(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function bN(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(e,t){return t}class rn{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||yW}}let Lf=null;function _W(e){return!Aw(e)||e.length<2?e:bN(e)}function EN(){if(Lf)return Lf;const e=[];e.push(new rn("bucket")),e.push(new rn("generation")),e.push(new rn("metageneration")),e.push(new rn("name","fullPath",!0));function t(o,a){return _W(a)}const n=new rn("name");n.xform=t,e.push(n);function r(o,a){return a!==void 0?Number(a):a}const i=new rn("size");return i.xform=r,e.push(i),e.push(new rn("timeCreated")),e.push(new rn("updated")),e.push(new rn("md5Hash",null,!0)),e.push(new rn("cacheControl",null,!0)),e.push(new rn("contentDisposition",null,!0)),e.push(new rn("contentEncoding",null,!0)),e.push(new rn("contentLanguage",null,!0)),e.push(new rn("contentType",null,!0)),e.push(new rn("metadata","customMetadata",!0)),Lf=e,Lf}function wW(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new An(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function bW(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const a=n[o];r[a.local]=a.xform(r,t[a.server])}return wW(r,e),r}function xN(e,t,n){const r=wN(t);return r===null?null:bW(e,r,n)}function EW(e,t,n,r){const i=wN(t);if(i===null||!Aw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const a=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,d=e.fullPath,h="/b/"+a(c)+"/o/"+a(d),p=Cw(h,n,r),m=gN({alt:"media",token:u});return p+m})[0]}function xW(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class SN{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(e){if(!e)throw Iw()}function SW(e,t){function n(r,i){const o=xN(e,i,t);return PN(o!==null),o}return n}function PW(e,t){function n(r,i){const o=xN(e,i,t);return PN(o!==null),EW(o,i,e.host,e._protocol)}return n}function TN(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=V5():i=L5():n.getStatus()===402?i=M5(e.bucket):n.getStatus()===403?i=U5(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function TW(e){const t=TN(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=j5(e.path)),o.serverResponse=i.serverResponse,o}return n}function IW(e,t,n){const r=t.fullServerUrl(),i=Cw(r,e.host,e._protocol),o="GET",a=e.maxOperationRetryTime,s=new SN(i,o,PW(e,n),a);return s.errorHandler=TW(t),s}function AW(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function OW(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=AW(null,t)),r}function CW(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){let S="";for(let I=0;I<2;I++)S=S+Math.random().toString().slice(2);return S}const l=s();a["Content-Type"]="multipart/related; boundary="+l;const u=OW(t,r,i),c=xW(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Ji.getBlob(d,r,h);if(p===null)throw K5();const m={name:u.fullPath},_=Cw(o,e.host,e._protocol),v="POST",w=e.maxUploadRetryTime,E=new SN(_,v,SW(e,n),w);return E.urlParams=m,E.headers=a,E.body=p.uploadData(),E.errorHandler=TN(t),E}class kW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class RW extends kW{initXhr(){this.xhr_.responseType="text"}}function IN(){return new RW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n){this._service=t,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new xa(t,n)}get root(){const t=new An(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bN(this._location.path)}get storage(){return this._service}get parent(){const t=gW(this._location.path);if(t===null)return null;const n=new An(this._location.bucket,t);return new xa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw G5(t)}}function NW(e,t,n){e._throwIfRoot("uploadBytes");const r=CW(e.storage,e._location,EN(),new Ji(t,!0),n);return e.storage.makeRequestWithTokens(r,IN).then(i=>({metadata:i,ref:e}))}function DW(e){e._throwIfRoot("getDownloadURL");const t=IW(e.storage,e._location,EN());return e.storage.makeRequestWithTokens(t,IN).then(n=>{if(n===null)throw H5();return n})}function jW(e,t){const n=vW(e._location.path,t),r=new An(e._location.bucket,n);return new xa(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(e){return/^[A-Za-z]+:\/\//.test(e)}function LW(e,t){return new xa(e,t)}function AN(e,t){if(e instanceof kw){const n=e;if(n._bucket==null)throw W5();const r=new xa(n,n._bucket);return t!=null?AN(r,t):r}else return t!==void 0?jW(e,t):e}function VW(e,t){if(t&&MW(t)){if(e instanceof kw)return LW(e,t);throw jy("To use ref(service, url), the first argument must be a Storage instance.")}else return AN(e,t)}function XP(e,t){const n=t==null?void 0:t[pN];return n==null?null:An.makeFromBucketSpec(n,e)}function UW(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:uk(i,e.app.options.projectId))}class kw{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=hN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=N5,this._maxUploadRetryTime=D5,this._requests=new Set,i!=null?this._bucket=An.makeFromBucketSpec(i,this._host):this._bucket=XP(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,t):this._bucket=XP(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){QP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){QP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new xa(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new Y5(mN());{const a=aW(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const JP="@firebase/storage",ZP="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="storage";function FW(e,t,n){return e=ht(e),NW(e,t,n)}function $W(e){return e=ht(e),DW(e)}function BW(e,t){return e=ht(e),VW(e,t)}function zW(e=L_(),t){e=ht(e);const r=Op(e,ON).getImmediate({identifier:t}),i=ak("storage");return i&&WW(r,...i),r}function WW(e,t,n,r={}){UW(e,t,n,r)}function KW(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new kw(n,r,i,t,Na)}function HW(){ya(new Eo(ON,KW,"PUBLIC").setMultipleInstances(!0)),Dr(JP,ZP,""),Dr(JP,ZP,"esm2017")}HW();const qW={apiKey:"AIzaSyDXp_QLD0MyA8kGChm4GVYBC9J86FPDNCE",authDomain:"cx-platform-v1.firebaseapp.com",projectId:"cx-platform-v1",appId:"1:579694129561:web:b8198bbeaabb393b382308",storageBucket:"cx-platform-v1.firebasestorage.app"},Rw=dk(qW),My=T3(Rw),ze=g5(Rw),GW=zW(Rw),YW=new ei;function zr(e){const t=Math.random().toString(36).slice(2,10);return`${e}_${t}_${Date.now()}`}function CN(e){return x.jsxs("div",{style:{width:"100%"},children:[x.jsx("div",{className:"h2",children:e.label}),e.help?x.jsx("div",{className:"small",children:e.help}):null,x.jsx("div",{style:{height:6}}),x.jsx("textarea",{className:"input",value:e.value,onChange:t=>e.onChange(t.target.value),placeholder:e.placeholder})]})}function kN(e){return e.split(/\r?\n/).map(t=>t.trim()).filter(Boolean)}function QW(){const[e,t]=y.useState([]);y.useEffect(()=>{const v=Rn(kn(ze,"workspaces"),Nn("__name__"));return Dn(v,w=>{t(w.docs.map(E=>({id:E.id,data:E.data()})))})},[]);const[n,r]=y.useState(()=>zr("ws")),[i,o]=y.useState("https://nurihiro.website"),[a,s]=y.useState(!1),[l,u]=y.useState("suggest"),[c,d]=y.useState("approve"),[h,p]=y.useState(1),m=y.useMemo(()=>kN(i),[i]);async function _(){const v=Br(ze,"workspaces",n.trim()),w={domains:m,defaults:{ai:{decision:a,discovery:l,copy:c},log_sample_rate:Number(h)}};await kc(v,w,{merge:!0}),r(zr("ws"))}return x.jsxs("div",{className:"container",children:[x.jsxs("div",{className:"card",children:[x.jsx("h1",{className:"h1",children:"Workspaces"}),x.jsx("div",{className:"small",children:""}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"row",style:{alignItems:"flex-start"},children:[x.jsxs("div",{style:{flex:1,minWidth:280},children:[x.jsx("div",{className:"h2",children:"workspaceId"}),x.jsx("input",{className:"input",value:n,onChange:v=>r(v.target.value)}),x.jsx("div",{style:{height:12}}),x.jsx(CN,{label:"domains",value:i,onChange:o,help:"1=1 https:// "})]}),x.jsxs("div",{style:{flex:1,minWidth:280},children:[x.jsx("div",{className:"h2",children:"defaults"}),x.jsxs("div",{className:"row",children:[x.jsxs("label",{className:"badge",children:[x.jsx("input",{type:"checkbox",checked:a,onChange:v=>s(v.target.checked)}),"AI decision"]}),x.jsxs("label",{className:"badge",children:["discovery",x.jsxs("select",{className:"input",style:{width:140,marginLeft:8},value:l,onChange:v=>u(v.target.value),children:[x.jsx("option",{value:"suggest",children:"suggest"}),x.jsx("option",{value:"off",children:"off"})]})]}),x.jsxs("label",{className:"badge",children:["copy",x.jsxs("select",{className:"input",style:{width:140,marginLeft:8},value:c,onChange:v=>d(v.target.value),children:[x.jsx("option",{value:"approve",children:"approve"}),x.jsx("option",{value:"auto",children:"auto"})]})]})]}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"log_sample_rate"}),x.jsx("input",{className:"input",type:"number",step:"0.1",value:h,onChange:v=>p(Number(v.target.value))}),x.jsx("div",{style:{height:14}}),x.jsx("button",{className:"btn btn--primary",onClick:_,children:""})]})]})]}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"card",children:[x.jsx("div",{className:"h2",children:""}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"ID"}),x.jsx("th",{children:"domains"}),x.jsx("th",{children:"defaults"}),x.jsx("th",{})]})}),x.jsx("tbody",{children:e.map(v=>x.jsxs("tr",{children:[x.jsx("td",{children:x.jsx("code",{children:v.id})}),x.jsx("td",{children:(v.data.domains||[]).join(`
`)}),x.jsx("td",{children:x.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:JSON.stringify(v.data.defaults||{},null,2)})}),x.jsxs("td",{children:[x.jsx("button",{className:"btn",onClick:()=>{var w,E,S,I,O,R,T;r(v.id),o((v.data.domains||[]).join(`
`)),s(!!((E=(w=v.data.defaults)==null?void 0:w.ai)!=null&&E.decision)),u(((I=(S=v.data.defaults)==null?void 0:S.ai)==null?void 0:I.discovery)||"suggest"),d(((R=(O=v.data.defaults)==null?void 0:O.ai)==null?void 0:R.copy)||"approve"),p(Number(((T=v.data.defaults)==null?void 0:T.log_sample_rate)??1))},children:""}),x.jsx("span",{style:{width:8,display:"inline-block"}}),x.jsx("button",{className:"btn btn--danger",onClick:()=>Rc(Br(ze,"workspaces",v.id)),children:""})]})]},v.id))})]})]})]})}function XW(){const[e,t]=y.useState([]),[n,r]=y.useState([]);y.useEffect(()=>{const m=Rn(kn(ze,"workspaces"),Nn("__name__"));return Dn(m,_=>{t(_.docs.map(v=>({id:v.id,data:v.data()})))})},[]),y.useEffect(()=>{const m=Rn(kn(ze,"sites"),Nn("__name__"));return Dn(m,_=>{r(_.docs.map(v=>({id:v.id,data:v.data()})))})},[]);const[i,o]=y.useState(()=>zr("site")),[a,s]=y.useState(""),[l,u]=y.useState("https://nurihiro.website"),[c,d]=y.useState("");y.useEffect(()=>{!a&&e.length&&s(e[0].id)},[e,a]);const h=y.useMemo(()=>kN(l),[l]);async function p(){if(!a)throw new Error("workspaceId required");const m={workspaceId:a,domains:h,publicKey:c.trim()||void 0};await kc(Br(ze,"sites",i.trim()),m,{merge:!0}),o(zr("site"))}return x.jsxs("div",{className:"container",children:[x.jsxs("div",{className:"card",children:[x.jsx("h1",{className:"h1",children:"Sites"}),x.jsx("div",{className:"small",children:"SDK siteId  data-site-id "}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"row",style:{alignItems:"flex-start"},children:[x.jsxs("div",{style:{flex:1,minWidth:280},children:[x.jsx("div",{className:"h2",children:"siteId"}),x.jsx("input",{className:"input",value:i,onChange:m=>o(m.target.value)}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"workspaceId"}),x.jsx("select",{className:"input",value:a,onChange:m=>s(m.target.value),children:e.map(m=>x.jsx("option",{value:m.id,children:m.id},m.id))}),x.jsx("div",{style:{height:12}}),x.jsx(CN,{label:"domains",value:l,onChange:u,help:"siteCORS/Origin allow workspace.domains "})]}),x.jsxs("div",{style:{flex:1,minWidth:280},children:[x.jsx("div",{className:"h2",children:"publicKey"}),x.jsx("input",{className:"input",value:c,onChange:m=>d(m.target.value),placeholder:"OK"}),x.jsx("div",{className:"small",children:" /v1/serve  X-Site-Key "}),x.jsx("div",{style:{height:14}}),x.jsx("button",{className:"btn btn--primary",onClick:p,children:""}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"card",style:{background:"rgba(255,255,255,.03)"},children:[x.jsx("div",{className:"h2",children:""}),x.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:`<script
  src="https://YOUR_HOSTING_DOMAIN/sdk.js"
  data-site-id="${i}"
  data-api-base="https://asia-northeast1-YOUR_PROJECT.cloudfunctions.net/api/v1/serve"
><\/script>`})]})]})]})]}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"card",children:[x.jsx("div",{className:"h2",children:""}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"ID"}),x.jsx("th",{children:"workspaceId"}),x.jsx("th",{children:"domains"}),x.jsx("th",{children:"publicKey"}),x.jsx("th",{})]})}),x.jsx("tbody",{children:n.map(m=>x.jsxs("tr",{children:[x.jsx("td",{children:x.jsx("code",{children:m.id})}),x.jsx("td",{children:x.jsx("code",{children:m.data.workspaceId})}),x.jsx("td",{children:(m.data.domains||[]).join(`
`)}),x.jsx("td",{children:m.data.publicKey?"set":""}),x.jsxs("td",{children:[x.jsx("button",{className:"btn",onClick:()=>{o(m.id),s(m.data.workspaceId),u((m.data.domains||[]).join(`
`)),d(m.data.publicKey||"")},children:""}),x.jsx("span",{style:{width:8,display:"inline-block"}}),x.jsx("button",{className:"btn btn--danger",onClick:()=>Rc(Br(ze,"sites",m.id)),children:""})]})]},m.id))})]})]})]})}async function eT(e){const{workspaceId:t,siteId:n,file:r}=e;if(!t)throw new Error("workspaceId required");const i=(r.name||"image").replace(/[^a-zA-Z0-9._-]/g,"_").slice(0,120),o=Date.now(),a=n?`workspaces/${t}/sites/${n}/images/${o}_${i}`:`workspaces/${t}/images/${o}_${i}`,s=BW(GW,a);await FW(s,r,{contentType:r.type||"image/*"});const l=await $W(s);return{path:a,downloadURL:l}}function JW(){const[e,t]=y.useState([]),[n,r]=y.useState([]),[i,o]=y.useState([]);y.useEffect(()=>{const L=Rn(kn(ze,"workspaces"),Nn("__name__"));return Dn(L,M=>t(M.docs.map($=>({id:$.id}))))},[]),y.useEffect(()=>{const L=Rn(kn(ze,"actions"),Nn("__name__"));return Dn(L,M=>r(M.docs.map($=>({id:$.id,data:$.data()}))))},[]),y.useEffect(()=>{const L=Rn(kn(ze,"templates"),Nn("__name__"));return Dn(L,M=>o(M.docs.map($=>({id:$.id,data:$.data()}))))},[]);const[a,s]=y.useState(()=>zr("act")),[l,u]=y.useState(""),[c,d]=y.useState("modal"),[h,p]=y.useState("body"),[m,_]=y.useState(""),[v,w]=y.useState(""),[E,S]=y.useState(""),[I,O]=y.useState("OK"),[R,T]=y.useState(""),[P,A]=y.useState(""),[k,D]=y.useState(""),[N,j]=y.useState(!1),[Y,oe]=y.useState("");y.useEffect(()=>{!l&&e.length&&u(e[0].id)},[e,l]);const de=y.useMemo(()=>({workspaceId:l,type:c,selector:h.trim()||"body",templateId:m.trim()||void 0,creative:{title:v,body:E,cta_text:I,cta_url:R,cta_url_text:P,image_url:k}}),[l,c,h,m,v,E,I,R,P,k]);async function ie(){if(!l)throw new Error("workspaceId required");await kc(Br(ze,"actions",a.trim()),de,{merge:!0}),s(zr("act"))}return x.jsxs("div",{className:"container",children:[x.jsxs("div",{className:"card",children:[x.jsx("h1",{className:"h1",children:"Actions"}),x.jsx("div",{className:"small",children:"UIScenario  Action "}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"row",style:{alignItems:"flex-start"},children:[x.jsxs("div",{style:{flex:1,minWidth:280},children:[x.jsx("div",{className:"h2",children:"actionId"}),x.jsx("input",{className:"input",value:a,onChange:L=>s(L.target.value)}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"workspaceId"}),x.jsx("select",{className:"input",value:l,onChange:L=>u(L.target.value),children:e.map(L=>x.jsx("option",{value:L.id,children:L.id},L.id))}),x.jsx("div",{style:{height:10}}),x.jsxs("div",{className:"row",children:[x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{className:"h2",children:"type"}),x.jsxs("select",{className:"input",value:c,onChange:L=>{const M=L.target.value;d(M),_("")},children:[x.jsx("option",{value:"modal",children:"modal"}),x.jsx("option",{value:"banner",children:"banner"}),x.jsx("option",{value:"toast",children:"toast"})]})]}),x.jsxs("div",{style:{flex:2},children:[x.jsx("div",{className:"h2",children:"selector"}),x.jsx("input",{className:"input",value:h,onChange:L=>p(L.target.value)})]})]}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"templateId"}),x.jsxs("select",{className:"input",value:m,onChange:L=>_(L.target.value),children:[x.jsx("option",{value:"",children:"(default / built-in)"}),i.filter(L=>L.data.workspaceId===l&&L.data.type===c).map(L=>x.jsxs("option",{value:L.id,children:[L.id,"  ",L.data.name||""]},L.id))]}),x.jsx("div",{className:"small",children:"Templates HTML/CSS"}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"title"}),x.jsx("input",{className:"input",value:v,onChange:L=>w(L.target.value)}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"body"}),x.jsx("textarea",{className:"input",value:E,onChange:L=>S(L.target.value)}),x.jsx("div",{style:{height:10}}),x.jsxs("div",{className:"row",children:[x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{className:"h2",children:"cta_text"}),x.jsx("input",{className:"input",value:I,onChange:L=>O(L.target.value)})]}),x.jsxs("div",{style:{flex:2},children:[x.jsx("div",{className:"h2",children:"cta_url"}),x.jsx("input",{className:"input",value:R,onChange:L=>T(L.target.value),placeholder:"https://... ()"})]})]}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"cta_url_text"}),x.jsx("input",{className:"input",value:P,onChange:L=>A(L.target.value),placeholder:""}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"image_url"}),x.jsx("input",{className:"input",value:k,onChange:L=>D(L.target.value),placeholder:"https://..."}),x.jsx("div",{className:"small",children:"URL or "}),x.jsx("div",{style:{height:10}}),x.jsxs("div",{className:"row",style:{alignItems:"center",gap:10},children:[x.jsx("input",{type:"file",accept:"image/*",disabled:!l||N,onChange:async L=>{var $;const M=($=L.target.files)==null?void 0:$[0];if(M&&l){oe(""),j(!0);try{const q=await eT({workspaceId:l,file:M});D(q.downloadURL)}catch(q){oe((q==null?void 0:q.message)||String(q))}finally{j(!1),L.currentTarget.value=""}}}}),N&&x.jsx("div",{className:"small",children:"Uploading..."})]}),Y&&x.jsx("div",{className:"small",style:{color:"#ff6b6b"},children:Y}),(k==null?void 0:k.trim())&&x.jsxs("div",{style:{marginTop:10},children:[x.jsx("div",{className:"small",children:"Preview"}),x.jsx("img",{src:k,alt:"preview",style:{width:"100%",maxHeight:220,objectFit:"cover",borderRadius:12},onError:L=>{L.currentTarget.style.display="none"}})]}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:""}),x.jsx("input",{className:"input",type:"file",accept:"image/*",onChange:async L=>{var q;const M=(q=L.target.files)==null?void 0:q[0];if(!M)return;const $=await eT({workspaceId:l,siteId:void 0,file:M});D($.downloadURL)}}),x.jsx("div",{className:"small",children:" workspace site siteId "}),x.jsx("div",{style:{height:14}}),x.jsx("button",{className:"btn btn--primary",onClick:ie,children:""})]}),x.jsxs("div",{style:{flex:1,minWidth:280},children:[x.jsx("div",{className:"h2",children:"JSON"}),x.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:JSON.stringify(de,null,2)})]})]})]}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"card",children:[x.jsx("div",{className:"h2",children:""}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"ID"}),x.jsx("th",{children:"workspaceId"}),x.jsx("th",{children:"type"}),x.jsx("th",{children:"title"}),x.jsx("th",{})]})}),x.jsx("tbody",{children:n.map(L=>{var M;return x.jsxs("tr",{children:[x.jsx("td",{children:x.jsx("code",{children:L.id})}),x.jsx("td",{children:x.jsx("code",{children:L.data.workspaceId})}),x.jsx("td",{children:L.data.type}),x.jsx("td",{children:(M=L.data.creative)==null?void 0:M.title}),x.jsxs("td",{children:[x.jsx("button",{className:"btn",onClick:()=>{var $,q,ee,ae,xe,rt;s(L.id),u(L.data.workspaceId),d(L.data.type),p(L.data.selector||"body"),_(L.data.templateId||""),w((($=L.data.creative)==null?void 0:$.title)||""),S(((q=L.data.creative)==null?void 0:q.body)||""),O(((ee=L.data.creative)==null?void 0:ee.cta_text)||"OK"),T(((ae=L.data.creative)==null?void 0:ae.cta_url)||""),A(((xe=L.data.creative)==null?void 0:xe.cta_url_text)||""),D(((rt=L.data.creative)==null?void 0:rt.image_url)||"")},children:""}),x.jsx("span",{style:{width:8,display:"inline-block"}}),x.jsx("button",{className:"btn btn--danger",onClick:()=>Rc(Br(ze,"actions",L.id)),children:""})]})]},L.id)})})]})]})]})}const ZW=["product","blog_post","other"];function e8(){const[e,t]=y.useState([]),[n,r]=y.useState([]),[i,o]=y.useState([]);y.useEffect(()=>{const M=Rn(kn(ze,"sites"),Nn("__name__"));return Dn(M,$=>t($.docs.map(q=>({id:q.id,data:q.data()}))))},[]),y.useEffect(()=>{const M=Rn(kn(ze,"actions"),Nn("__name__"));return Dn(M,$=>r($.docs.map(q=>({id:q.id,data:q.data()}))))},[]),y.useEffect(()=>{const M=Rn(kn(ze,"scenarios"),Nn("__name__"));return Dn(M,$=>o($.docs.map(q=>({id:q.id,data:q.data()}))))},[]);const[a,s]=y.useState(()=>zr("scn")),[l,u]=y.useState(""),[c,d]=y.useState(""),[h,p]=y.useState("New scenario"),[m,_]=y.useState("active"),[v,w]=y.useState(0),[E,S]=y.useState(["other"]),[I,O]=y.useState(3),[R,T]=y.useState(""),[P,A]=y.useState([]),[k,D]=y.useState(null);y.useEffect(()=>{!l&&e.length&&u(e[0].id)},[e,l]),y.useEffect(()=>{var $;const M=e.find(q=>q.id===l);($=M==null?void 0:M.data)!=null&&$.workspaceId&&d(M.data.workspaceId)},[e,l]);const N=y.useMemo(()=>n.filter(M=>{var $;return(($=M.data)==null?void 0:$.workspaceId)===c}),[n,c]);y.useEffect(()=>{!R&&N.length&&T(N[0].id)},[N,R]);const j=y.useMemo(()=>({page:{page_type_in:E},behavior:{stay_gte_sec:Number(I)},trigger:{type:"stay",ms:Number(I)*1e3}}),[E,I]),Y=y.useMemo(()=>({workspaceId:c,siteId:l,name:h,status:m,priority:Number(v),entry_rules:j,actionRefs:(P||[]).map((M,$)=>({actionId:M.actionId,enabled:M.enabled??!0,order:M.order??$}))}),[c,l,h,m,v,j,P]);function oe(M){S($=>$.includes(M)?$.filter(q=>q!==M):[...$,M])}function de(){R&&A(M=>{const $=[...M||[]];return $.push({actionId:R,enabled:!0,order:$.length}),$})}function ie(M,$){A(q=>{const ee=[...q||[]];if(M<0||M>=ee.length||$<0||$>=ee.length)return ee;const[ae]=ee.splice(M,1);return ee.splice($,0,ae),ee})}async function L(){if(!l)throw new Error("siteId required");if(!c)throw new Error("workspaceId required");await kc(Br(ze,"scenarios",a.trim()),Y,{merge:!0}),s(zr("scn")),p("New scenario"),_("active"),w(0),S(["other"]),O(3),A([])}return x.jsxs("div",{className:"container",children:[x.jsxs("div",{className:"card",children:[x.jsx("h1",{className:"h1",children:"Scenarios"}),x.jsx("div",{className:"small",children:" /  /  Actions Scenario "}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"row",style:{alignItems:"flex-start"},children:[x.jsxs("div",{style:{flex:1,minWidth:320},children:[x.jsx("div",{className:"h2",children:"scenarioId"}),x.jsx("input",{className:"input",value:a,onChange:M=>s(M.target.value)}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"siteId"}),x.jsx("select",{className:"input",value:l,onChange:M=>u(M.target.value),children:e.map(M=>x.jsx("option",{value:M.id,children:M.id},M.id))}),x.jsx("div",{style:{height:10}}),x.jsxs("div",{className:"row",children:[x.jsxs("div",{style:{flex:2},children:[x.jsx("div",{className:"h2",children:"name"}),x.jsx("input",{className:"input",value:h,onChange:M=>p(M.target.value)})]}),x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{className:"h2",children:"status"}),x.jsxs("select",{className:"input",value:m,onChange:M=>_(M.target.value),children:[x.jsx("option",{value:"active",children:"active"}),x.jsx("option",{value:"paused",children:"paused"})]})]}),x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{className:"h2",children:"priority"}),x.jsx("input",{className:"input",type:"number",value:v,onChange:M=>w(Number(M.target.value))})]})]}),x.jsx("div",{style:{height:12}}),x.jsx("div",{className:"h2",children:"entry_rules"}),x.jsxs("div",{className:"row",children:[ZW.map(M=>x.jsxs("label",{className:"badge",style:{cursor:"pointer"},children:[x.jsx("input",{type:"checkbox",checked:E.includes(M),onChange:()=>oe(M)}),M]},M)),x.jsxs("label",{className:"badge",children:["stay_gte_sec",x.jsx("input",{className:"input",style:{width:110,marginLeft:8},type:"number",min:0,value:I,onChange:M=>O(Number(M.target.value))})]})]}),x.jsx("div",{style:{height:12}}),x.jsx("div",{className:"h2",children:"actionRefs "}),x.jsxs("div",{className:"row",children:[x.jsx("select",{className:"input",style:{width:360,maxWidth:"100%"},value:R,onChange:M=>T(M.target.value),children:N.map(M=>{var $,q;return x.jsxs("option",{value:M.id,children:[M.id,"  ",((q=($=M.data)==null?void 0:$.creative)==null?void 0:q.title)||""]},M.id)})}),x.jsx("button",{className:"btn",onClick:de,children:""})]}),x.jsx("div",{style:{height:10}}),(P||[]).length?x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"#"}),x.jsx("th",{children:"actionId"}),x.jsx("th",{children:"enabled"}),x.jsx("th",{children:"order"}),x.jsx("th",{})]})}),x.jsx("tbody",{children:(P||[]).map((M,$)=>x.jsxs("tr",{draggable:!0,onDragStart:()=>D($),onDragOver:q=>q.preventDefault(),onDrop:()=>{k!=null&&(ie(k,$),D(null))},style:{opacity:k===$?.6:1},children:[x.jsx("td",{children:$}),x.jsx("td",{children:x.jsx("code",{children:M.actionId})}),x.jsx("td",{children:x.jsx("input",{type:"checkbox",checked:M.enabled??!0,onChange:q=>A(ee=>(ee||[]).map((ae,xe)=>xe===$?{...ae,enabled:q.target.checked}:ae))})}),x.jsxs("td",{children:[x.jsx("button",{className:"btn",disabled:$===0,onClick:()=>ie($,$-1),children:""}),x.jsx("span",{style:{width:6,display:"inline-block"}}),x.jsx("button",{className:"btn",disabled:$===(P||[]).length-1,onClick:()=>ie($,$+1),children:""})]}),x.jsx("td",{children:x.jsx("button",{className:"btn",onClick:()=>A(q=>(q||[]).filter((ee,ae)=>ae!==$)),children:""})})]},`${M.actionId}-${$}`))})]}):x.jsx("div",{className:"small",children:"SDK actions "}),x.jsx("div",{style:{height:14}}),x.jsx("button",{className:"btn btn--primary",onClick:L,children:""})]}),x.jsxs("div",{style:{flex:1,minWidth:320},children:[x.jsx("div",{className:"h2",children:"JSON"}),x.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:JSON.stringify(Y,null,2)}),x.jsx("div",{style:{height:12}}),x.jsxs("div",{className:"card",style:{background:"rgba(255,255,255,.03)"},children:[x.jsx("div",{className:"h2",children:""}),x.jsxs("ul",{className:"small",children:[x.jsxs("li",{children:[x.jsx("b",{children:"Actions"})," "]}),x.jsxs("li",{children:[x.jsx("b",{children:"Scenario  actionRefs"})," "]}),x.jsxs("li",{children:["SDK actionRefs  join  ",x.jsx("code",{children:"scenario.actions"})]})]})]})]})]})]}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"card",children:[x.jsx("div",{className:"h2",children:""}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"ID"}),x.jsx("th",{children:"siteId"}),x.jsx("th",{children:"name"}),x.jsx("th",{children:"status"}),x.jsx("th",{children:"priority"}),x.jsx("th",{children:"actions"}),x.jsx("th",{})]})}),x.jsx("tbody",{children:i.map(M=>x.jsxs("tr",{children:[x.jsx("td",{children:x.jsx("code",{children:M.id})}),x.jsx("td",{children:x.jsx("code",{children:M.data.siteId})}),x.jsx("td",{children:M.data.name}),x.jsx("td",{children:M.data.status}),x.jsx("td",{children:M.data.priority??0}),x.jsx("td",{children:(M.data.actionRefs||[]).length}),x.jsxs("td",{children:[x.jsx("button",{className:"btn",onClick:()=>{var $,q,ee,ae;s(M.id),u(M.data.siteId),d(M.data.workspaceId),p(M.data.name),_(M.data.status),w(Number(M.data.priority??0)),S(((q=($=M.data.entry_rules)==null?void 0:$.page)==null?void 0:q.page_type_in)||["other"]),O(Number(((ae=(ee=M.data.entry_rules)==null?void 0:ee.behavior)==null?void 0:ae.stay_gte_sec)??3)),A(M.data.actionRefs||[])},children:""}),x.jsx("span",{style:{width:8,display:"inline-block"}}),x.jsx("button",{className:"btn btn--danger",onClick:()=>Rc(Br(ze,"scenarios",M.id)),children:""})]})]},M.id))})]})]})]})}function t8(e,t){const n=String(e||""),r=/\{\{#if\s+([a-zA-Z0-9_]+)\s*\}\}([\s\S]*?)\{\{\s*\/if\s*\}\}/g,i=n.replace(r,(a,s,l)=>t[s]?l:""),o=/\{\{\s*([a-zA-Z0-9_]+)\s*\}\}/g;return i.replace(o,(a,s)=>{const l=t[s];return l==null?"":String(l)})}function n8(e){const t=t8(e.html,e.data);return`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      html,body{margin:0;padding:0;background:#0b0b0b;color:#fff;font-family:system-ui,-apple-system,Segoe UI,Roboto;}
      /* make fixed templates visible inside iframe */
      .cx-overlay{position:relative !important;inset:auto !important;min-height:360px;}
      .cx-modal{margin:24px auto;}
      .cx-banner,.cx-toast{position:relative !important;left:auto !important;right:auto !important;bottom:auto !important;top:auto !important;margin:24px auto;max-width:min(520px,92vw);} 
    </style>
    <style>${e.css||""}</style>
  </head>
  <body>
    ${t}
  </body>
</html>`}const br={modal:{html:`
<div class="cx-overlay" data-cx-close>
  <div class="cx-modal" role="dialog" aria-modal="true">
    {{#if image_url}}<img class="cx-image" src="{{image_url}}" alt="{{title}}" />{{/if}}
    {{#if title}}<div class="cx-header">{{title}}</div>{{/if}}
    {{#if body}}<div class="cx-body">{{body}}</div>{{/if}}
    <div class="cx-footer">
      {{#if cta_url}}<a class="cx-btn cx-btn--ghost" href="{{cta_url}}" target="_blank" rel="noopener">{{cta_url_text}}</a>{{/if}}
      <button class="cx-btn cx-btn--primary" data-cx-close>{{cta_text}}</button>
    </div>
  </div>
</div>
`.trim(),css:`
.cx-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:2147483646;display:flex;align-items:center;justify-content:center;}
.cx-modal{background:#fff;width:min(520px,92vw);border-radius:16px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.25);font-family:system-ui,-apple-system,Segoe UI,Roboto;}
.cx-image{width:100%;max-height:260px;object-fit:cover;display:block;}
.cx-header{padding:18px 20px 8px;font-weight:700;font-size:18px;}
.cx-body{padding:0 20px 16px;font-size:14px;white-space:pre-wrap;}
.cx-footer{padding:0 20px 20px;display:flex;justify-content:flex-end;gap:10px;}
.cx-btn{border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;}
.cx-btn--primary{background:#111;color:#fff;}
.cx-btn--ghost{background:#eee;color:#111;}
`.trim()},banner:{html:`
<div class="cx-banner" data-cx-close>
  <div class="cx-banner__inner">
    <div class="cx-banner__text">
      {{title}}
    </div>
    {{#if cta_url}}<a class="cx-btn cx-btn--ghost" href="{{cta_url}}" target="_blank" rel="noopener">{{cta_url_text}}</a>{{/if}}
    <button class="cx-btn cx-btn--primary" data-cx-close>{{cta_text}}</button>
  </div>
</div>
`.trim(),css:`
.cx-banner{position:fixed;left:12px;right:12px;bottom:12px;background:#111;color:#fff;border-radius:14px;z-index:2147483646;box-shadow:0 18px 40px rgba(0,0,0,.25);}
.cx-banner__inner{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:14px;}
.cx-banner__text{font-weight:700;}
.cx-btn{border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;}
.cx-btn--primary{background:#fff;color:#111;}
.cx-btn--ghost{background:rgba(255,255,255,.15);color:#fff;}
`.trim()},toast:{html:`
<div class="cx-toast" data-cx-close>
  <div class="cx-toast__title">{{title}}</div>
  {{#if body}}<div class="cx-toast__body">{{body}}</div>{{/if}}
  <div class="cx-toast__footer">
    {{#if cta_url}}<a class="cx-btn cx-btn--ghost" href="{{cta_url}}" target="_blank" rel="noopener">{{cta_url_text}}</a>{{/if}}
    <button class="cx-btn cx-btn--primary" data-cx-close>{{cta_text}}</button>
  </div>
</div>
`.trim(),css:`
.cx-toast{position:fixed;right:12px;bottom:12px;max-width:min(420px,92vw);background:#111;color:#fff;border-radius:14px;z-index:2147483646;box-shadow:0 18px 40px rgba(0,0,0,.25);padding:14px;font-family:system-ui,-apple-system,Segoe UI,Roboto;}
.cx-toast__title{font-weight:800;margin-bottom:6px;}
.cx-toast__body{opacity:.9;white-space:pre-wrap;margin-bottom:10px;}
.cx-toast__footer{display:flex;gap:10px;justify-content:flex-end;}
.cx-btn{border:0;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;}
.cx-btn--primary{background:#fff;color:#111;}
.cx-btn--ghost{background:rgba(255,255,255,.15);color:#fff;}
`.trim()}};function r8(){const[e,t]=y.useState([]),[n,r]=y.useState([]);y.useEffect(()=>{const O=Rn(kn(ze,"workspaces"),Nn("__name__"));return Dn(O,R=>t(R.docs.map(T=>({id:T.id}))))},[]),y.useEffect(()=>{const O=Rn(kn(ze,"templates"),Nn("__name__"));return Dn(O,R=>r(R.docs.map(T=>({id:T.id,data:T.data()}))))},[]);const[i,o]=y.useState(()=>zr("tpl")),[a,s]=y.useState(""),[l,u]=y.useState("modal"),[c,d]=y.useState("Default"),[h,p]=y.useState(br.modal.html),[m,_]=y.useState(br.modal.css),[v,w]=y.useState({title:"",body:`
`,image_url:"https://images.unsplash.com/photo-1520975693411-b7e3c5c8c3f1?auto=format&fit=crop&w=1200&q=60",cta_text:"OK",cta_url:"https://nurihiro.website/",cta_url_text:""});y.useEffect(()=>{!a&&e.length&&s(e[0].id)},[e,a]),y.useEffect(()=>{p(O=>O||br[l].html),_(O=>O||br[l].css)},[l]);const E=y.useMemo(()=>({workspaceId:a,type:l,name:c.trim()||"Template",html:h,css:m}),[a,l,c,h,m]),S=y.useMemo(()=>n8({html:h,css:m,data:v}),[h,m,v]);async function I(){if(!a)throw new Error("workspaceId required");await kc(Br(ze,"templates",i.trim()),E,{merge:!0}),o(zr("tpl")),d("Default"),p(br.modal.html),_(br.modal.css),u("modal")}return x.jsxs("div",{className:"container",children:[x.jsxs("div",{className:"card",children:[x.jsx("h1",{className:"h1",children:"Templates"}),x.jsx("div",{className:"small",children:"// HTML/CSS Action  templateId  SDK "}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"row",style:{alignItems:"flex-start"},children:[x.jsxs("div",{style:{flex:1,minWidth:280},children:[x.jsx("div",{className:"h2",children:"templateId"}),x.jsx("input",{className:"input",value:i,onChange:O=>o(O.target.value)}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"workspaceId"}),x.jsx("select",{className:"input",value:a,onChange:O=>s(O.target.value),children:e.map(O=>x.jsx("option",{value:O.id,children:O.id},O.id))}),x.jsx("div",{style:{height:10}}),x.jsxs("div",{className:"row",children:[x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{className:"h2",children:"type"}),x.jsxs("select",{className:"input",value:l,onChange:O=>{const R=O.target.value;u(R),p(br[R].html),_(br[R].css)},children:[x.jsx("option",{value:"modal",children:"modal"}),x.jsx("option",{value:"banner",children:"banner"}),x.jsx("option",{value:"toast",children:"toast"})]})]}),x.jsxs("div",{style:{flex:2},children:[x.jsx("div",{className:"h2",children:"name"}),x.jsx("input",{className:"input",value:c,onChange:O=>d(O.target.value)})]})]}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"HTML"}),x.jsx("textarea",{className:"input",style:{minHeight:240,fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"},value:h,onChange:O=>p(O.target.value)}),x.jsxs("div",{className:"small",children:["title / body / image_url / cta_text / cta_url / cta_url_text ",x.jsx("code",{children:"{{#if key}}...{{/if}}"})," "]}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"CSS"}),x.jsx("textarea",{className:"input",style:{minHeight:180,fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace"},value:m,onChange:O=>_(O.target.value)}),x.jsx("div",{style:{height:14}}),x.jsx("button",{className:"btn btn--primary",onClick:I,children:""})]}),x.jsxs("div",{style:{flex:1,minWidth:280},children:[x.jsx("div",{className:"h2",children:"Phase 1"}),x.jsx("div",{className:"small",children:" scripts iframe sandboxiframe position "}),x.jsx("div",{style:{height:10}}),x.jsxs("div",{className:"card",style:{background:"rgba(255,255,255,.03)"},children:[x.jsx("div",{className:"h2",children:""}),x.jsxs("div",{className:"small",children:[" ",x.jsx("code",{children:"{{title}}"})," "]}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"title"}),x.jsx("input",{className:"input",value:v.title,onChange:O=>w(R=>({...R,title:O.target.value}))}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"body"}),x.jsx("textarea",{className:"input",value:v.body,onChange:O=>w(R=>({...R,body:O.target.value}))}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"image_url"}),x.jsx("input",{className:"input",value:v.image_url,onChange:O=>w(R=>({...R,image_url:O.target.value}))}),x.jsx("div",{style:{height:10}}),x.jsxs("div",{className:"row",children:[x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{className:"h2",children:"cta_text"}),x.jsx("input",{className:"input",value:v.cta_text,onChange:O=>w(R=>({...R,cta_text:O.target.value}))})]}),x.jsxs("div",{style:{flex:2},children:[x.jsx("div",{className:"h2",children:"cta_url"}),x.jsx("input",{className:"input",value:v.cta_url,onChange:O=>w(R=>({...R,cta_url:O.target.value}))})]})]}),x.jsx("div",{style:{height:10}}),x.jsx("div",{className:"h2",children:"cta_url_text"}),x.jsx("input",{className:"input",value:v.cta_url_text,onChange:O=>w(R=>({...R,cta_url_text:O.target.value}))})]}),x.jsx("div",{style:{height:12}}),x.jsxs("div",{className:"card",style:{background:"rgba(255,255,255,.03)"},children:[x.jsx("div",{className:"h2",children:""}),x.jsx("iframe",{title:"template-preview",sandbox:"",style:{width:"100%",height:420,border:"1px solid rgba(255,255,255,.12)",borderRadius:12,background:"#0b0b0b"},srcDoc:S})]}),x.jsx("div",{style:{height:12}}),x.jsx("div",{className:"h2",children:"JSON"}),x.jsx("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:JSON.stringify(E,null,2)})]})]})]}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"card",children:[x.jsx("div",{className:"h2",children:""}),x.jsxs("table",{className:"table",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{children:"ID"}),x.jsx("th",{children:"workspaceId"}),x.jsx("th",{children:"type"}),x.jsx("th",{children:"name"}),x.jsx("th",{})]})}),x.jsx("tbody",{children:n.map(O=>x.jsxs("tr",{children:[x.jsx("td",{children:x.jsx("code",{children:O.id})}),x.jsx("td",{children:x.jsx("code",{children:O.data.workspaceId})}),x.jsx("td",{children:O.data.type}),x.jsx("td",{children:O.data.name}),x.jsxs("td",{children:[x.jsx("button",{className:"btn",onClick:()=>{o(O.id),s(O.data.workspaceId),u(O.data.type),d(O.data.name||"Template"),p(O.data.html||br[O.data.type].html),_(O.data.css||br[O.data.type].css)},children:""}),x.jsx("span",{style:{width:8,display:"inline-block"}}),x.jsx("button",{className:"btn btn--danger",onClick:()=>Rc(Br(ze,"templates",O.id)),children:""})]})]},O.id))})]})]})]})}function RN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=RN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ae(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=RN(e))&&(r&&(r+=" "),r+=t);return r}var i8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Nw(e){if(typeof e!="string")return!1;var t=i8;return t.includes(e)}var o8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],a8=new Set(o8);function NN(e){return typeof e!="string"?!1:a8.has(e)}function DN(e){return typeof e=="string"&&e.startsWith("data-")}function wi(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(NN(n)||DN(n))&&(t[n]=e[n]);return t}function Hp(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return wi(t)}return typeof e=="object"&&!Array.isArray(e)?wi(e):null}function ln(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(NN(n)||DN(n)||Nw(n))&&(t[n]=e[n]);return t}function s8(e){return e==null?null:y.isValidElement(e)?ln(e.props):typeof e=="object"&&!Array.isArray(e)?ln(e):null}var l8=["children","width","height","viewBox","className","style","title","desc"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ly.apply(null,arguments)}function u8(e,t){if(e==null)return{};var n,r,i=c8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dw=y.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:u}=e,c=u8(e,l8),d=o||{width:r,height:i,x:0,y:0},h=Ae("recharts-surface",a);return y.createElement("svg",Ly({},ln(c),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),y.createElement("title",null,l),y.createElement("desc",null,u),n)}),f8=["children","className"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function d8(e,t){if(e==null)return{};var n,r,i=h8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var To=y.forwardRef((e,t)=>{var{children:n,className:r}=e,i=d8(e,f8),o=Ae("recharts-layer",r);return y.createElement("g",Vy({className:o},ln(i),{ref:t}),n)}),jN=y.createContext(null),p8=()=>y.useContext(jN);function ke(e){return function(){return e}}const MN=Math.cos,gh=Math.sin,_r=Math.sqrt,vh=Math.PI,qp=2*vh,Uy=Math.PI,Fy=2*Uy,Ko=1e-6,m8=Fy-Ko;function LN(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function g8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return LN;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class v8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?LN:g8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,d=s-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Ko)if(!(Math.abs(d*l-u*c)>Ko)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,m=i-s,_=l*l+u*u,v=p*p+m*m,w=Math.sqrt(_),E=Math.sqrt(h),S=o*Math.tan((Uy-Math.acos((_+h-v)/(2*w*E)))/2),I=S/E,O=S/w;Math.abs(I-1)>Ko&&this._append`L${t+I*c},${n+I*d}`,this._append`A${o},${o},0,0,${+(d*p>c*m)},${this._x1=t+O*l},${this._y1=n+O*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,d=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ko||Math.abs(this._y1-c)>Ko)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Fy+Fy),h>m8?this._append`A${r},${r},0,1,${d},${t-s},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>Ko&&this._append`A${r},${r},0,${+(h>=Uy)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new v8(t)}function Mw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function VN(e){this._context=e}VN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gp(e){return new VN(e)}function UN(e){return e[0]}function FN(e){return e[1]}function $N(e,t){var n=ke(!0),r=null,i=Gp,o=null,a=jw(s);e=typeof e=="function"?e:e===void 0?UN:ke(e),t=typeof t=="function"?t:t===void 0?FN:ke(t);function s(l){var u,c=(l=Mw(l)).length,d,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(d,u,l),+t(d,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:ke(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:ke(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ke(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Vf(e,t,n){var r=null,i=ke(!0),o=null,a=Gp,s=null,l=jw(u);e=typeof e=="function"?e:e===void 0?UN:ke(+e),t=typeof t=="function"?t:ke(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?FN:ke(+n);function u(d){var h,p,m,_=(d=Mw(d)).length,v,w=!1,E,S=new Array(_),I=new Array(_);for(o==null&&(s=a(E=l())),h=0;h<=_;++h){if(!(h<_&&i(v=d[h],h,d))===w)if(w=!w)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),m=h-1;m>=p;--m)s.point(S[m],I[m]);s.lineEnd(),s.areaEnd()}w&&(S[h]=+e(v,h,d),I[h]=+t(v,h,d),s.point(r?+r(v,h,d):S[h],n?+n(v,h,d):I[h]))}if(E)return s=null,E+""||null}function c(){return $N().defined(i).curve(a).context(o)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ke(+d),r=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ke(+d),u):e},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ke(+d),u):r},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ke(+d),n=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ke(+d),u):t},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ke(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:ke(!!d),u):i},u.curve=function(d){return arguments.length?(a=d,o!=null&&(s=a(o)),u):a},u.context=function(d){return arguments.length?(d==null?o=s=null:s=a(o=d),u):o},u}class BN{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function y8(e){return new BN(e,!0)}function _8(e){return new BN(e,!1)}const Lw={draw(e,t){const n=_r(t/vh);e.moveTo(n,0),e.arc(0,0,n,0,qp)}},w8={draw(e,t){const n=_r(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},zN=_r(1/3),b8=zN*2,E8={draw(e,t){const n=_r(t/b8),r=n*zN;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},x8={draw(e,t){const n=_r(t),r=-n/2;e.rect(r,r,n,n)}},S8=.8908130915292852,WN=gh(vh/10)/gh(7*vh/10),P8=gh(qp/10)*WN,T8=-MN(qp/10)*WN,I8={draw(e,t){const n=_r(t*S8),r=P8*n,i=T8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=qp*o/5,s=MN(a),l=gh(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},Kg=_r(3),A8={draw(e,t){const n=-_r(t/(Kg*3));e.moveTo(0,n*2),e.lineTo(-Kg*n,-n),e.lineTo(Kg*n,-n),e.closePath()}},$n=-.5,Bn=_r(3)/2,$y=1/_r(12),O8=($y/2+1)*3,C8={draw(e,t){const n=_r(t/O8),r=n/2,i=n*$y,o=r,a=n*$y+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo($n*r-Bn*i,Bn*r+$n*i),e.lineTo($n*o-Bn*a,Bn*o+$n*a),e.lineTo($n*s-Bn*l,Bn*s+$n*l),e.lineTo($n*r+Bn*i,$n*i-Bn*r),e.lineTo($n*o+Bn*a,$n*a-Bn*o),e.lineTo($n*s+Bn*l,$n*l-Bn*s),e.closePath()}};function k8(e,t){let n=null,r=jw(i);e=typeof e=="function"?e:ke(e||Lw),t=typeof t=="function"?t:ke(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ke(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ke(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function yh(){}function _h(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function KN(e){this._context=e}KN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_h(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R8(e){return new KN(e)}function HN(e){this._context=e}HN.prototype={areaStart:yh,areaEnd:yh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function N8(e){return new HN(e)}function qN(e){this._context=e}qN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_h(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D8(e){return new qN(e)}function GN(e){this._context=e}GN.prototype={areaStart:yh,areaEnd:yh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function j8(e){return new GN(e)}function tT(e){return e<0?-1:1}function nT(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(tT(o)+tT(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function rT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Hg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function wh(e){this._context=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hg(this,this._t0,rT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hg(this,rT(this,n=nT(this,e,t)),n);break;default:Hg(this,this._t0,n=nT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function YN(e){this._context=new QN(e)}(YN.prototype=Object.create(wh.prototype)).point=function(e,t){wh.prototype.point.call(this,t,e)};function QN(e){this._context=e}QN.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function M8(e){return new wh(e)}function L8(e){return new YN(e)}function XN(e){this._context=e}XN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=iT(e),i=iT(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iT(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function V8(e){return new XN(e)}function Yp(e,t){this._context=e,this._t=t}Yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function U8(e){return new Yp(e,.5)}function F8(e){return new Yp(e,0)}function $8(e){return new Yp(e,1)}function Sa(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function By(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function B8(e,t){return e[t]}function z8(e){const t=[];return t.key=e,t}function W8(){var e=ke([]),t=By,n=Sa,r=B8;function i(o){var a=Array.from(e.apply(this,arguments),z8),s,l=a.length,u=-1,c;for(const d of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(d,a[s].key,u,o)]).data=d;for(s=0,c=Mw(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ke(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ke(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?By:typeof o=="function"?o:ke(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Sa,i):n},i}function K8(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Sa(e,t)}}function H8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Sa(e,t)}}function q8(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],d=c[r][1]||0,h=c[r-1][1]||0,p=(d-h)/2,m=0;m<s;++m){var _=e[t[m]],v=_[r][1]||0,w=_[r-1][1]||0;p+=v-w}l+=d,u+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Sa(e,t)}}var Qp={},JN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(JN);var Vw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Vw);var Xp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Xp);var Jp={},ZN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(ZN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZN,n=Xp;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],a=i.length;if(a===0)return o;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(o.push(""),s++);s<a;){const d=i[s];u?d==="\\"&&s+1<a?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,o.push(l),l=""):l+=d:d==="["?(c=!0,l&&(o.push(l),l="")):d==="."?l&&(o.push(l),l=""):l+=d,s++}return l&&o.push(l),o}e.toPath=r})(Jp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JN,n=Vw,r=Xp,i=Jp;function o(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?n.isDeepKey(l)?o(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return a(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function a(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=o})(Qp);var G8=Qp.get;const Zp=Ai(G8);var Y8=4;function io(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Y8,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,a)=>{var s=n[a-1];return typeof s=="string"?i+s+o:s!==void 0?i+io(s)+o:i+o},"")}var fr=e=>e===0?0:e>0?1:-1,bi=e=>typeof e=="number"&&e!=+e,Pa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!bi(e),Wr=e=>re(e)||typeof e=="string",Q8=0,Ju=e=>{var t=++Q8;return"".concat(e||"").concat(t)},Io=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return r;var o;if(Pa(t)){if(n==null)return r;var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return bi(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},eD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function mn(e,t,n){return re(e)&&re(t)?io(e+n*(t-e)):t}function tD(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Zp(r,t))===n)}var Ut=e=>e===null||typeof e>"u",Nc=e=>Ut(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Or(e){return e!=null}function al(){}var X8=["type","size","sizeType"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(null,arguments)}function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(r){J8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J8(e,t,n){return(t=Z8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z8(e){var t=eK(e,"string");return typeof t=="symbol"?t:t+""}function eK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tK(e,t){if(e==null)return{};var n,r,i=nK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nD={symbolCircle:Lw,symbolCross:w8,symbolDiamond:E8,symbolSquare:x8,symbolStar:I8,symbolTriangle:A8,symbolWye:C8},rK=Math.PI/180,iK=e=>{var t="symbol".concat(Nc(e));return nD[t]||Lw},oK=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*rK;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},aK=(e,t)=>{nD["symbol".concat(Nc(e))]=t},Uw=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=tK(e,X8),o=aT(aT({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var s=()=>{var h=iK(a),p=k8().type(h).size(oK(n,r,a)),m=p();if(m!==null)return m},{className:l,cx:u,cy:c}=o,d=ln(o);return re(u)&&re(c)&&re(n)?y.createElement("path",zy({},d,{className:Ae("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};Uw.registerSymbol=aK;var rD=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Fw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Nw(i)&&(r[i]=o=>n[i](n,o))}),r},sK=(e,t,n)=>r=>(e(t,n,r),null),iD=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];Nw(i)&&typeof o=="function"&&(r||(r={}),r[i]=sK(o,t,n))}),r};function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(r){uK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uK(e,t,n){return(t=cK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dn(e,t){var n=lK({},e),r=t,i=Object.keys(t),o=i.reduce((a,s)=>(a[s]===void 0&&r[s]!==void 0&&(a[s]=r[s]),a),n);return o}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bh.apply(null,arguments)}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(r){hK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hK(e,t,n){return(t=pK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wn=32,gK={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function vK(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Wn/2,o=Wn/6,a=Wn/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Wn,y2:i,className:"recharts-legend-icon"})}if(l==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Wn,"M").concat(2*a,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return y.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Wn/8,"h").concat(Wn,"v").concat(Wn*3/4,"h").concat(-Wn,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var c=dK({},t);return delete c.legendIcon,y.cloneElement(t.legendIcon,c)}return y.createElement(Uw,{fill:s,cx:i,cy:i,size:Wn,sizeType:"diameter",type:l})}function yK(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:a}=e,s={x:0,y:0,width:Wn,height:Wn},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var h=c.formatter||i,p=Ae({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?o:c.color,_=h?h(c.value,c,d):c.value;return y.createElement("li",bh({className:p,style:l,key:"legend-item-".concat(d)},iD(e,c,d)),y.createElement(Dw,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(_," legend icon")},y.createElement(vK,{data:c,iconType:a,inactiveColor:o})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},_))})}var _K=e=>{var t=dn(e,gK),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:o},y.createElement(yK,bh({},t,{payload:n})))},oD={},aD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const a=n[o],s=r(a,o,n);i.has(s)||i.set(s,a)}return Array.from(i.values())}e.uniqBy=t})(aD);var sD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(sD);var $w={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})($w);var lD={},em={},uD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(uD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uD;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(em);var cD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(cD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=em,n=cD;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(lD);var fD={},dD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qp;function n(r){return function(i){return t.get(i,r)}}e.property=n})(dD);var hD={},Bw={},pD={},zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(zw);var Ww={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ww);var Kw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Kw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zw,n=Ww,r=Kw;function i(c,d,h){return typeof h!="function"?i(c,d,()=>{}):o(c,d,function p(m,_,v,w,E,S){const I=h(m,_,v,w,E,S);return I!==void 0?!!I:o(m,_,p,S)},new Map)}function o(c,d,h,p){if(d===c)return!0;switch(typeof d){case"object":return a(c,d,h,p);case"function":return Object.keys(d).length>0?o(c,{...d},h,p):r.isEqualsSameValueZero(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:r.isEqualsSameValueZero(c,d)}}function a(c,d,h,p){if(d==null)return!0;if(Array.isArray(d))return l(c,d,h,p);if(d instanceof Map)return s(c,d,h,p);if(d instanceof Set)return u(c,d,h,p);const m=Object.keys(d);if(c==null||n.isPrimitive(c))return m.length===0;if(m.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===c;p==null||p.set(d,c);try{for(let _=0;_<m.length;_++){const v=m[_];if(!n.isPrimitive(c)&&!(v in c)||d[v]===void 0&&c[v]!==void 0||d[v]===null&&c[v]!==null||!h(c[v],d[v],v,c,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function s(c,d,h,p){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[m,_]of d.entries()){const v=c.get(m);if(h(v,_,m,c,d,p)===!1)return!1}return!0}function l(c,d,h,p){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const m=new Set;for(let _=0;_<d.length;_++){const v=d[_];let w=!1;for(let E=0;E<c.length;E++){if(m.has(E))continue;const S=c[E];let I=!1;if(h(S,v,_,c,d,p)&&(I=!0),I){m.add(E),w=!0;break}}if(!w)return!1}return!0}function u(c,d,h,p){return d.size===0?!0:c instanceof Set?l([...c],[...d],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(pD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pD;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Bw);var mD={},Hw={},gD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(gD);var tm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(tm);var qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",a="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",_="[object DataView]",v="[object Uint8Array]",w="[object Uint8ClampedArray]",E="[object Uint16Array]",S="[object Uint32Array]",I="[object BigUint64Array]",O="[object Int8Array]",R="[object Int16Array]",T="[object Int32Array]",P="[object BigInt64Array]",A="[object Float32Array]",k="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=I,e.booleanTag=i,e.dataViewTag=_,e.dateTag=s,e.errorTag=m,e.float32ArrayTag=A,e.float64ArrayTag=k,e.functionTag=d,e.int16ArrayTag=R,e.int32ArrayTag=T,e.int8ArrayTag=O,e.mapTag=l,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=E,e.uint32ArrayTag=S,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=w})(qw);var vD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(vD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gD,n=tm,r=qw,i=Ww,o=vD;function a(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,h,p=new Map,m=void 0){const _=m==null?void 0:m(c,d,h,p);if(_!==void 0)return _;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const v=new Array(c.length);p.set(c,v);for(let w=0;w<c.length;w++)v[w]=s(c[w],w,h,p,m);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;p.set(c,v);for(const[w,E]of c)v.set(w,s(E,w,h,p,m));return v}if(c instanceof Set){const v=new Set;p.set(c,v);for(const w of c)v.add(s(w,void 0,h,p,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,v);for(let w=0;w<c.length;w++)v[w]=s(c[w],w,h,p,m);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,v),l(v,c,h,p,m),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return p.set(c,v),l(v,c,h,p,m),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return p.set(c,v),l(v,c,h,p,m),v}if(c instanceof Error){const v=new c.constructor;return p.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,l(v,c,h,p,m),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return p.set(c,v),l(v,c,h,p,m),v}if(c instanceof Number){const v=new Number(c.valueOf());return p.set(c,v),l(v,c,h,p,m),v}if(c instanceof String){const v=new String(c.valueOf());return p.set(c,v),l(v,c,h,p,m),v}if(typeof c=="object"&&u(c)){const v=Object.create(Object.getPrototypeOf(c));return p.set(c,v),l(v,c,h,p,m),v}return c}function l(c,d,h=c,p,m){const _=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<_.length;v++){const w=_[v],E=Object.getOwnPropertyDescriptor(c,w);(E==null||E.writable)&&(c[w]=s(d[w],w,h,p,m))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=s,e.copyProperties=l})(Hw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hw;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(mD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw,n=mD;function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(hD);var yD={},_D={},wD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hw,n=tm,r=qw;function i(o,a){return t.cloneDeepWith(o,(s,l,u,c)=>{const d=a==null?void 0:a(s,l,u,c);if(d!==void 0)return d;if(typeof o=="object"){if(n.getTag(o)===r.objectTag&&typeof o.constructor!="function"){const h={};return c.set(o,h),t.copyProperties(h,o,u,c),h}switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(h,o),h}case r.argumentsTag:{const h={};return t.copyProperties(h,o),h.length=o.length,h[Symbol.iterator]=o[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(wD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(_D);var bD={},Gw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Gw);var ED={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tm;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(ED);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vw,n=Gw,r=ED,i=Jp;function o(a,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(a==null?void 0:a[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=a;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=o})(bD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bw,n=Xp,r=_D,i=Qp,o=bD;function a(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?o.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=a})(yD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w,n=dD,r=hD,i=yD;function o(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=o})(fD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aD,n=sD,r=$w,i=lD,o=fD;function a(s,l=r.identity){return i.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(o.iteratee(l),1)):[]}e.uniqBy=a})(oD);var wK=oD.uniqBy;const uT=Ai(wK);function xD(e,t,n){return t===!0?uT(e,n):typeof t=="function"?uT(e,t):e}var SD={exports:{}},PD={},TD={exports:{}},ID={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $s=y;function bK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EK=typeof Object.is=="function"?Object.is:bK,xK=$s.useState,SK=$s.useEffect,PK=$s.useLayoutEffect,TK=$s.useDebugValue;function IK(e,t){var n=t(),r=xK({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return PK(function(){i.value=n,i.getSnapshot=t,qg(i)&&o({inst:i})},[e,n,t]),SK(function(){return qg(i)&&o({inst:i}),e(function(){qg(i)&&o({inst:i})})},[e]),TK(n),n}function qg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!EK(e,n)}catch{return!0}}function AK(e,t){return t()}var OK=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?AK:IK;ID.useSyncExternalStore=$s.useSyncExternalStore!==void 0?$s.useSyncExternalStore:OK;TD.exports=ID;var CK=TD.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=y,kK=CK;function RK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NK=typeof Object.is=="function"?Object.is:RK,DK=kK.useSyncExternalStore,jK=nm.useRef,MK=nm.useEffect,LK=nm.useMemo,VK=nm.useDebugValue;PD.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=jK(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=LK(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var m=a.value;if(i(m,p))return d=m}return d=p}if(m=d,NK(c,p))return m;var _=r(p);return i!==void 0&&i(m,_)?(c=p,m):(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=DK(e,o[0],o[1]);return MK(function(){a.hasValue=!0,a.value=s},[s]),VK(s),s};SD.exports=PD;var UK=SD.exports,Yw=y.createContext(null),FK=e=>e,lt=()=>{var e=y.useContext(Yw);return e?e.store.dispatch:FK},bd=()=>{},$K=()=>bd,BK=(e,t)=>e===t;function ne(e){var t=y.useContext(Yw),n=y.useMemo(()=>t?r=>{if(r!=null)return e(r)}:bd,[t,e]);return UK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$K,t?t.store.getState:bd,t?t.store.getState:bd,n,BK)}function zK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function WK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function KK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var cT=e=>Array.isArray(e)?e:[e];function HK(e){const t=Array.isArray(e[0])?e[0]:e;return KK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function qK(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var GK=class{constructor(e){this.value=e}deref(){return this.value}},YK=typeof WeakRef<"u"?WeakRef:GK,QK=0,fT=1;function Uf(){return{s:QK,v:void 0,o:null,p:null}}function AD(e,t={}){let n=Uf();const{resultEqualityCheck:r}=t;let i,o=0;function a(){var d;let s=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let _=s.o;_===null&&(s.o=_=new WeakMap);const v=_.get(m);v===void 0?(s=Uf(),_.set(m,s)):s=v}else{let _=s.p;_===null&&(s.p=_=new Map);const v=_.get(m);v===void 0?(s=Uf(),_.set(m,s)):s=v}}const u=s;let c;if(s.s===fT)c=s.v;else if(c=e.apply(null,arguments),o++,r){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&r(h,c)&&(c=h,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new YK(c):c}return u.s=fT,u.v=c,c}return a.clearCache=()=>{n=Uf(),a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function XK(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,a=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),zK(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=AD,argsMemoizeOptions:m=[]}=c,_=cT(h),v=cT(m),w=HK(i),E=d(function(){return o++,u.apply(null,arguments)},..._),S=p(function(){a++;const O=qK(w,arguments);return s=E.apply(null,O),s},...v);return Object.assign(S,{resultFunc:u,memoizedResultFunc:E,dependencies:w,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>s,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var U=XK(AD),JK=Object.assign((e,t=U)=>{WK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((a,s,l)=>(a[n[l]]=s,a),{}))},{withTypes:()=>JK}),OD={},CD={},kD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const a=t(r),s=t(i);if(a===s&&a===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?s-a:a-s}return 0};e.compareValues=n})(kD);var RD={},Qw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Qw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||a!=null&&Object.hasOwn(a,o)}e.isKey=i})(RD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kD,n=RD,r=Jp;function i(o,a,s,l){if(o==null)return[];s=l?void 0:s,Array.isArray(o)||(o=Object.values(o)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,m)=>{let _=p;for(let v=0;v<m.length&&_!=null;++v)_=_[m[v]];return _},c=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,d=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:d.map(m=>c(m,p))})).slice().sort((p,m)=>{for(let _=0;_<d.length;_++){const v=t.compareValues(p.criteria[_],m.criteria[_],s[_]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=i})(CD);var ND={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),a=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<o?a(c,l+1):i.push(c)}};return a(n,0),i}e.flatten=t})(ND);var Xw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gw,n=em,r=zw,i=Kw;function o(a,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.isEqualsSameValueZero(l[s],a):!1}e.isIterateeCall=o})(Xw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CD,n=ND,r=Xw;function i(o,...a){const s=a.length;return s>1&&r.isIterateeCall(o,a[0],a[1])?a=[]:s>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(o,n.flatten(a),["asc"])}e.sortBy=i})(OD);var ZK=OD.sortBy;const rm=Ai(ZK);var DD=e=>e.legend.settings,eH=e=>e.legend.size,tH=e=>e.legend.payload,nH=U([tH,DD],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?rm(r,n):r});function rH(){return ne(nH)}var Ff=1;function jD(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),a={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(a.height-t.height)>Ff||Math.abs(a.left-t.left)>Ff||Math.abs(a.top-t.top)>Ff||Math.abs(a.width-t.width)>Ff)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function At(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iH=typeof Symbol=="function"&&Symbol.observable||"@@observable",dT=iH,Gg=()=>Math.random().toString(36).substring(7).split("").join("."),oH={INIT:`@@redux/INIT${Gg()}`,REPLACE:`@@redux/REPLACE${Gg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gg()}`},Eh=oH;function Jw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MD(e,t,n){if(typeof e!="function")throw new Error(At(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(At(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(At(1));return n(MD)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((v,w)=>{a.set(w,v)}))}function c(){if(l)throw new Error(At(3));return i}function d(v){if(typeof v!="function")throw new Error(At(4));if(l)throw new Error(At(5));let w=!0;u();const E=s++;return a.set(E,v),function(){if(w){if(l)throw new Error(At(6));w=!1,u(),a.delete(E),o=null}}}function h(v){if(!Jw(v))throw new Error(At(7));if(typeof v.type>"u")throw new Error(At(8));if(typeof v.type!="string")throw new Error(At(17));if(l)throw new Error(At(9));try{l=!0,i=r(i,v)}finally{l=!1}return(o=a).forEach(E=>{E()}),v}function p(v){if(typeof v!="function")throw new Error(At(10));r=v,h({type:Eh.REPLACE})}function m(){const v=d;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(At(11));function E(){const I=w;I.next&&I.next(c())}return E(),{unsubscribe:v(E)}},[dT](){return this}}}return h({type:Eh.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[dT]:m}}function aH(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Eh.INIT})>"u")throw new Error(At(12));if(typeof n(void 0,{type:Eh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(At(13))})}function LD(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{aH(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=a[d],m=h(p,s);if(typeof m>"u")throw s&&s.type,new Error(At(14));u[d]=m,l=l||m!==p}return l=l||r.length!==Object.keys(a).length,l?u:a}}function xh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function sH(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(At(15))};const a={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},s=e.map(l=>l(a));return o=xh(...s)(i.dispatch),{...i,dispatch:o}}}function VD(e){return Jw(e)&&"type"in e&&typeof e.type=="string"}var UD=Symbol.for("immer-nothing"),hT=Symbol.for("immer-draftable"),un=Symbol.for("immer-state");function sr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var On=Object,Bs=On.getPrototypeOf,Sh="constructor",im="prototype",Wy="configurable",Ph="enumerable",Ed="writable",Zu="value",Ei=e=>!!e&&!!e[un];function yr(e){var t;return e?FD(e)||am(e)||!!e[hT]||!!((t=e[Sh])!=null&&t[hT])||sm(e)||lm(e):!1}var lH=On[im][Sh].toString(),pT=new WeakMap;function FD(e){if(!e||!Zw(e))return!1;const t=Bs(e);if(t===null||t===On[im])return!0;const n=On.hasOwnProperty.call(t,Sh)&&t[Sh];if(n===Object)return!0;if(!Ja(n))return!1;let r=pT.get(n);return r===void 0&&(r=Function.toString.call(n),pT.set(n,r)),r===lH}function om(e,t,n=!0){Dc(e)===0?(n?Reflect.ownKeys(e):On.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Dc(e){const t=e[un];return t?t.type_:am(e)?1:sm(e)?2:lm(e)?3:0}var mT=(e,t,n=Dc(e))=>n===2?e.has(t):On[im].hasOwnProperty.call(e,t),Ky=(e,t,n=Dc(e))=>n===2?e.get(t):e[t],Th=(e,t,n,r=Dc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function uH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var am=Array.isArray,sm=e=>e instanceof Map,lm=e=>e instanceof Set,Zw=e=>typeof e=="object",Ja=e=>typeof e=="function",Yg=e=>typeof e=="boolean";function cH(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Zr=e=>e.copy_||e.base_,eb=e=>e.modified_?e.copy_:e.base_;function Hy(e,t){if(sm(e))return new Map(e);if(lm(e))return new Set(e);if(am(e))return Array[im].slice.call(e);const n=FD(e);if(t===!0||t==="class_only"&&!n){const r=On.getOwnPropertyDescriptors(e);delete r[un];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s[Ed]===!1&&(s[Ed]=!0,s[Wy]=!0),(s.get||s.set)&&(r[a]={[Wy]:!0,[Ed]:!0,[Ph]:s[Ph],[Zu]:e[a]})}return On.create(Bs(e),r)}else{const r=Bs(e);if(r!==null&&n)return{...e};const i=On.create(r);return On.assign(i,e)}}function tb(e,t=!1){return um(e)||Ei(e)||!yr(e)||(Dc(e)>1&&On.defineProperties(e,{set:$f,add:$f,clear:$f,delete:$f}),On.freeze(e),t&&om(e,(n,r)=>{tb(r,!0)},!1)),e}function fH(){sr(2)}var $f={[Zu]:fH};function um(e){return e===null||!Zw(e)?!0:On.isFrozen(e)}var Ih="MapSet",qy="Patches",gT="ArrayMethods",$D={};function Ta(e){const t=$D[e];return t||sr(0,e),t}var vT=e=>!!$D[e],ec,BD=()=>ec,dH=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:vT(Ih)?Ta(Ih):void 0,arrayMethodsPlugin_:vT(gT)?Ta(gT):void 0});function yT(e,t){t&&(e.patchPlugin_=Ta(qy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Gy(e){Yy(e),e.drafts_.forEach(hH),e.drafts_=null}function Yy(e){e===ec&&(ec=e.parent_)}var _T=e=>ec=dH(ec,e);function hH(e){const t=e[un];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[un].modified_&&(Gy(t),sr(4)),yr(e)&&(e=bT(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[un].base_,e,t)}else e=bT(t,n);return pH(t,e,!0),Gy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UD?e:void 0}function bT(e,t){if(um(t))return t;const n=t[un];if(!n)return Ah(t,e.handledSet_,e);if(!cm(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);KD(n,e)}return n.copy_}function pH(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tb(t,n)}function zD(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var cm=(e,t)=>e.scope_===t,mH=[];function WD(e,t,n,r){const i=Zr(e),o=e.type_;if(r!==void 0&&Ky(i,r,o)===t){Th(i,r,n,o);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;om(i,(l,u)=>{if(Ei(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const a=e.draftLocations_.get(t)??mH;for(const s of a)Th(i,s,n,o)}function gH(e,t,n){e.callbacks_.push(function(i){var s;const o=t;if(!o||!cm(o,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(o);const a=eb(o);WD(e,o.draft_??o,a,n),KD(o,i)})}function KD(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}zD(e)}}function vH(e,t,n){const{scope_:r}=e;if(Ei(n)){const i=n[un];cm(i,r)&&i.callbacks_.push(function(){xd(e);const a=eb(i);WD(e,n,a,t)})}else yr(n)&&e.callbacks_.push(function(){const o=Zr(e);e.type_===3?o.has(n)&&Ah(n,r.handledSet_,r):Ky(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Ah(Ky(e.copy_,t,e.type_),r.handledSet_,r)})}function Ah(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ei(e)||t.has(e)||!yr(e)||um(e)||(t.add(e),om(e,(r,i)=>{if(Ei(i)){const o=i[un];if(cm(o,n)){const a=eb(o);Th(e,r,a,e.type_),zD(o)}}else yr(i)&&Ah(i,t,n)})),e}function yH(e,t){const n=am(e),r={type_:n?1:0,scope_:t?t.scope_:BD(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Oh;n&&(i=[r],o=tc);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}var Oh={get(e,t){if(t===un)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Zr(e);if(!mT(i,t,e.type_))return _H(e,i,t);const o=i[t];if(e.finalized_||!yr(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&cH(t))return o;if(o===Qg(e.base_,t)){xd(e);const a=e.type_===1?+t:t,s=Xy(e.scope_,o,e,a);return e.copy_[a]=s}return o},has(e,t){return t in Zr(e)},ownKeys(e){return Reflect.ownKeys(Zr(e))},set(e,t,n){const r=HD(Zr(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Qg(Zr(e),t),o=i==null?void 0:i[un];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(uH(n,i)&&(n!==void 0||mT(e.base_,t,e.type_)))return!0;xd(e),Qy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),vH(e,t,n)),!0},deleteProperty(e,t){return xd(e),Qg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Qy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Zr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Ed]:!0,[Wy]:e.type_!==1||t!=="length",[Ph]:r[Ph],[Zu]:n[t]}},defineProperty(){sr(11)},getPrototypeOf(e){return Bs(e.base_)},setPrototypeOf(){sr(12)}},tc={};for(let e in Oh){let t=Oh[e];tc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}tc.deleteProperty=function(e,t){return tc.set.call(this,e,t,void 0)};tc.set=function(e,t,n){return Oh.set.call(this,e[0],t,n,e[0])};function Qg(e,t){const n=e[un];return(n?Zr(n):e)[t]}function _H(e,t,n){var i;const r=HD(t,n);return r?Zu in r?r[Zu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function HD(e,t){if(!(t in e))return;let n=Bs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bs(n)}}function Qy(e){e.modified_||(e.modified_=!0,e.parent_&&Qy(e.parent_))}function xd(e){e.copy_||(e.assigned_=new Map,e.copy_=Hy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Ja(n)&&!Ja(r)){const a=r;r=n;const s=this;return function(u=a,...c){return s.produce(u,d=>r.call(this,d,...c))}}Ja(r)||sr(6),i!==void 0&&!Ja(i)&&sr(7);let o;if(yr(n)){const a=_T(this),s=Xy(a,n,void 0);let l=!0;try{o=r(s),l=!1}finally{l?Gy(a):Yy(a)}return yT(a,i),wT(o,a)}else if(!n||!Zw(n)){if(o=r(n),o===void 0&&(o=n),o===UD&&(o=void 0),this.autoFreeze_&&tb(o,!0),i){const a=[],s=[];Ta(qy).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:s}),i(a,s)}return o}else sr(1,n)},this.produceWithPatches=(n,r)=>{if(Ja(n))return(s,...l)=>this.produceWithPatches(s,u=>n(u,...l));let i,o;return[this.produce(n,r,(s,l)=>{i=s,o=l}),i,o]},Yg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Yg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Yg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){yr(t)||sr(8),Ei(t)&&(t=mr(t));const n=_T(this),r=Xy(n,t,void 0);return r[un].isManual_=!0,Yy(n),r}finishDraft(t,n){const r=t&&t[un];(!r||!r.isManual_)&&sr(9);const{scope_:i}=r;return yT(i,n),wT(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=Ta(qy).applyPatches_;return Ei(t)?i(t,n):this.produce(t,o=>i(o,n))}};function Xy(e,t,n,r){const[i,o]=sm(t)?Ta(Ih).proxyMap_(t,n):lm(t)?Ta(Ih).proxySet_(t,n):yH(t,n);return((n==null?void 0:n.scope_)??BD()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?gH(n,o,r):o.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(o);const{patchPlugin_:u}=l;o.modified_&&u&&u.generatePatches_(o,[],l)}),i}function mr(e){return Ei(e)||sr(10,e),qD(e)}function qD(e){if(!yr(e)||um(e))return e;const t=e[un];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Hy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Hy(e,!0);return om(n,(i,o)=>{Th(n,i,qD(o))},r),t&&(t.finalized_=!1),n}var bH=new wH,GD=bH.produce;function YD(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var EH=YD(),xH=YD,SH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xh:xh.apply(null,arguments)};function Zn(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(jn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>VD(r)&&r.type===e,n}var QD=class iu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,iu.prototype)}static get[Symbol.species](){return iu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new iu(...t[0].concat(this)):new iu(...t.concat(this))}};function ET(e){return yr(e)?GD(e,()=>{}):e}function Bf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function PH(e){return typeof e=="boolean"}var TH=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new QD;return n&&(PH(n)?a.push(EH):a.push(xH(n.extraArgument))),a},XD="RTK_autoBatch",Ue=()=>e=>({payload:e,meta:{[XD]:!0}}),xT=e=>t=>{setTimeout(t,e)},JD=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xT(10):e.type==="callback"?e.queueNotification:xT(e.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),h=r.subscribe(d);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[XD]),o=!i,o&&(a||(a=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},IH=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new QD(e);return r&&i.push(JD(typeof r=="object"?r:void 0)),i};function AH(e){const t=TH(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(Jw(n))s=LD(n);else throw new Error(jn(1));let l;typeof r=="function"?l=r(t):l=t();let u=xh;i&&(u=SH({trace:!1,...typeof i=="object"&&i}));const c=sH(...l),d=IH(c);let h=typeof a=="function"?a(d):d();const p=u(...h);return MD(s,o,p)}function ZD(e){const t={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(jn(28));if(s in t)throw new Error(jn(29));return t[s]=a,i},addAsyncThunk(o,a){return a.pending&&(t[o.pending.type]=a.pending),a.rejected&&(t[o.rejected.type]=a.rejected),a.fulfilled&&(t[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function OH(e){return typeof e=="function"}function CH(e,t){let[n,r,i]=ZD(t),o;if(OH(e))o=()=>ET(e());else{const s=ET(e);o=()=>s}function a(s=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Ei(c)){const p=d(c,l);return p===void 0?c:p}else{if(yr(c))return GD(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},s)}return a.getInitialState=o,a}var kH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",RH=(e=21)=>{let t="",n=e;for(;n--;)t+=kH[Math.random()*64|0];return t},NH=Symbol.for("rtk-slice-createasyncthunk");function DH(e,t){return`${e}/${t}`}function jH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[NH];return function(i){const{name:o,reducerPath:a=o}=i;if(!o)throw new Error(jn(11));const s=(typeof i.reducers=="function"?i.reducers(LH()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(I,O){const R=typeof I=="string"?I:I.type;if(!R)throw new Error(jn(12));if(R in u.sliceCaseReducersByType)throw new Error(jn(13));return u.sliceCaseReducersByType[R]=O,c},addMatcher(I,O){return u.sliceMatchers.push({matcher:I,reducer:O}),c},exposeAction(I,O){return u.actionCreators[I]=O,c},exposeCaseReducer(I,O){return u.sliceCaseReducersByName[I]=O,c}};l.forEach(I=>{const O=s[I],R={reducerName:I,type:DH(o,I),createNotation:typeof i.reducers=="function"};UH(O)?$H(R,O,c,t):VH(R,O,c)});function d(){const[I={},O=[],R=void 0]=typeof i.extraReducers=="function"?ZD(i.extraReducers):[i.extraReducers],T={...I,...u.sliceCaseReducersByType};return CH(i.initialState,P=>{for(let A in T)P.addCase(A,T[A]);for(let A of u.sliceMatchers)P.addMatcher(A.matcher,A.reducer);for(let A of O)P.addMatcher(A.matcher,A.reducer);R&&P.addDefaultCase(R)})}const h=I=>I,p=new Map,m=new WeakMap;let _;function v(I,O){return _||(_=d()),_(I,O)}function w(){return _||(_=d()),_.getInitialState()}function E(I,O=!1){function R(P){let A=P[I];return typeof A>"u"&&O&&(A=Bf(m,R,w)),A}function T(P=h){const A=Bf(p,O,()=>new WeakMap);return Bf(A,P,()=>{const k={};for(const[D,N]of Object.entries(i.selectors??{}))k[D]=MH(N,P,()=>Bf(m,P,w),O);return k})}return{reducerPath:I,getSelectors:T,get selectors(){return T(R)},selectSlice:R}}const S={name:o,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...E(a),injectInto(I,{reducerPath:O,...R}={}){const T=O??a;return I.inject({reducerPath:T,reducer:v},R),{...S,...E(T,!0)}}};return S}}function MH(e,t,n,r){function i(o,...a){let s=t(o);return typeof s>"u"&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var xn=jH();function LH(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function VH({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!FH(r))throw new Error(jn(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?Zn(e,a):Zn(e))}function UH(e){return e._reducerDefinitionType==="asyncThunk"}function FH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $H({type:e,reducerName:t},n,r,i){if(!i)throw new Error(jn(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a),s&&r.addCase(d.pending,s),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:a||zf,pending:s||zf,rejected:l||zf,settled:u||zf})}function zf(){}var BH="task",ej="listener",tj="completed",nb="cancelled",zH=`task-${nb}`,WH=`task-${tj}`,Jy=`${ej}-${nb}`,KH=`${ej}-${tj}`,fm=class{constructor(e){ig(this,"name","TaskAbortError");ig(this,"message");this.code=e,this.message=`${BH} ${nb} (reason: ${e})`}},rb=(e,t)=>{if(typeof e!="function")throw new TypeError(jn(32))},Ch=()=>{},nj=(e,t=Ch)=>(e.catch(t),e),rj=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ua=e=>{if(e.aborted)throw new fm(e.reason)};function ij(e,t){let n=Ch;return new Promise((r,i)=>{const o=()=>i(new fm(e.reason));if(e.aborted){o();return}n=rj(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Ch})}var HH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof fm?"cancelled":"rejected",error:n}}finally{t==null||t()}},kh=e=>t=>nj(ij(e,t).then(n=>(ua(e),n))),oj=e=>{const t=kh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:xs}=Object,ST={},dm="listenerMiddleware",qH=(e,t)=>{const n=r=>rj(e,()=>r.abort(e.reason));return(r,i)=>{rb(r);const o=new AbortController;n(o);const a=HH(async()=>{ua(e),ua(o.signal);const s=await r({pause:kh(o.signal),delay:oj(o.signal),signal:o.signal});return ua(o.signal),s},()=>o.abort(WH));return i!=null&&i.autoJoin&&t.push(a.catch(Ch)),{result:kh(e)(a),cancel(){o.abort(zH)}}}},GH=(e,t)=>{const n=async(r,i)=>{ua(t);let o=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:r,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await ij(t,Promise.race(s));return ua(t),l}finally{o()}};return(r,i)=>nj(n(r,i))},aj=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Zn(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(jn(21));return rb(o),{predicate:i,type:t,effect:o}},sj=xs(e=>{const{type:t,predicate:n,effect:r}=aj(e);return{id:RH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(jn(22))}}},{withTypes:()=>sj}),PT=(e,t)=>{const{type:n,effect:r,predicate:i}=aj(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Zy=e=>{e.pending.forEach(t=>{t.abort(Jy)})},YH=(e,t)=>()=>{for(const n of t.keys())Zy(n);e.clear()},TT=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},lj=xs(Zn(`${dm}/add`),{withTypes:()=>lj}),QH=Zn(`${dm}/removeAll`),uj=xs(Zn(`${dm}/remove`),{withTypes:()=>uj}),XH=(...e)=>{console.error(`${dm}/error`,...e)},jc=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},i=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:o,onError:a=XH}=e;rb(a);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&Zy(p)}),l=p=>{const m=PT(t,p)??sj(p);return s(m)};xs(l,{withTypes:()=>l});const u=p=>{const m=PT(t,p);return m&&(m.unsubscribe(),p.cancelActive&&Zy(m)),!!m};xs(u,{withTypes:()=>u});const c=async(p,m,_,v)=>{const w=new AbortController,E=GH(l,w.signal),S=[];try{p.pending.add(w),r(p),await Promise.resolve(p.effect(m,xs({},_,{getOriginalState:v,condition:(I,O)=>E(I,O).then(Boolean),take:E,delay:oj(w.signal),pause:kh(w.signal),extra:o,signal:w.signal,fork:qH(w.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((I,O,R)=>{I!==w&&(I.abort(Jy),R.delete(I))})},cancel:()=>{w.abort(Jy),p.pending.delete(w)},throwIfCancelled:()=>{ua(w.signal)}})))}catch(I){I instanceof fm||TT(a,I,{raisedBy:"effect"})}finally{await Promise.all(S),w.abort(KH),i(p),p.pending.delete(w)}},d=YH(t,n);return{middleware:p=>m=>_=>{if(!VD(_))return m(_);if(lj.match(_))return l(_.payload);if(QH.match(_)){d();return}if(uj.match(_))return u(_.payload);let v=p.getState();const w=()=>{if(v===ST)throw new Error(jn(23));return v};let E;try{if(E=m(_),t.size>0){const S=p.getState(),I=Array.from(t.values());for(const O of I){let R=!1;try{R=O.predicate(_,S,v)}catch(T){R=!1,TT(a,T,{raisedBy:"predicate"})}R&&c(O,_,p,w)}}}finally{v=ST}return E},startListening:l,stopListening:u,clearListeners:d}};function jn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},cj=xn({name:"chartLayout",initialState:JH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ZH,setLayout:eq,setChartSize:tq,setScale:nq}=cj.actions,rq=cj.reducer;function fj(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ie(e){return Number.isFinite(e)}function Ao(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iq(e,t,n){return(t=oq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oq(e){var t=aq(e,"string");return typeof t=="symbol"?t:t+""}function aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mt(e,t,n){return Ut(e)||Ut(t)?n:Wr(t)?Zp(e,t,n):typeof t=="function"?t(e):n}var sq=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if((s==="vertical"||s==="horizontal"&&a==="middle")&&o!=="center"&&re(e[o]))return fs(fs({},e),{},{[o]:e[o]+(r||0)});if((s==="horizontal"||s==="vertical"&&o==="center")&&a!=="middle"&&re(e[a]))return fs(fs({},e),{},{[a]:e[a]+(i||0)})}return e},ki=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",lq=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],h=bi(c)?d:c;h>=0?(u[0]=o,o+=h,u[1]=o):(u[0]=a,a+=h,u[1]=a)}}}},uq=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0;a<n;++a){var s=e[a],l=s==null?void 0:s[i];if(l!=null){var u=bi(l[1])?l[0]:l[1];u>=0?(l[0]=o,o+=u,l[1]=o):(l[0]=0,l[1]=0)}}}},cq={sign:lq,expand:K8,none:Sa,silhouette:H8,wiggle:q8,positive:uq},fq=(e,t,n)=>{var r,i=(r=cq[n])!==null&&r!==void 0?r:Sa,o=W8().keys(t).value((s,l)=>Number(Mt(s,l,0))).order(By).offset(i),a=o(e);return a.forEach((s,l)=>{s.forEach((u,c)=>{var d=Mt(e[c],t[l],0);Array.isArray(d)&&d.length===2&&re(d[0])&&re(d[1])&&(u[0]=d[0],u[1]=d[1])})}),a};function AT(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ut(i[t.dataKey])){var s=tD(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n!=null&&n[o]?n[o].coordinate+r/2:null}var l=Mt(i,Ut(a)?t.dataKey:a),u=t.scale.map(l);return re(u)?u:null}var dq=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},hq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],pq=(e,t,n)=>{if(e!=null)return hq(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:a}=o,s=a.reduce((l,u)=>{var c=fj(u,t,n),d=dq(c);return!Ie(d[0])||!Ie(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},OT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=rm(t,c=>c.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function kT(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return fs(fs({},t),{},{dataKey:n,payload:r,value:i,name:o})}function dj(e,t){if(e)return String(e);if(typeof t=="string")return t}var mq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},gq=(e,t)=>t==="centric"?e.angle:e.radius,Ri=e=>e.layout.width,Ni=e=>e.layout.height,vq=e=>e.layout.scale,hj=e=>e.layout.margin,hm=U(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),pm=U(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yq="data-recharts-item-index",_q="data-recharts-item-id",Mc=60;function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(r){wq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wq(e,t,n){return(t=bq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bq(e){var t=Eq(e,"string");return typeof t=="symbol"?t:t+""}function Eq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xq=e=>e.brush.height;function Sq(e){var t=pm(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mc;return n+i}return n},0)}function Pq(e){var t=pm(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mc;return n+i}return n},0)}function Tq(e){var t=hm(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Iq(e){var t=hm(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Ft=U([Ri,Ni,hj,xq,Sq,Pq,Tq,Iq,DD,eH],(e,t,n,r,i,o,a,s,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},d={top:(n.top||0)+a,bottom:(n.bottom||0)+s},h=Wf(Wf({},d),c),p=h.bottom;h.bottom+=r,h=sq(h,l,u);var m=e-h.left-h.right,_=t-h.top-h.bottom;return Wf(Wf({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(_,0)})}),Aq=U(Ft,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),pj=U(Ri,Ni,(e,t)=>({x:0,y:0,width:e,height:t})),Oq=y.createContext(null),Fn=()=>y.useContext(Oq)!=null,mm=e=>e.brush,gm=U([mm,Ft,hj],(e,t,n)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:re(e.width)?e.width:t.width})),mj={},gj={},vj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let a,s=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{s!==null&&(n.apply(a,s),a=void 0,s=null)},d=()=>{u&&c(),_()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},r)},m=()=>{h!==null&&(clearTimeout(h),h=null)},_=()=>{m(),a=void 0,s=null},v=()=>{c()},w=function(...E){if(i!=null&&i.aborted)return;a=this,s=E;const S=h==null;p(),l&&S&&c()};return w.schedule=p,w.cancel=_,w.flush=v,i==null||i.addEventListener("abort",_,{once:!0}),w}e.debounce=t})(vj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vj;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:a=!1,trailing:s=!0,maxWait:l}=o,u=Array(2);a&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const h=t.debounce(function(..._){c=r.apply(this,_),d=null},i,{edges:u}),p=function(..._){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=r.apply(this,_),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,_),c)},m=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=m,p}e.debounce=n})(gj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gj;function n(r,i=0,o={}){const{leading:a=!0,trailing:s=!0}=o;return t.debounce(r,i,{leading:a,maxWait:i,trailing:s})}e.throttle=n})(mj);var Cq=mj.throttle;const kq=Ai(Cq);var NT=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},Cr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},yj=(e,t,n)=>{var{width:r=Cr.width,height:i=Cr.height,aspect:o,maxHeight:a}=n,s=Pa(r)?e:Number(r),l=Pa(i)?t:Number(i);return o&&o>0&&(s?l=s/o:l&&(s=l*o),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:s,calculatedHeight:l}},Rq={width:0,height:0,overflow:"visible"},Nq={width:0,overflowX:"visible"},Dq={height:0,overflowY:"visible"},jq={},Mq=e=>{var{width:t,height:n}=e,r=Pa(t),i=Pa(n);return r&&i?Rq:r?Nq:i?Dq:jq};function Lq(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i=Cr.width,o=Cr.height):i===void 0?i=r&&r>0?void 0:Cr.width:o===void 0&&(o=r&&r>0?void 0:Cr.height),{width:i,height:o}}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}function DT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(n),!0).forEach(function(r){Vq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vq(e,t,n){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uq(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _j=y.createContext(Cr.initialDimension);function $q(e){return Ao(e.width)&&Ao(e.height)}function wj(e){var{children:t,width:n,height:r}=e,i=y.useMemo(()=>({width:n,height:r}),[n,r]);return $q(i)?y.createElement(_j.Provider,{value:i},t):null}var ib=()=>y.useContext(_j),Bq=y.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Cr.initialDimension,width:i,height:o,minWidth:a=Cr.minWidth,minHeight:s,maxHeight:l,children:u,debounce:c=Cr.debounce,id:d,className:h,onResize:p,style:m={}}=e,_=y.useRef(null),v=y.useRef();v.current=p,y.useImperativeHandle(t,()=>_.current);var[w,E]=y.useState({containerWidth:r.width,containerHeight:r.height}),S=y.useCallback((P,A)=>{E(k=>{var D=Math.round(P),N=Math.round(A);return k.containerWidth===D&&k.containerHeight===N?k:{containerWidth:D,containerHeight:N}})},[]);y.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return al;var P=N=>{var j,Y=N[0];if(Y!=null){var{width:oe,height:de}=Y.contentRect;S(oe,de),(j=v.current)===null||j===void 0||j.call(v,oe,de)}};c>0&&(P=kq(P,c,{trailing:!0,leading:!1}));var A=new ResizeObserver(P),{width:k,height:D}=_.current.getBoundingClientRect();return S(k,D),A.observe(_.current),()=>{A.disconnect()}},[S,c]);var{containerWidth:I,containerHeight:O}=w;NT(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:R,calculatedHeight:T}=yj(I,O,{width:i,height:o,aspect:n,maxHeight:l});return NT(R!=null&&R>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,T,i,o,a,s,n),y.createElement("div",{id:d?"".concat(d):void 0,className:Ae("recharts-responsive-container",h),style:jT(jT({},m),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:_},y.createElement("div",{style:Mq({width:i,height:o})},y.createElement(wj,{width:R,height:T},u)))}),MT=y.forwardRef((e,t)=>{var n=ib();if(Ao(n.width)&&Ao(n.height))return e.children;var{width:r,height:i}=Lq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:a}=yj(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return re(o)&&re(a)?y.createElement(wj,{width:o,height:a},e.children):y.createElement(Bq,e0({},e,{width:r,height:i,ref:t}))});function ob(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var vm=()=>{var e,t=Fn(),n=ne(Aq),r=ne(gm),i=(e=ne(mm))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},zq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Wq=()=>{var e;return(e=ne(Ft))!==null&&e!==void 0?e:zq},bj=()=>ne(Ri),Ej=()=>ne(Ni),Kq=()=>ne(e=>e.layout.margin),Ge=e=>e.layout.layoutType,sl=()=>ne(Ge),xj=()=>{var e=sl();if(e==="horizontal"||e==="vertical")return e},Sj=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Hq=()=>{var e=sl();return e!==void 0},Lc=e=>{var t=lt(),n=Fn(),{width:r,height:i}=e,o=ib(),a=r,s=i;return o&&(a=o.width>0?o.width:r,s=o.height>0?o.height:i),y.useEffect(()=>{!n&&Ao(a)&&Ao(s)&&t(tq({width:a,height:s}))},[t,n,a,s]),null},Pj=Symbol.for("immer-nothing"),LT=Symbol.for("immer-draftable"),Ln=Symbol.for("immer-state");function lr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nc=Object.getPrototypeOf;function zs(e){return!!e&&!!e[Ln]}function Ia(e){var t;return e?Tj(e)||Array.isArray(e)||!!e[LT]||!!((t=e.constructor)!=null&&t[LT])||Vc(e)||_m(e):!1}var qq=Object.prototype.constructor.toString(),VT=new WeakMap;function Tj(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=VT.get(n);return r===void 0&&(r=Function.toString.call(n),VT.set(n,r)),r===qq}function Nh(e,t,n=!0){ym(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ym(e){const t=e[Ln];return t?t.type_:Array.isArray(e)?1:Vc(e)?2:_m(e)?3:0}function t0(e,t){return ym(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ij(e,t,n){const r=ym(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Gq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vc(e){return e instanceof Map}function _m(e){return e instanceof Set}function Ho(e){return e.copy_||e.base_}function n0(e,t){if(Vc(e))return new Map(e);if(_m(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Tj(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ln];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(nc(e),r)}else{const r=nc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ab(e,t=!1){return wm(e)||zs(e)||!Ia(e)||(ym(e)>1&&Object.defineProperties(e,{set:Kf,add:Kf,clear:Kf,delete:Kf}),Object.freeze(e),t&&Object.values(e).forEach(n=>ab(n,!0))),e}function Yq(){lr(2)}var Kf={value:Yq};function wm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Qq={};function Aa(e){const t=Qq[e];return t||lr(0,e),t}var rc;function Aj(){return rc}function Xq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UT(e,t){t&&(Aa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function r0(e){i0(e),e.drafts_.forEach(Jq),e.drafts_=null}function i0(e){e===rc&&(rc=e.parent_)}function FT(e){return rc=Xq(rc,e)}function Jq(e){const t=e[Ln];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function $T(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ln].modified_&&(r0(t),lr(4)),Ia(e)&&(e=Dh(t,e),t.parent_||jh(t,e)),t.patches_&&Aa("Patches").generateReplacementPatches_(n[Ln].base_,e,t.patches_,t.inversePatches_)):e=Dh(t,n,[]),r0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Pj?e:void 0}function Dh(e,t,n){if(wm(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Ln];if(!i)return Nh(t,(o,a)=>BT(e,i,t,o,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return jh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,s=!1;i.type_===3&&(a=new Set(o),o.clear(),s=!0),Nh(a,(l,u)=>BT(e,i,o,l,u,n,s),r),jh(e,o,!1),n&&e.patches_&&Aa("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function BT(e,t,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const s=wm(i);if(!(s&&!a)){if(zs(i)){const l=o&&t&&t.type_!==3&&!t0(t.assigned_,r)?o.concat(r):void 0,u=Dh(e,i,l);if(Ij(n,r,u),zs(u))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Ia(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;Dh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Vc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&jh(e,i)}}}function jh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ab(t,n)}function Zq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Aj(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=sb;n&&(i=[r],o=ic);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var sb={get(e,t){if(t===Ln)return e;const n=Ho(e);if(!t0(n,t))return e7(e,n,t);const r=n[t];return e.finalized_||!Ia(r)?r:r===Xg(e.base_,t)?(Jg(e),e.copy_[t]=a0(r,e)):r},has(e,t){return t in Ho(e)},ownKeys(e){return Reflect.ownKeys(Ho(e))},set(e,t,n){const r=Oj(Ho(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Xg(Ho(e),t),o=i==null?void 0:i[Ln];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Gq(n,i)&&(n!==void 0||t0(e.base_,t)))return!0;Jg(e),o0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Jg(e),o0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ho(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){lr(11)},getPrototypeOf(e){return nc(e.base_)},setPrototypeOf(){lr(12)}},ic={};Nh(sb,(e,t)=>{ic[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ic.deleteProperty=function(e,t){return ic.set.call(this,e,t,void 0)};ic.set=function(e,t,n){return sb.set.call(this,e[0],t,n,e[0])};function Xg(e,t){const n=e[Ln];return(n?Ho(n):e)[t]}function e7(e,t,n){var i;const r=Oj(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Oj(e,t){if(!(t in e))return;let n=nc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=nc(n)}}function o0(e){e.modified_||(e.modified_=!0,e.parent_&&o0(e.parent_))}function Jg(e){e.copy_||(e.copy_=n0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var t7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(l=o,...u){return a.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&lr(6),r!==void 0&&typeof r!="function"&&lr(7);let i;if(Ia(t)){const o=FT(this),a=a0(t,void 0);let s=!0;try{i=n(a),s=!1}finally{s?r0(o):i0(o)}return UT(o,r),$T(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Pj&&(i=void 0),this.autoFreeze_&&ab(i,!0),r){const o=[],a=[];Aa("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}else lr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,i;return[this.produce(t,n,(a,s)=>{r=a,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ia(e)||lr(8),zs(e)&&(e=n7(e));const t=FT(this),n=a0(e,void 0);return n[Ln].isManual_=!0,i0(t),n}finishDraft(e,t){const n=e&&e[Ln];(!n||!n.isManual_)&&lr(9);const{scope_:r}=n;return UT(r,t),$T(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Aa("Patches").applyPatches_;return zs(e)?r(e,t):this.produce(e,i=>r(i,t))}};function a0(e,t){const n=Vc(e)?Aa("MapSet").proxyMap_(e,t):_m(e)?Aa("MapSet").proxySet_(e,t):Zq(e,t);return(t?t.scope_:Aj()).drafts_.push(n),n}function n7(e){return zs(e)||lr(10,e),Cj(e)}function Cj(e){if(!Ia(e)||wm(e))return e;const t=e[Ln];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=n0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=n0(e,!0);return Nh(n,(i,o)=>{Ij(n,i,Cj(o))},r),t&&(t.finalized_=!1),n}var r7=new t7;r7.produce;var i7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},kj=xn({name:"legend",initialState:i7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ue()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=mr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Ue()},removeLegendPayload:{reducer(e,t){var n=mr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ue()}}}),{setLegendSize:zT,setLegendSettings:o7,addLegendPayload:a7,replaceLegendPayload:s7,removeLegendPayload:l7}=kj.actions,u7=kj.reducer,c7=["contextPayload"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s0.apply(null,arguments)}function WT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(n),!0).forEach(function(r){f7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f7(e,t,n){return(t=d7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p7(e,t){if(e==null)return{};var n,r,i=m7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function g7(e){return e.value}function v7(e){var{contextPayload:t}=e,n=p7(e,c7),r=xD(t,e.payloadUniqBy,g7),i=Ws(Ws({},n),{},{payload:r});return y.isValidElement(e.content)?y.cloneElement(e.content,i):typeof e.content=="function"?y.createElement(e.content,i):y.createElement(_K,i)}function y7(e,t,n,r,i,o){var{layout:a,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&a==="vertical"?u={left:((r||0)-o.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-o.height)/2}:c=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ws(Ws({},u),c)}function _7(e){var t=lt();return y.useEffect(()=>{t(o7(e))},[t,e]),null}function w7(e){var t=lt();return y.useEffect(()=>(t(zT(e)),()=>{t(zT({width:0,height:0}))}),[t,e]),null}function b7(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var E7={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function l0(e){var t=dn(e,E7),n=rH(),r=p8(),i=Kq(),{width:o,height:a,wrapperStyle:s,portal:l}=t,[u,c]=jD([n]),d=bj(),h=Ej();if(d==null||h==null)return null;var p=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),m=b7(t.layout,a,o,p),_=l?s:Ws(Ws({position:"absolute",width:(m==null?void 0:m.width)||o||"auto",height:(m==null?void 0:m.height)||a||"auto"},y7(s,t,i,d,h,u)),s),v=l??r;if(v==null||n==null)return null;var w=y.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:c},y.createElement(_7,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&y.createElement(w7,{width:u.width,height:u.height}),y.createElement(v7,s0({},t,m,{margin:i,chartWidth:d,chartHeight:h,contextPayload:n})));return Sp.createPortal(w,v)}l0.displayName="Legend";function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(null,arguments)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(r){x7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7(e,t,n){return(t=S7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T7(e){return Array.isArray(e)&&Wr(e[0])&&Wr(e[1])?e.join(" ~ "):e}var Ka={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},I7=e=>{var{separator:t=Ka.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ka.labelStyle,payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=Ka.accessibilityLayer}=e,p=()=>{if(o&&o.length){var O={padding:0,margin:0},R=(s?rm(o,s):o).map((T,P)=>{if(T.type==="none")return null;var A=T.formatter||a||T7,{value:k,name:D}=T,N=k,j=D;if(A){var Y=A(k,D,T,P,o);if(Array.isArray(Y))[N,j]=Y;else if(Y!=null)N=Y;else return null}var oe=$l($l({},Ka.itemStyle),{},{color:T.color||Ka.itemStyle.color},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:oe},Wr(j)?y.createElement("span",{className:"recharts-tooltip-item-name"},j):null,Wr(j)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},N),y.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},m=$l($l({},Ka.contentStyle),n),_=$l({margin:0},i),v=!Ut(c),w=v?c:"",E=Ae("recharts-default-tooltip",l),S=Ae("recharts-tooltip-label",u);v&&d&&o!==void 0&&o!==null&&(w=d(c,o));var I=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",u0({className:E,style:m},I),y.createElement("p",{className:S,style:_},y.isValidElement(w)?w:"".concat(w)),p())},Bl="recharts-tooltip-wrapper",A7={visibility:"hidden"};function O7(e){var{coordinate:t,translateX:n,translateY:r}=e;return Ae(Bl,{["".concat(Bl,"-right")]:re(n)&&t&&re(t.x)&&n>=t.x,["".concat(Bl,"-left")]:re(n)&&t&&re(t.x)&&n<t.x,["".concat(Bl,"-bottom")]:re(r)&&t&&re(t.y)&&r>=t.y,["".concat(Bl,"-top")]:re(r)&&t&&re(t.y)&&r<t.y})}function HT(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(o&&re(o[r]))return o[r];var c=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return a[r]?c:d;var h=l[r];if(h==null)return 0;if(a[r]){var p=c,m=h;return p<m?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var _=d+s,v=h+u;return _>v?Math.max(c,h):Math.max(d,h)}function C7(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function k7(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:o,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:u}=e,c,d,h;return s.height>0&&s.width>0&&n?(d=HT({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:o,reverseDirection:a,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),h=HT({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:o,reverseDirection:a,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),c=C7({translateX:d,translateY:h,useTranslate3d:l})):c=A7,{cssProperties:c,cssClasses:O7({translateX:d,translateY:h,coordinate:n})}}function qT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(n),!0).forEach(function(r){c0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c0(e,t,n){return(t=R7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R7(e){var t=N7(e,"string");return typeof t=="symbol"?t:t+""}function N7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class D7 extends y.PureComponent{constructor(){super(...arguments),c0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),c0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:a,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:_,innerRef:v,hasPortalFromProps:w}=this.props,E=typeof u=="number"?u:u.x,S=typeof u=="number"?u:u.y,{cssClasses:I,cssProperties:O}=k7({allowEscapeViewBox:n,coordinate:a,offsetLeft:E,offsetTop:S,position:c,reverseDirection:d,tooltipBox:{height:_.height,width:_.width},useTranslate3d:h,viewBox:p}),R=w?{}:Hf(Hf({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),T=Hf(Hf({},R),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},m);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:T,ref:v},o)}}var Rj=()=>{var e;return(e=ne(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f0.apply(null,arguments)}function GT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(n),!0).forEach(function(r){j7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j7(e,t,n){return(t=M7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M7(e){var t=L7(e,"string");return typeof t=="symbol"?t:t+""}function L7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QT={curveBasisClosed:N8,curveBasisOpen:D8,curveBasis:R8,curveBumpX:y8,curveBumpY:_8,curveLinearClosed:j8,curveLinear:Gp,curveMonotoneX:M8,curveMonotoneY:L8,curveNatural:V8,curveStep:U8,curveStepAfter:$8,curveStepBefore:F8},Mh=e=>Ie(e.x)&&Ie(e.y),XT=e=>e.base!=null&&Mh(e.base)&&Mh(e),zl=e=>e.x,Wl=e=>e.y,V7=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Nc(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=QT["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return QT[n]||Gp},JT={connectNulls:!1,type:"linear"},U7=e=>{var{type:t=JT.type,points:n=[],baseLine:r,layout:i,connectNulls:o=JT.connectNulls}=e,a=V7(t,i),s=o?n.filter(Mh):n;if(Array.isArray(r)){var l,u=n.map((m,_)=>YT(YT({},m),{},{base:r[_]}));i==="vertical"?l=Vf().y(Wl).x1(zl).x0(m=>m.base.x):l=Vf().x(zl).y1(Wl).y0(m=>m.base.y);var c=l.defined(XT).curve(a),d=o?u.filter(XT):u;return c(d)}var h;i==="vertical"&&re(r)?h=Vf().y(Wl).x1(zl).x0(r):re(r)?h=Vf().x(zl).y1(Wl).y0(r):h=$N().x(zl).y(Wl);var p=h.defined(Mh).curve(a);return p(s)},Nj=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=sl();if((!n||!n.length)&&!r)return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},s=n&&n.length?U7(a):r;return y.createElement("path",f0({},wi(e),Fw(e),{className:Ae("recharts-curve",t),d:s===null?void 0:s,ref:i}))},F7=["x","y","top","left","width","height","className"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}function ZT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(n),!0).forEach(function(r){B7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B7(e,t,n){return(t=z7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z7(e){var t=W7(e,"string");return typeof t=="symbol"?t:t+""}function W7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K7(e,t){if(e==null)return{};var n,r,i=H7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function H7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var q7=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),G7=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=e,l=K7(e,F7),u=$7({x:t,y:n,top:r,left:i,width:o,height:a},l);return!re(t)||!re(n)||!re(o)||!re(a)||!re(r)||!re(i)?null:y.createElement("path",d0({},ln(u),{className:Ae("recharts-cross",s),d:q7(t,n,o,a,r,i)}))};function Y7(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(r){Q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q7(e,t,n){return(t=X7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X7(e){var t=J7(e,"string");return typeof t=="symbol"?t:t+""}function J7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Dj=(e,t,n)=>e.map(r=>"".concat(Z7(r)," ").concat(t,"ms ").concat(n)).join(","),eG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),oc=(e,t)=>Object.keys(t).reduce((n,r)=>t1(t1({},n),{},{[r]:e(r,t[r])}),{});function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(r){tG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tG(e,t,n){return(t=nG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lh=(e,t,n)=>e+(t-e)*n,h0=e=>{var{from:t,to:n}=e;return t!==n},jj=(e,t,n)=>{var r=oc((i,o)=>{if(h0(o)){var[a,s]=e(o.from,o.to,o.velocity);return ct(ct({},o),{},{from:a,velocity:s})}return o},t);return n<1?oc((i,o)=>h0(o)&&r[i]!=null?ct(ct({},o),{},{velocity:Lh(o.velocity,r[i].velocity,n),from:Lh(o.from,r[i].from,n)}):o,t):jj(e,r,n-1)};function iG(e,t,n,r,i,o){var a,s=r.reduce((h,p)=>ct(ct({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>oc((h,p)=>p.from,s),u=()=>!Object.values(s).filter(h0).length,c=null,d=h=>{a||(a=h);var p=h-a,m=p/n.dt;s=jj(n,s,m),i(ct(ct(ct({},e),t),l())),a=h,u()||(c=o.setTimeout(d))};return()=>(c=o.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function oG(e,t,n,r,i,o,a){var s=null,l=i.reduce((d,h)=>{var p=e[h],m=t[h];return p==null||m==null?d:ct(ct({},d),{},{[h]:[p,m]})},{}),u,c=d=>{u||(u=d);var h=(d-u)/r,p=oc((_,v)=>Lh(...v,n(h)),l);if(o(ct(ct(ct({},e),t),p)),h<1)s=a.setTimeout(c);else{var m=oc((_,v)=>Lh(...v,n(1)),l);o(ct(ct(ct({},e),t),m))}};return()=>(s=a.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const aG=(e,t,n,r,i,o)=>{var a=eG(e,t);return n==null?()=>(i(ct(ct({},e),t)),()=>{}):n.isStepper===!0?iG(e,t,n,a,i,o):oG(e,t,n,r,a,i,o)};var Vh=1e-4,Mj=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Lj=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),r1=(e,t)=>n=>{var r=Mj(e,t);return Lj(r,n)},sG=(e,t)=>n=>{var r=Mj(e,t),i=[...r.map((o,a)=>o*a).slice(1),0];return Lj(i,n)},lG=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},uG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=lG(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},cG=(e,t,n,r)=>{var i=r1(e,n),o=r1(t,r),a=sG(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,h=0;h<8;++h){var p=i(d)-c,m=a(d);if(Math.abs(p-c)<Vh||m<Vh)return o(d);d=s(d-p/m)}return o(d)};return l.isStepper=!1,l},i1=function(){return cG(...uG(...arguments))},fG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(a,s,l)=>{var u=-(a-s)*n,c=l*r,d=l+(u-c)*i/1e3,h=l*i/1e3+a;return Math.abs(h-s)<Vh&&Math.abs(d)<Vh?[s,0]:[h,d]};return o.isStepper=!0,o.dt=i,o},dG=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i1(e);case"spring":return fG();default:if(e.split("(")[0]==="cubic-bezier")return i1(e)}return typeof e=="function"?e:null};function hG(e){var t,n=()=>null,r=!1,i=null,o=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(o.bind(null,u),l);return}o(l),i=e.setTimeout(o.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),o(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class pG{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function mG(){return hG(new pG)}var gG=y.createContext(mG);function vG(e,t){var n=y.useContext(gG);return y.useMemo(()=>t??n(e),[e,t,n])}var yG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bm={isSsr:yG()},_G={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},o1={t:0},Zg={t:1};function lb(e){var t=dn(e,_G),{isActive:n,canBegin:r,duration:i,easing:o,begin:a,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=n==="auto"?!bm.isSsr:n,d=vG(t.animationId,t.animationManager),[h,p]=y.useState(c?o1:Zg),m=y.useRef(null);return y.useEffect(()=>{c||p(Zg)},[c]),y.useEffect(()=>{if(!c||!r)return al;var _=aG(o1,Zg,dG(o),i,p,d.getTimeoutController()),v=()=>{m.current=_()};return d.start([l,a,v,i,s]),()=>{d.stop(),m.current&&m.current(),s()}},[c,r,i,o,a,l,s,d]),u(h.t)}function ub(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=y.useRef(Ju(t)),r=y.useRef(e);return r.current!==e&&(n.current=Ju(t),r.current=e),n.current}var wG=["radius"],bG=["radius"],a1,s1,l1,u1,c1,f1,d1,h1,p1,m1;function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(r){EG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EG(e,t,n){return(t=xG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xG(e){var t=SG(e,"string");return typeof t=="symbol"?t:t+""}function SG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(null,arguments)}function y1(e,t){if(e==null)return{};var n,r,i=PG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Er(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _1=(e,t,n,r,i)=>{var o=io(n),a=io(r),s=Math.min(Math.abs(o)/2,Math.abs(a)/2),l=a>=0?1:-1,u=o>=0?1:-1,c=a>=0&&o>=0||a<0&&o<0?1:0,d;if(s>0&&Array.isArray(i)){for(var h=[0,0,0,0],p=0,m=4;p<m;p++){var _,v=(_=i[p])!==null&&_!==void 0?_:0;h[p]=v>s?s:v}d=Xe(a1||(a1=Er(["M",",",""])),e,t+l*h[0]),h[0]>0&&(d+=Xe(s1||(s1=Er(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),d+=Xe(l1||(l1=Er(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(d+=Xe(u1||(u1=Er(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+n,t+l*h[1])),d+=Xe(c1||(c1=Er(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(d+=Xe(f1||(f1=Er(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+n-u*h[2],t+r)),d+=Xe(d1||(d1=Er(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(d+=Xe(h1||(h1=Er(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+r-l*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var w=Math.min(s,i);d=Xe(p1||(p1=Er(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*w,w,w,c,e+u*w,t,e+n-u*w,t,w,w,c,e+n,t+l*w,e+n,t+r-l*w,w,w,c,e+n-u*w,t+r,e+u*w,t+r,w,w,c,e,t+r-l*w)}else d=Xe(m1||(m1=Er(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return d},w1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vj=e=>{var t=dn(e,w1),n=y.useRef(null),[r,i]=y.useState(-1);y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&i(ie)}catch{}},[]);var{x:o,y:a,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:_}=t,v=y.useRef(s),w=y.useRef(l),E=y.useRef(o),S=y.useRef(a),I=y.useMemo(()=>({x:o,y:a,width:s,height:l,radius:u}),[o,a,s,l,u]),O=ub(I,"rectangle-");if(o!==+o||a!==+a||s!==+s||l!==+l||s===0||l===0)return null;var R=Ae("recharts-rectangle",c);if(!_){var T=ln(t),{radius:P}=T,A=y1(T,wG);return y.createElement("path",Uh({},A,{x:io(o),y:io(a),width:io(s),height:io(l),radius:typeof u=="number"?u:void 0,className:R,d:_1(o,a,s,l,u)}))}var k=v.current,D=w.current,N=E.current,j=S.current,Y="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),de=Dj(["strokeDasharray"],h,typeof d=="string"?d:w1.animationEasing);return y.createElement(lb,{animationId:O,key:O,canBegin:r>0,duration:h,easing:d,isActive:_,begin:p},ie=>{var L=mn(k,s,ie),M=mn(D,l,ie),$=mn(N,o,ie),q=mn(j,a,ie);n.current&&(v.current=L,w.current=M,E.current=$,S.current=q);var ee;m?ie>0?ee={transition:de,strokeDasharray:oe}:ee={strokeDasharray:Y}:ee={strokeDasharray:oe};var ae=ln(t),{radius:xe}=ae,rt=y1(ae,bG);return y.createElement("path",Uh({},rt,{radius:typeof u=="number"?u:void 0,className:R,d:_1($,q,L,M,u),ref:n,style:v1(v1({},ee),t.style)}))})};function b1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function E1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(n),!0).forEach(function(r){TG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TG(e,t,n){return(t=IG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fh=Math.PI/180,OG=e=>e*180/Math.PI,Nt=(e,t,n,r)=>({x:e+Math.cos(-Fh*r)*n,y:t+Math.sin(-Fh*r)*n}),CG=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},kG=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},RG=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=kG({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:OG(l),angleInRadian:l}},NG=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},DG=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return e+a*360},jG=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=RG({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s||i===0)return null;var{startAngle:l,endAngle:u}=NG(t),c=o,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?E1(E1({},t),{},{radius:i,angle:DG(c,t)}):null};function Uj(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,a=Nt(t,n,r,i),s=Nt(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var x1,S1,P1,T1,I1,A1,O1;function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(null,arguments)}function Zo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MG=(e,t)=>{var n=fr(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},qf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,u=s*(a?1:-1)+r,c=Math.asin(s/u)/Fh,d=l?i:i+o*c,h=Nt(t,n,u,d),p=Nt(t,n,r,d),m=l?i-o*c:i,_=Nt(t,n,u*Math.cos(c*Fh),m);return{center:h,circleTangency:p,lineTangency:_,theta:c}},Fj=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=MG(o,a),l=o+s,u=Nt(t,n,i,o),c=Nt(t,n,i,l),d=Xe(x1||(x1=Zo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(o>l),c.x,c.y);if(r>0){var h=Nt(t,n,r,o),p=Nt(t,n,r,l);d+=Xe(S1||(S1=Zo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(s)>180),+(o<=l),h.x,h.y)}else d+=Xe(P1||(P1=Zo(["L ",","," Z"])),t,n);return d},LG=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=fr(u-l),{circleTangency:d,lineTangency:h,theta:p}=qf({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),{circleTangency:m,lineTangency:_,theta:v}=qf({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),w=s?Math.abs(l-u):Math.abs(l-u)-p-v;if(w<0)return a?Xe(T1||(T1=Zo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,o,o,o*2,o,o,-o*2):Fj({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var E=Xe(I1||(I1=Zo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,o,o,+(c<0),d.x,d.y,i,i,+(w>180),+(c<0),m.x,m.y,o,o,+(c<0),_.x,_.y);if(r>0){var{circleTangency:S,lineTangency:I,theta:O}=qf({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:R,lineTangency:T,theta:P}=qf({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),A=s?Math.abs(l-u):Math.abs(l-u)-O-P;if(A<0&&o===0)return"".concat(E,"L").concat(t,",").concat(n,"Z");E+=Xe(A1||(A1=Zo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,o,o,+(c<0),R.x,R.y,r,r,+(A>180),+(c>0),S.x,S.y,o,o,+(c<0),I.x,I.y)}else E+=Xe(O1||(O1=Zo(["L",",","Z"])),t,n);return E},VG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$j=e=>{var t=dn(e,VG),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(o<i||u===c)return null;var h=Ae("recharts-sector",d),p=o-i,m=Io(a,p,0,!0),_;return m>0&&Math.abs(u-c)<360?_=LG({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):_=Fj({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),y.createElement("path",p0({},ln(t),{className:h,d:_}))};function UG(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(rD(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:s}=t,l=Nt(r,i,o,s),u=Nt(r,i,a,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Uj(t)}}var Bj={},zj={},Wj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qw;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Wj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wj;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(zj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xw,n=zj;function r(i,o,a){a&&typeof a!="number"&&t.isIterateeCall(i,o,a)&&(o=a=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),a=a===void 0?i<o?1:-1:n.toFinite(a);const s=Math.max(Math.ceil((o-i)/(a||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=a;return l}e.range=r})(Bj);var FG=Bj.range;const Kj=Ai(FG);function yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $G(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cb(e){let t,n,r;e.length!==2?(t=yo,n=(s,l)=>yo(e(s),l),r=(s,l)=>e(s)-l):(t=e===yo||e===$G?e:BG,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;n(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&r(s[d-1],l)>-r(s[d],l)?d-1:d}return{left:i,center:a,right:o}}function BG(){return 0}function Hj(e){return e===null?NaN:+e}function*zG(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const WG=cb(yo),Uc=WG.right;cb(Hj).center;class C1 extends Map{constructor(t,n=qG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(k1(this,t))}has(t){return super.has(k1(this,t))}set(t,n){return super.set(KG(this,t),n)}delete(t){return super.delete(HG(this,t))}}function k1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function KG({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function HG({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function qG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function GG(e=yo){if(e===yo)return qj;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function qj(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YG=Math.sqrt(50),QG=Math.sqrt(10),XG=Math.sqrt(2);function $h(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=YG?10:o>=QG?5:o>=XG?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?$h(e,t,n*2):[s,l,u]}function m0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?$h(t,e,n):$h(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function g0(e,t,n){return t=+t,e=+e,n=+n,$h(e,t,n)[2]}function v0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?g0(t,e,n):g0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function R1(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function N1(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Gj(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?qj:GG(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(t-u*d/l+h)),m=Math.min(r,Math.floor(t+(l-u)*d/l+h));Gj(e,t,p,m,i)}const o=e[t];let a=n,s=r;for(Kl(e,n,t),i(e[r],o)>0&&Kl(e,n,r);a<s;){for(Kl(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Kl(e,n,s):(++s,Kl(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Kl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function JG(e,t,n){if(e=Float64Array.from(zG(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return N1(e);if(t>=1)return R1(e);var r,i=(r-1)*t,o=Math.floor(i),a=R1(Gj(e,o).subarray(0,o+1)),s=N1(e.subarray(o+1));return a+(s-a)*(i-o)}}function ZG(e,t,n=Hj){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function eY(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Di(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const y0=Symbol("implicit");function fb(){var e=new C1,t=[],n=[],r=y0;function i(o){let a=e.get(o);if(a===void 0){if(r!==y0)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new C1;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return fb(t,n).unknown(r)},tr.apply(i,arguments),i}function db(){var e=fb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,_=p?r:i;o=(_-m)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),m+=(_-m-o*(h-l))*c,a=o*(1-l),s&&(m=Math.round(m),a=Math.round(a));var v=eY(h).map(function(w){return m+o*w});return n(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return db(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},tr.apply(d(),arguments)}function Yj(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Yj(t())},e}function tY(){return Yj(db.apply(null,arguments).paddingInner(1))}function hb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Qj(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Fc(){}var ac=.7,Bh=1/ac,Ss="\\s*([+-]?\\d+)\\s*",sc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nY=/^#([0-9a-f]{3,8})$/,rY=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),iY=new RegExp(`^rgb\\(${Ur},${Ur},${Ur}\\)$`),oY=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${sc}\\)$`),aY=new RegExp(`^rgba\\(${Ur},${Ur},${Ur},${sc}\\)$`),sY=new RegExp(`^hsl\\(${sc},${Ur},${Ur}\\)$`),lY=new RegExp(`^hsla\\(${sc},${Ur},${Ur},${sc}\\)$`),D1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hb(Fc,lc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j1,formatHex:j1,formatHex8:uY,formatHsl:cY,formatRgb:M1,toString:M1});function j1(){return this.rgb().formatHex()}function uY(){return this.rgb().formatHex8()}function cY(){return Xj(this).formatHsl()}function M1(){return this.rgb().formatRgb()}function lc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?L1(t):n===3?new vn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Gf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Gf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rY.exec(e))?new vn(t[1],t[2],t[3],1):(t=iY.exec(e))?new vn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oY.exec(e))?Gf(t[1],t[2],t[3],t[4]):(t=aY.exec(e))?Gf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=sY.exec(e))?F1(t[1],t[2]/100,t[3]/100,1):(t=lY.exec(e))?F1(t[1],t[2]/100,t[3]/100,t[4]):D1.hasOwnProperty(e)?L1(D1[e]):e==="transparent"?new vn(NaN,NaN,NaN,0):null}function L1(e){return new vn(e>>16&255,e>>8&255,e&255,1)}function Gf(e,t,n,r){return r<=0&&(e=t=n=NaN),new vn(e,t,n,r)}function fY(e){return e instanceof Fc||(e=lc(e)),e?(e=e.rgb(),new vn(e.r,e.g,e.b,e.opacity)):new vn}function _0(e,t,n,r){return arguments.length===1?fY(e):new vn(e,t,n,r??1)}function vn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}hb(vn,_0,Qj(Fc,{brighter(e){return e=e==null?Bh:Math.pow(Bh,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ac:Math.pow(ac,e),new vn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vn(ca(this.r),ca(this.g),ca(this.b),zh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:V1,formatHex:V1,formatHex8:dY,formatRgb:U1,toString:U1}));function V1(){return`#${ea(this.r)}${ea(this.g)}${ea(this.b)}`}function dY(){return`#${ea(this.r)}${ea(this.g)}${ea(this.b)}${ea((isNaN(this.opacity)?1:this.opacity)*255)}`}function U1(){const e=zh(this.opacity);return`${e===1?"rgb(":"rgba("}${ca(this.r)}, ${ca(this.g)}, ${ca(this.b)}${e===1?")":`, ${e})`}`}function zh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ca(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ea(e){return e=ca(e),(e<16?"0":"")+e.toString(16)}function F1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ur(e,t,n,r)}function Xj(e){if(e instanceof ur)return new ur(e.h,e.s,e.l,e.opacity);if(e instanceof Fc||(e=lc(e)),!e)return new ur;if(e instanceof ur)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new ur(a,s,l,e.opacity)}function hY(e,t,n,r){return arguments.length===1?Xj(e):new ur(e,t,n,r??1)}function ur(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}hb(ur,hY,Qj(Fc,{brighter(e){return e=e==null?Bh:Math.pow(Bh,e),new ur(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ac:Math.pow(ac,e),new ur(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vn(ev(e>=240?e-240:e+120,i,r),ev(e,i,r),ev(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ur($1(this.h),Yf(this.s),Yf(this.l),zh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zh(this.opacity);return`${e===1?"hsl(":"hsla("}${$1(this.h)}, ${Yf(this.s)*100}%, ${Yf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $1(e){return e=(e||0)%360,e<0?e+360:e}function Yf(e){return Math.max(0,Math.min(1,e||0))}function ev(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pb=e=>()=>e;function pY(e,t){return function(n){return e+n*t}}function mY(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gY(e){return(e=+e)==1?Jj:function(t,n){return n-t?mY(t,n,e):pb(isNaN(t)?n:t)}}function Jj(e,t){var n=t-e;return n?pY(e,n):pb(isNaN(e)?t:e)}const B1=function e(t){var n=gY(t);function r(i,o){var a=n((i=_0(i)).r,(o=_0(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Jj(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function vY(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function yY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _Y(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=ll(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function wY(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Wh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function bY(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ll(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var w0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tv=new RegExp(w0.source,"g");function EY(e){return function(){return e}}function xY(e){return function(t){return e(t)+""}}function SY(e,t){var n=w0.lastIndex=tv.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=w0.exec(e))&&(i=tv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Wh(r,i)})),n=tv.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?xY(l[0].x):EY(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ll(e,t){var n=typeof t,r;return t==null||n==="boolean"?pb(t):(n==="number"?Wh:n==="string"?(r=lc(t))?(t=r,B1):SY:t instanceof lc?B1:t instanceof Date?wY:yY(t)?vY:Array.isArray(t)?_Y:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?bY:Wh)(e,t)}function mb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function PY(e,t){t===void 0&&(t=e,e=ll);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function TY(e){return function(){return e}}function Kh(e){return+e}var z1=[0,1];function an(e){return e}function b0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:TY(isNaN(t)?NaN:.5)}function IY(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function AY(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=b0(i,r),o=n(a,o)):(r=b0(r,i),o=n(o,a)),function(s){return o(r(s))}}function OY(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=b0(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=Uc(e,s,1,r)-1;return o[l](i[l](s))}}function $c(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Em(){var e=z1,t=z1,n=ll,r,i,o,a=an,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==an&&(a=IY(e[0],e[h-1])),s=h>2?OY:AY,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return d.invert=function(h){return a(i((u||(u=s(t,e.map(r),Wh)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Kh),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=mb,c()},d.clamp=function(h){return arguments.length?(a=h?!0:an,c()):a!==an},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,p){return r=h,i=p,c()}}function gb(){return Em()(an,an)}function CY(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Hh(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ks(e){return e=Hh(Math.abs(e)),e?e[1]:NaN}function kY(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function RY(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var NY=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uc(e){if(!(t=NY.exec(e)))throw new Error("invalid format: "+e);var t;return new vb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uc.prototype=vb.prototype;function vb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DY(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var qh;function jY(e,t){var n=Hh(e,t);if(!n)return qh=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(qh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Hh(e,Math.max(0,t+o-1))[0]}function W1(e,t){var n=Hh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const K1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CY,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>W1(e*100,t),r:W1,s:jY,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function H1(e){return e}var q1=Array.prototype.map,G1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MY(e){var t=e.grouping===void 0||e.thousands===void 0?H1:kY(q1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?H1:RY(q1.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d,h){d=uc(d);var p=d.fill,m=d.align,_=d.sign,v=d.symbol,w=d.zero,E=d.width,S=d.comma,I=d.precision,O=d.trim,R=d.type;R==="n"?(S=!0,R="g"):K1[R]||(I===void 0&&(I=12),O=!0,R="g"),(w||p==="0"&&m==="=")&&(w=!0,p="0",m="=");var T=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():""),P=(v==="$"?r:/[%p]/.test(R)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),A=K1[R],k=/[defgprs%]/.test(R);I=I===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function D(N){var j=T,Y=P,oe,de,ie;if(R==="c")Y=A(N)+Y,N="";else{N=+N;var L=N<0||1/N<0;if(N=isNaN(N)?l:A(Math.abs(N),I),O&&(N=DY(N)),L&&+N==0&&_!=="+"&&(L=!1),j=(L?_==="("?_:s:_==="-"||_==="("?"":_)+j,Y=(R==="s"&&!isNaN(N)&&qh!==void 0?G1[8+qh/3]:"")+Y+(L&&_==="("?")":""),k){for(oe=-1,de=N.length;++oe<de;)if(ie=N.charCodeAt(oe),48>ie||ie>57){Y=(ie===46?i+N.slice(oe+1):N.slice(oe))+Y,N=N.slice(0,oe);break}}}S&&!w&&(N=t(N,1/0));var M=j.length+N.length+Y.length,$=M<E?new Array(E-M+1).join(p):"";switch(S&&w&&(N=t($+N,$.length?E-Y.length:1/0),$=""),m){case"<":N=j+N+Y+$;break;case"=":N=j+$+N+Y;break;case"^":N=$.slice(0,M=$.length>>1)+j+N+Y+$.slice(M);break;default:N=$+j+N+Y;break}return o(N)}return D.toString=function(){return d+""},D}function c(d,h){var p=Math.max(-8,Math.min(8,Math.floor(Ks(h)/3)))*3,m=Math.pow(10,-p),_=u((d=uc(d),d.type="f",d),{suffix:G1[8+p/3]});return function(v){return _(m*v)}}return{format:u,formatPrefix:c}}var Qf,yb,Zj;LY({thousands:",",grouping:[3],currency:["$",""]});function LY(e){return Qf=MY(e),yb=Qf.format,Zj=Qf.formatPrefix,Qf}function VY(e){return Math.max(0,-Ks(Math.abs(e)))}function UY(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ks(t)/3)))*3-Ks(Math.abs(e)))}function FY(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ks(t)-Ks(e))+1}function e2(e,t,n,r){var i=v0(e,t,n),o;switch(r=uc(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=UY(i,a))&&(r.precision=o),Zj(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=FY(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=VY(i))&&(r.precision=o-(r.type==="%")*2);break}}return yb(r)}function No(e){var t=e.domain;return e.ticks=function(n){var r=t();return m0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return e2(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=g0(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function t2(){var e=gb();return e.copy=function(){return $c(e,t2())},tr.apply(e,arguments),No(e)}function n2(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Kh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return n2(e).unknown(t)},e=arguments.length?Array.from(e,Kh):[0,1],No(n)}function r2(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Y1(e){return Math.log(e)}function Q1(e){return Math.exp(e)}function $Y(e){return-Math.log(-e)}function BY(e){return-Math.exp(-e)}function zY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function WY(e){return e===10?zY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function KY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function X1(e){return(t,n)=>-e(-t,n)}function _b(e){const t=e(Y1,Q1),n=t.domain;let r=10,i,o;function a(){return i=KY(r),o=WY(r),n()[0]<0?(i=X1(i),o=X1(o),e($Y,BY)):e(Y1,Q1),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),m,_;const v=s==null?10:+s;let w=[];if(!(r%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(_=h<0?m/o(-h):m*o(h),!(_<u)){if(_>c)break;w.push(_)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(_=h>0?m/o(-h):m*o(h),!(_<u)){if(_>c)break;w.push(_)}w.length*2<v&&(w=m0(u,c,v))}else w=m0(h,p,Math.min(p-h,v)).map(o);return d?w.reverse():w},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=uc(l)).precision==null&&(l.trim=!0),l=yb(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},t.nice=()=>n(r2(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function i2(){const e=_b(Em()).domain([1,10]);return e.copy=()=>$c(e,i2()).base(e.base()),tr.apply(e,arguments),e}function J1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Z1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wb(e){var t=1,n=e(J1(t),Z1(t));return n.constant=function(r){return arguments.length?e(J1(t=+r),Z1(t)):t},No(n)}function o2(){var e=wb(Em());return e.copy=function(){return $c(e,o2()).constant(e.constant())},tr.apply(e,arguments)}function eI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function HY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qY(e){return e<0?-e*e:e*e}function bb(e){var t=e(an,an),n=1;function r(){return n===1?e(an,an):n===.5?e(HY,qY):e(eI(n),eI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},No(t)}function Eb(){var e=bb(Em());return e.copy=function(){return $c(e,Eb()).exponent(e.exponent())},tr.apply(e,arguments),e}function GY(){return Eb.apply(null,arguments).exponent(.5)}function tI(e){return Math.sign(e)*e*e}function YY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function a2(){var e=gb(),t=[0,1],n=!1,r;function i(o){var a=YY(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(tI(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Kh)).map(tI)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return a2(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},tr.apply(i,arguments),No(i)}function s2(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=ZG(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[Uc(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(yo),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return s2().domain(e).range(t).unknown(r)},tr.apply(o,arguments)}function l2(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[Uc(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return l2().domain([e,t]).range(i).unknown(o)},tr.apply(No(a),arguments)}function u2(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[Uc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return u2().domain(e).range(t).unknown(n)},tr.apply(i,arguments)}const nv=new Date,rv=new Date;function pt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>pt(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(nv.setTime(+o),rv.setTime(+a),e(nv),e(rv),Math.floor(n(nv,rv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Gh=pt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Gh);Gh.range;const li=1e3,Yn=li*60,ui=Yn*60,xi=ui*24,xb=xi*7,nI=xi*30,iv=xi*365,ta=pt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*li)},(e,t)=>(t-e)/li,e=>e.getUTCSeconds());ta.range;const Sb=pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*li)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getMinutes());Sb.range;const Pb=pt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getUTCMinutes());Pb.range;const Tb=pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*li-e.getMinutes()*Yn)},(e,t)=>{e.setTime(+e+t*ui)},(e,t)=>(t-e)/ui,e=>e.getHours());Tb.range;const Ib=pt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ui)},(e,t)=>(t-e)/ui,e=>e.getUTCHours());Ib.range;const Bc=pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yn)/xi,e=>e.getDate()-1);Bc.range;const xm=pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>e.getUTCDate()-1);xm.range;const c2=pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xi,e=>Math.floor(e/xi));c2.range;function La(e){return pt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Yn)/xb)}const Sm=La(0),Yh=La(1),QY=La(2),XY=La(3),Hs=La(4),JY=La(5),ZY=La(6);Sm.range;Yh.range;QY.range;XY.range;Hs.range;JY.range;ZY.range;function Va(e){return pt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/xb)}const Pm=Va(0),Qh=Va(1),eQ=Va(2),tQ=Va(3),qs=Va(4),nQ=Va(5),rQ=Va(6);Pm.range;Qh.range;eQ.range;tQ.range;qs.range;nQ.range;rQ.range;const Ab=pt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ab.range;const Ob=pt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ob.range;const Si=pt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Si.range;const Pi=pt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Pi.range;function f2(e,t,n,r,i,o){const a=[[ta,1,li],[ta,5,5*li],[ta,15,15*li],[ta,30,30*li],[o,1,Yn],[o,5,5*Yn],[o,15,15*Yn],[o,30,30*Yn],[i,1,ui],[i,3,3*ui],[i,6,6*ui],[i,12,12*ui],[r,1,xi],[r,2,2*xi],[n,1,xb],[t,1,nI],[t,3,3*nI],[e,1,iv]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),m=p?p.range(u,+c+1):[];return h?m.reverse():m}function l(u,c,d){const h=Math.abs(c-u)/d,p=cb(([,,v])=>v).right(a,h);if(p===a.length)return e.every(v0(u/iv,c/iv,d));if(p===0)return Gh.every(Math.max(v0(u,c,d),1));const[m,_]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return m.every(_)}return[s,l]}const[iQ,oQ]=f2(Pi,Ob,Pm,c2,Ib,Pb),[aQ,sQ]=f2(Si,Ab,Sm,Bc,Tb,Sb);function ov(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function av(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function lQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=ql(i),c=Gl(i),d=ql(o),h=Gl(o),p=ql(a),m=Gl(a),_=ql(s),v=Gl(s),w=ql(l),E=Gl(l),S={a:ie,A:L,b:M,B:$,c:null,d:lI,e:lI,f:kQ,g:$Q,G:zQ,H:AQ,I:OQ,j:CQ,L:d2,m:RQ,M:NQ,p:q,q:ee,Q:fI,s:dI,S:DQ,u:jQ,U:MQ,V:LQ,w:VQ,W:UQ,x:null,X:null,y:FQ,Y:BQ,Z:WQ,"%":cI},I={a:ae,A:xe,b:rt,B:en,c:null,d:uI,e:uI,f:GQ,g:iX,G:aX,H:KQ,I:HQ,j:qQ,L:p2,m:YQ,M:QQ,p:Ve,q:vl,Q:fI,s:dI,S:XQ,u:JQ,U:ZQ,V:eX,w:tX,W:nX,x:null,X:null,y:rX,Y:oX,Z:sX,"%":cI},O={a:k,A:D,b:N,B:j,c:Y,d:aI,e:aI,f:SQ,g:oI,G:iI,H:sI,I:sI,j:wQ,L:xQ,m:_Q,M:bQ,p:A,q:yQ,Q:TQ,s:IQ,S:EQ,u:hQ,U:pQ,V:mQ,w:dQ,W:gQ,x:oe,X:de,y:oI,Y:iI,Z:vQ,"%":PQ};S.x=R(n,S),S.X=R(r,S),S.c=R(t,S),I.x=R(n,I),I.X=R(r,I),I.c=R(t,I);function R(z,fe){return function(he){var K=[],gt=-1,Ee=0,Tt=z.length,$t,qr,Qc;for(he instanceof Date||(he=new Date(+he));++gt<Tt;)z.charCodeAt(gt)===37&&(K.push(z.slice(Ee,gt)),(qr=rI[$t=z.charAt(++gt)])!=null?$t=z.charAt(++gt):qr=$t==="e"?" ":"0",(Qc=fe[$t])&&($t=Qc(he,qr)),K.push($t),Ee=gt+1);return K.push(z.slice(Ee,gt)),K.join("")}}function T(z,fe){return function(he){var K=Hl(1900,void 0,1),gt=P(K,z,he+="",0),Ee,Tt;if(gt!=he.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(fe&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ee=av(Hl(K.y,0,1)),Tt=Ee.getUTCDay(),Ee=Tt>4||Tt===0?Qh.ceil(Ee):Qh(Ee),Ee=xm.offset(Ee,(K.V-1)*7),K.y=Ee.getUTCFullYear(),K.m=Ee.getUTCMonth(),K.d=Ee.getUTCDate()+(K.w+6)%7):(Ee=ov(Hl(K.y,0,1)),Tt=Ee.getDay(),Ee=Tt>4||Tt===0?Yh.ceil(Ee):Yh(Ee),Ee=Bc.offset(Ee,(K.V-1)*7),K.y=Ee.getFullYear(),K.m=Ee.getMonth(),K.d=Ee.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),Tt="Z"in K?av(Hl(K.y,0,1)).getUTCDay():ov(Hl(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(Tt+5)%7:K.w+K.U*7-(Tt+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,av(K)):ov(K)}}function P(z,fe,he,K){for(var gt=0,Ee=fe.length,Tt=he.length,$t,qr;gt<Ee;){if(K>=Tt)return-1;if($t=fe.charCodeAt(gt++),$t===37){if($t=fe.charAt(gt++),qr=O[$t in rI?fe.charAt(gt++):$t],!qr||(K=qr(z,he,K))<0)return-1}else if($t!=he.charCodeAt(K++))return-1}return K}function A(z,fe,he){var K=u.exec(fe.slice(he));return K?(z.p=c.get(K[0].toLowerCase()),he+K[0].length):-1}function k(z,fe,he){var K=p.exec(fe.slice(he));return K?(z.w=m.get(K[0].toLowerCase()),he+K[0].length):-1}function D(z,fe,he){var K=d.exec(fe.slice(he));return K?(z.w=h.get(K[0].toLowerCase()),he+K[0].length):-1}function N(z,fe,he){var K=w.exec(fe.slice(he));return K?(z.m=E.get(K[0].toLowerCase()),he+K[0].length):-1}function j(z,fe,he){var K=_.exec(fe.slice(he));return K?(z.m=v.get(K[0].toLowerCase()),he+K[0].length):-1}function Y(z,fe,he){return P(z,t,fe,he)}function oe(z,fe,he){return P(z,n,fe,he)}function de(z,fe,he){return P(z,r,fe,he)}function ie(z){return a[z.getDay()]}function L(z){return o[z.getDay()]}function M(z){return l[z.getMonth()]}function $(z){return s[z.getMonth()]}function q(z){return i[+(z.getHours()>=12)]}function ee(z){return 1+~~(z.getMonth()/3)}function ae(z){return a[z.getUTCDay()]}function xe(z){return o[z.getUTCDay()]}function rt(z){return l[z.getUTCMonth()]}function en(z){return s[z.getUTCMonth()]}function Ve(z){return i[+(z.getUTCHours()>=12)]}function vl(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var fe=R(z+="",S);return fe.toString=function(){return z},fe},parse:function(z){var fe=T(z+="",!1);return fe.toString=function(){return z},fe},utcFormat:function(z){var fe=R(z+="",I);return fe.toString=function(){return z},fe},utcParse:function(z){var fe=T(z+="",!0);return fe.toString=function(){return z},fe}}}var rI={"-":"",_:" ",0:"0"},xt=/^\s*\d+/,uQ=/^%/,cQ=/[\\^$*+?|[\]().{}]/g;function be(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function fQ(e){return e.replace(cQ,"\\$&")}function ql(e){return new RegExp("^(?:"+e.map(fQ).join("|")+")","i")}function Gl(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function dQ(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function hQ(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function pQ(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function mQ(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gQ(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function iI(e,t,n){var r=xt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oI(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yQ(e,t,n){var r=xt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function _Q(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function aI(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wQ(e,t,n){var r=xt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function sI(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function bQ(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function EQ(e,t,n){var r=xt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xQ(e,t,n){var r=xt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function SQ(e,t,n){var r=xt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function PQ(e,t,n){var r=uQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function TQ(e,t,n){var r=xt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function IQ(e,t,n){var r=xt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lI(e,t){return be(e.getDate(),t,2)}function AQ(e,t){return be(e.getHours(),t,2)}function OQ(e,t){return be(e.getHours()%12||12,t,2)}function CQ(e,t){return be(1+Bc.count(Si(e),e),t,3)}function d2(e,t){return be(e.getMilliseconds(),t,3)}function kQ(e,t){return d2(e,t)+"000"}function RQ(e,t){return be(e.getMonth()+1,t,2)}function NQ(e,t){return be(e.getMinutes(),t,2)}function DQ(e,t){return be(e.getSeconds(),t,2)}function jQ(e){var t=e.getDay();return t===0?7:t}function MQ(e,t){return be(Sm.count(Si(e)-1,e),t,2)}function h2(e){var t=e.getDay();return t>=4||t===0?Hs(e):Hs.ceil(e)}function LQ(e,t){return e=h2(e),be(Hs.count(Si(e),e)+(Si(e).getDay()===4),t,2)}function VQ(e){return e.getDay()}function UQ(e,t){return be(Yh.count(Si(e)-1,e),t,2)}function FQ(e,t){return be(e.getFullYear()%100,t,2)}function $Q(e,t){return e=h2(e),be(e.getFullYear()%100,t,2)}function BQ(e,t){return be(e.getFullYear()%1e4,t,4)}function zQ(e,t){var n=e.getDay();return e=n>=4||n===0?Hs(e):Hs.ceil(e),be(e.getFullYear()%1e4,t,4)}function WQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+be(t/60|0,"0",2)+be(t%60,"0",2)}function uI(e,t){return be(e.getUTCDate(),t,2)}function KQ(e,t){return be(e.getUTCHours(),t,2)}function HQ(e,t){return be(e.getUTCHours()%12||12,t,2)}function qQ(e,t){return be(1+xm.count(Pi(e),e),t,3)}function p2(e,t){return be(e.getUTCMilliseconds(),t,3)}function GQ(e,t){return p2(e,t)+"000"}function YQ(e,t){return be(e.getUTCMonth()+1,t,2)}function QQ(e,t){return be(e.getUTCMinutes(),t,2)}function XQ(e,t){return be(e.getUTCSeconds(),t,2)}function JQ(e){var t=e.getUTCDay();return t===0?7:t}function ZQ(e,t){return be(Pm.count(Pi(e)-1,e),t,2)}function m2(e){var t=e.getUTCDay();return t>=4||t===0?qs(e):qs.ceil(e)}function eX(e,t){return e=m2(e),be(qs.count(Pi(e),e)+(Pi(e).getUTCDay()===4),t,2)}function tX(e){return e.getUTCDay()}function nX(e,t){return be(Qh.count(Pi(e)-1,e),t,2)}function rX(e,t){return be(e.getUTCFullYear()%100,t,2)}function iX(e,t){return e=m2(e),be(e.getUTCFullYear()%100,t,2)}function oX(e,t){return be(e.getUTCFullYear()%1e4,t,4)}function aX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?qs(e):qs.ceil(e),be(e.getUTCFullYear()%1e4,t,4)}function sX(){return"+0000"}function cI(){return"%"}function fI(e){return+e}function dI(e){return Math.floor(+e/1e3)}var Ha,g2,v2;lX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lX(e){return Ha=lQ(e),g2=Ha.format,Ha.parse,v2=Ha.utcFormat,Ha.utcParse,Ha}function uX(e){return new Date(e)}function cX(e){return e instanceof Date?+e:+new Date(+e)}function Cb(e,t,n,r,i,o,a,s,l,u){var c=gb(),d=c.invert,h=c.domain,p=u(".%L"),m=u(":%S"),_=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),E=u("%b %d"),S=u("%B"),I=u("%Y");function O(R){return(l(R)<R?p:s(R)<R?m:a(R)<R?_:o(R)<R?v:r(R)<R?i(R)<R?w:E:n(R)<R?S:I)(R)}return c.invert=function(R){return new Date(d(R))},c.domain=function(R){return arguments.length?h(Array.from(R,cX)):h().map(uX)},c.ticks=function(R){var T=h();return e(T[0],T[T.length-1],R??10)},c.tickFormat=function(R,T){return T==null?O:u(T)},c.nice=function(R){var T=h();return(!R||typeof R.range!="function")&&(R=t(T[0],T[T.length-1],R??10)),R?h(r2(T,R)):c},c.copy=function(){return $c(c,Cb(e,t,n,r,i,o,a,s,l,u))},c}function fX(){return tr.apply(Cb(aQ,sQ,Si,Ab,Sm,Bc,Tb,Sb,ta,g2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function dX(){return tr.apply(Cb(iQ,oQ,Pi,Ob,Pm,xm,Ib,Pb,ta,v2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tm(){var e=0,t=1,n,r,i,o,a=an,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(o(d)-n)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(a=d,u):a};function c(d){return function(h){var p,m;return arguments.length?([p,m]=h,a=d(p,m),u):[a(0),a(1)]}}return u.range=c(ll),u.rangeRound=c(mb),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),u}}function Do(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function y2(){var e=No(Tm()(an));return e.copy=function(){return Do(e,y2())},Di.apply(e,arguments)}function _2(){var e=_b(Tm()).domain([1,10]);return e.copy=function(){return Do(e,_2()).base(e.base())},Di.apply(e,arguments)}function w2(){var e=wb(Tm());return e.copy=function(){return Do(e,w2()).constant(e.constant())},Di.apply(e,arguments)}function kb(){var e=bb(Tm());return e.copy=function(){return Do(e,kb()).exponent(e.exponent())},Di.apply(e,arguments)}function hX(){return kb.apply(null,arguments).exponent(.5)}function b2(){var e=[],t=an;function n(r){if(r!=null&&!isNaN(r=+r))return t((Uc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(yo),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>JG(e,o/r))},n.copy=function(){return b2(t).domain(e)},Di.apply(n,arguments)}function Im(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=an,c,d=!1,h;function p(_){return isNaN(_=+_)?h:(_=.5+((_=+c(_))-o)*(r*_<r*o?s:l),u(d?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([e,t,n]=_,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[e,t,n]},p.clamp=function(_){return arguments.length?(d=!!_,p):d},p.interpolator=function(_){return arguments.length?(u=_,p):u};function m(_){return function(v){var w,E,S;return arguments.length?([w,E,S]=v,u=PY(_,[w,E,S]),p):[u(0),u(.5),u(1)]}}return p.range=m(ll),p.rangeRound=m(mb),p.unknown=function(_){return arguments.length?(h=_,p):h},function(_){return c=_,i=_(e),o=_(t),a=_(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function E2(){var e=No(Im()(an));return e.copy=function(){return Do(e,E2())},Di.apply(e,arguments)}function x2(){var e=_b(Im()).domain([.1,1,10]);return e.copy=function(){return Do(e,x2()).base(e.base())},Di.apply(e,arguments)}function S2(){var e=wb(Im());return e.copy=function(){return Do(e,S2()).constant(e.constant())},Di.apply(e,arguments)}function Rb(){var e=bb(Im());return e.copy=function(){return Do(e,Rb()).exponent(e.exponent())},Di.apply(e,arguments)}function pX(){return Rb.apply(null,arguments).exponent(.5)}const ou=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:db,scaleDiverging:E2,scaleDivergingLog:x2,scaleDivergingPow:Rb,scaleDivergingSqrt:pX,scaleDivergingSymlog:S2,scaleIdentity:n2,scaleImplicit:y0,scaleLinear:t2,scaleLog:i2,scaleOrdinal:fb,scalePoint:tY,scalePow:Eb,scaleQuantile:s2,scaleQuantize:l2,scaleRadial:a2,scaleSequential:y2,scaleSequentialLog:_2,scaleSequentialPow:kb,scaleSequentialQuantile:b2,scaleSequentialSqrt:hX,scaleSequentialSymlog:w2,scaleSqrt:GY,scaleSymlog:o2,scaleThreshold:u2,scaleTime:fX,scaleUtc:dX,tickFormat:e2},Symbol.toStringTag,{value:"Module"}));var jo=e=>e.chartData,mX=U([jo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Nb=(e,t,n,r)=>r?mX(e):jo(e);function Ti(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ie(t)&&Ie(n))return!0}return!1}function hI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function P2(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(Ie(n))i=n;else if(typeof n=="function")return;if(Ie(r))o=r;else if(typeof r=="function")return;var a=[i,o];if(Ti(a))return a}}function gX(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ti(r))return hI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,a,s;if(i==="auto")t!=null&&(a=Math.min(...t));else if(re(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&OT.test(i)){var l=OT.exec(i);if(l==null||l[1]==null||t==null)a=void 0;else{var u=+l[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(o==="auto")t!=null&&(s=Math.max(...t));else if(re(o))s=o;else if(typeof o=="function")try{t!=null&&(s=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&CT.test(o)){var c=CT.exec(o);if(c==null||c[1]==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[a,s];if(Ti(h))return t==null?h:hI(h,t,n)}}}var ul=1e9,vX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jb,$e=!0,er="[DecimalError] ",fa=er+"Invalid argument: ",Db=er+"Exponent out of range: ",cl=Math.floor,qo=Math.pow,yX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tn,wt=1e7,je=7,T2=9007199254740991,Xh=cl(T2/je),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*je;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(e){return fi(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,n=t.constructor;return Ce(fi(t,new n(e),0,1),n.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return st(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Tn))throw Error(er+"NaN");if(n.s<1)throw Error(er+(n.s?"NaN":"-Infinity"));return n.eq(Tn)?new r(0):($e=!1,t=fi(cc(n,o),cc(e,o),o),$e=!0,Ce(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?O2(t,e):I2(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(er+"NaN");return n.s?($e=!1,t=fi(n,e,0,1).times(e),$e=!0,n.minus(t)):Ce(new r(n),i)};X.naturalExponential=X.exp=function(){return A2(this)};X.naturalLogarithm=X.ln=function(){return cc(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?I2(t,e):O2(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fa+e);if(t=st(i)+1,r=i.d.length-1,n=r*je+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};X.squareRoot=X.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(er+"NaN")}for(e=st(s),$e=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=kr(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=cl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(fi(s,o,a+2)).times(.5),kr(o.d).slice(0,a)===(t=kr(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ce(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return $e=!0,Ce(r,n)};X.times=X.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,p=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+t,o[i--]=s%wt|0,t=s/wt|0;o[i]=(o[i]+t)%wt|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,$e?Ce(e,d.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Kr(e,0,ul),t===void 0?t=r.rounding:Kr(t,0,8),Ce(n,e+st(n)+1,t))};X.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Oa(r,!0):(Kr(e,0,ul),t===void 0?t=i.rounding:Kr(t,0,8),r=Ce(new i(r),e+1,t),n=Oa(r,!0,e+1)),n};X.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Oa(i):(Kr(e,0,ul),t===void 0?t=o.rounding:Kr(t,0,8),r=Ce(new o(i),e+st(i)+1,t),n=Oa(r.abs(),!1,e+st(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return Ce(new t(e),st(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Tn);if(s=new l(s),!s.s){if(e.s<1)throw Error(er+"Infinity");return s}if(s.eq(Tn))return s;if(r=l.precision,e.eq(Tn))return Ce(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=T2){for(i=new l(Tn),t=Math.ceil(r/je+4),$e=!1;n%2&&(i=i.times(s),mI(i.d,t)),n=cl(n/2),n!==0;)s=s.times(s),mI(s.d,t);return $e=!0,e.s<0?new l(Tn).div(i):Ce(i,r)}}else if(o<0)throw Error(er+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,$e=!1,i=e.times(cc(s,r+u)),$e=!0,i=A2(i),i.s=o,i};X.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=st(i),r=Oa(i,n<=o.toExpNeg||n>=o.toExpPos)):(Kr(e,1,ul),t===void 0?t=o.rounding:Kr(t,0,8),i=Ce(new o(i),e,t),n=st(i),r=Oa(i,e<=n||n<=o.toExpNeg,e)),r};X.toSignificantDigits=X.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Kr(e,1,ul),t===void 0?t=r.rounding:Kr(t,0,8)),Ce(new r(n),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=st(e),n=e.constructor;return Oa(e,t<=n.toExpNeg||t>=n.toExpPos)};function I2(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),$e?Ce(t,d):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(d/je),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/wt|0,l[o]%=wt;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,$e?Ce(t,d):t}function Kr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(fa+e)}function kr(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=je-r.length,n&&(o+=Ki(n)),o+=r;a=e[t],r=a+"",n=je-r.length,n&&(o+=Ki(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var fi=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%wt|0,a=o/wt|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*wt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,d,h,p,m,_,v,w,E,S,I,O,R,T,P,A=r.constructor,k=r.s==i.s?1:-1,D=r.d,N=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(er+"Division by zero");for(l=r.e-i.e,T=N.length,O=D.length,p=new A(k),m=p.d=[],u=0;N[u]==(D[u]||0);)++u;if(N[u]>(D[u]||0)&&--l,o==null?E=o=A.precision:a?E=o+(st(r)-st(i))+1:E=o,E<0)return new A(0);if(E=E/je+2|0,u=0,T==1)for(c=0,N=N[0],E++;(u<O||c)&&E--;u++)S=c*wt+(D[u]||0),m[u]=S/N|0,c=S%N|0;else{for(c=wt/(N[0]+1)|0,c>1&&(N=e(N,c),D=e(D,c),T=N.length,O=D.length),I=T,_=D.slice(0,T),v=_.length;v<T;)_[v++]=0;P=N.slice(),P.unshift(0),R=N[0],N[1]>=wt/2&&++R;do c=0,s=t(N,_,T,v),s<0?(w=_[0],T!=v&&(w=w*wt+(_[1]||0)),c=w/R|0,c>1?(c>=wt&&(c=wt-1),d=e(N,c),h=d.length,v=_.length,s=t(d,_,h,v),s==1&&(c--,n(d,T<h?P:N,h))):(c==0&&(s=c=1),d=N.slice()),h=d.length,h<v&&d.unshift(0),n(_,d,v),s==-1&&(v=_.length,s=t(N,_,T,v),s<1&&(c++,n(_,T<v?P:N,v))),v=_.length):s===0&&(c++,_=[0]),m[u++]=c,s&&_[0]?_[v++]=D[I]||0:(_=[D[I]],v=1);while((I++<O||_[0]!==void 0)&&E--)}return m[0]||m.shift(),p.e=l,Ce(p,a?o+st(p)+1:o)}}();function A2(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,d=c.precision;if(st(e)>16)throw Error(Db+st(e));if(!e.s)return new c(Tn);for($e=!1,s=d,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(qo(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Tn),c.precision=s;;){if(i=Ce(i.times(e),s),n=n.times(++l),a=o.plus(fi(i,n,s)),kr(a.d).slice(0,s)===kr(o.d).slice(0,s)){for(;u--;)o=Ce(o.times(o),s);return c.precision=d,t==null?($e=!0,Ce(o,d)):o}o=a}}function st(e){for(var t=e.e*je,n=e.d[0];n>=10;n/=10)t++;return t}function sv(e,t,n){if(t>e.LN10.sd())throw $e=!0,n&&(e.precision=n),Error(er+"LN10 precision limit exceeded");return Ce(new e(e.LN10),t)}function Ki(e){for(var t="";e--;)t+="0";return t}function cc(e,t){var n,r,i,o,a,s,l,u,c,d=1,h=10,p=e,m=p.d,_=p.constructor,v=_.precision;if(p.s<1)throw Error(er+(p.s?"NaN":"-Infinity"));if(p.eq(Tn))return new _(0);if(t==null?($e=!1,u=v):u=t,p.eq(10))return t==null&&($e=!0),sv(_,u);if(u+=h,_.precision=u,n=kr(m),r=n.charAt(0),o=st(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=kr(p.d),r=n.charAt(0),d++;o=st(p),r>1?(p=new _("0."+n),o++):p=new _(r+"."+n.slice(1))}else return l=sv(_,u+2,v).times(o+""),p=cc(new _(r+"."+n.slice(1)),u-h).plus(l),_.precision=v,t==null?($e=!0,Ce(p,v)):p;for(s=a=p=fi(p.minus(Tn),p.plus(Tn),u),c=Ce(p.times(p),u),i=3;;){if(a=Ce(a.times(c),u),l=s.plus(fi(a,new _(i),u)),kr(l.d).slice(0,u)===kr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(sv(_,u+2,v).times(o+""))),s=fi(s,new _(d),u),_.precision=v,t==null?($e=!0,Ce(s,v)):s;s=l,i+=2}}function pI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=cl(n/je),e.d=[],r=(n+1)%je,n<0&&(r+=je),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=je;r<i;)e.d.push(+t.slice(r,r+=je));t=t.slice(r),r=je-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),$e&&(e.e>Xh||e.e<-Xh))throw Error(Db+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ce(e,t,n){var r,i,o,a,s,l,u,c,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=je,i=t,u=d[c=0];else{if(c=Math.ceil((r+1)/je),o=d.length,c>=o)return e;for(u=o=d[c],a=1;o>=10;o/=10)a++;r%=je,i=r-je+a}if(n!==void 0&&(o=qo(10,a-i-1),s=u/o%10|0,l=t<0||d[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/qo(10,a-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=st(e),d.length=1,t=t-o-1,d[0]=qo(10,(je-t%je)%je),e.e=cl(-t/je)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=qo(10,je-r),d[c]=i>0?(u/qo(10,a-i)%qo(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==wt&&(d[0]=1,++e.e);break}else{if(d[c]+=o,d[c]!=wt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if($e&&(e.e>Xh||e.e<-Xh))throw Error(Db+st(e));return e}function O2(e,t){var n,r,i,o,a,s,l,u,c,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$e?Ce(t,p):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),i=Math.max(Math.ceil(p/je),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=wt-1;--l[o],l[i]+=wt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,$e?Ce(t,p):t):new h(0)}function Oa(e,t,n){var r,i=st(e),o=kr(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ki(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ki(-i-1)+o,n&&(r=n-a)>0&&(o+=Ki(r))):i>=a?(o+=Ki(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ki(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ki(r))),e.s<0?"-"+o:o}function mI(e,t){if(e.length>t)return e.length=t,!0}function C2(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(fa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return pI(a,o.toString())}else if(typeof o!="string")throw Error(fa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,yX.test(o))pI(a,o);else throw Error(fa+o)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C2,i.config=i.set=_X,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function _X(e){if(!e||typeof e!="object")throw Error(er+"Object expected");var t,n,r,i=["precision",1,ul,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(cl(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(fa+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fa+n+": "+r);return this}var jb=C2(vX);Tn=new jb(1);const Se=jb;function k2(e){var t;return e===0?t=1:t=Math.floor(new Se(e).abs().log(10).toNumber())+1,t}function R2(e,t,n){for(var r=new Se(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var N2=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},D2=(e,t,n)=>{if(e.lte(0))return new Se(0);var r=k2(e.toNumber()),i=new Se(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new Se(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?new Se(l.toNumber()):new Se(Math.ceil(l.toNumber()))},wX=(e,t,n)=>{var r=new Se(1),i=new Se(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Se(10).pow(k2(e)-1),i=new Se(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Se(Math.floor(e)))}else e===0?i=new Se(Math.floor((t-1)/2)):n||(i=new Se(Math.floor(e)));for(var a=Math.floor((t-1)/2),s=[],l=0;l<t;l++)s.push(i.add(new Se(l-a).mul(r)).toNumber());return s},j2=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Se(0),tickMin:new Se(0),tickMax:new Se(0)};var a=D2(new Se(n).sub(t).div(r-1),i,o),s;t<=0&&n>=0?s=new Se(0):(s=new Se(t).add(n).div(2),s=s.sub(new Se(s).mod(a)));var l=Math.ceil(s.sub(t).div(a).toNumber()),u=Math.ceil(new Se(n).sub(s).div(a).toNumber()),c=l+u+1;return c>r?j2(t,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:a,tickMin:s.sub(new Se(l).mul(a)),tickMax:s.add(new Se(u).mul(a))})},bX=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[s,l]=N2([n,r]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?u.reverse():u}if(s===l)return wX(s,i,o);var{step:c,tickMin:d,tickMax:h}=j2(s,l,a,o,0),p=R2(d,h.add(new Se(.1).mul(c)),c);return n>r?p.reverse():p},EX=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=N2([r,i]);if(a===-1/0||s===1/0)return[r,i];if(a===s)return[a];var l=Math.max(n,2),u=D2(new Se(s).sub(a).div(l-1),o,0),c=[...R2(new Se(a),new Se(s),u),s];return o===!1&&(c=c.map(d=>Math.round(d))),r>i?c.reverse():c},xX=e=>e.rootProps.barCategoryGap,Am=e=>e.rootProps.stackOffset,M2=e=>e.rootProps.reverseStackOrder,Mb=e=>e.options.chartName,Lb=e=>e.rootProps.syncId,L2=e=>e.rootProps.syncMethod,Vb=e=>e.options.eventEmitter,yn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},$o={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},xr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Om=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Cm(e,t,n){if(n!=="auto")return n;if(e!=null)return ki(e,t)?"category":"number"}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){SX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SX(e,t,n){return(t=PX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vI={allowDataOverflow:$o.allowDataOverflow,allowDecimals:$o.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$o.angleAxisId,includeHidden:!1,name:void 0,reversed:$o.reversed,scale:$o.scale,tick:$o.tick,tickCount:void 0,ticks:void 0,type:$o.type,unit:void 0},yI={allowDataOverflow:xr.allowDataOverflow,allowDecimals:xr.allowDecimals,allowDuplicatedCategory:xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xr.radiusAxisId,includeHidden:xr.includeHidden,name:void 0,reversed:xr.reversed,scale:xr.scale,tick:xr.tick,tickCount:xr.tickCount,ticks:void 0,type:xr.type,unit:void 0},IX=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Ub=U([IX,Sj],(e,t)=>{var n;if(e!=null)return e;var r=(n=Cm(t,"angleAxis",vI.type))!==null&&n!==void 0?n:"category";return Jh(Jh({},vI),{},{type:r})}),AX=(e,t)=>e.polarAxis.radiusAxis[t],Fb=U([AX,Sj],(e,t)=>{var n;if(e!=null)return e;var r=(n=Cm(t,"radiusAxis",yI.type))!==null&&n!==void 0?n:"category";return Jh(Jh({},yI),{},{type:r})}),km=e=>e.polarOptions,$b=U([Ri,Ni,Ft],CG),V2=U([km,$b],(e,t)=>{if(e!=null)return Io(e.innerRadius,t,0)}),U2=U([km,$b],(e,t)=>{if(e!=null)return Io(e.outerRadius,t,t*.8)}),OX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},F2=U([km],OX);U([Ub,F2],Om);var $2=U([$b,V2,U2],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});U([Fb,$2],Om);var B2=U([Ge,km,V2,U2,Ri,Ni],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:s,startAngle:l,endAngle:u}=t;return{cx:Io(a,i,i/2),cy:Io(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),St=(e,t)=>t,Rm=(e,t,n)=>n;function z2(e){return e==null?void 0:e.id}function W2(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var c=z2(s);u.forEach((d,h)=>{var p=o==null||i?h:String(Mt(d,o,null)),m=Mt(d,s.dataKey,0),_;a.has(p)?_=a.get(p):_={},Object.assign(_,{[c]:m}),a.set(p,_)})}}),Array.from(a.values())}function Bb(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Nm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Dm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function CX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Pt=e=>{var t=Ge(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},fl=e=>e.tooltip.settings.axisId;function kX(e){if(e in ou)return ou[e]();var t="scale".concat(Nc(e));if(t in ou)return ou[t]()}function _I(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:function(o){function a(){return o.apply(this,arguments)}return a.toString=function(){return o.toString()},a}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(o){var a=i[0],s=i[1];return a<=s?o>=a&&o<=s:o>=s&&o<=a},bandwidth:n?()=>n.call(e):void 0,ticks:t?o=>t.call(e,o):void 0,map:(o,a)=>{var s=e(o);if(s!=null){if(e.bandwidth&&a!==null&&a!==void 0&&a.position){var l=e.bandwidth();switch(a.position){case"middle":s+=l/2;break;case"end":s+=l;break}}return s}}}}function wI(e,t,n){if(typeof e=="function")return _I(e.copy().domain(t).range(n));if(e!=null){var r=kX(e);if(r!=null)return r.domain(t).range(n),_I(r)}}var RX=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ti(t)){for(var n,r,i=0;i<t.length;i++){var o=t[i];Ie(o)&&((n===void 0||o<n)&&(n=o),(r===void 0||o>r)&&(r=o))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){NX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NX(e,t,n){return(t=DX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0=[0,"auto"],vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},K2=(e,t)=>e.cartesianAxis.xAxis[t],ji=(e,t)=>{var n=K2(e,t);return n??vt},yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mc},H2=(e,t)=>e.cartesianAxis.yAxis[t],Mi=(e,t)=>{var n=H2(e,t);return n??yt},MX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??MX},hn=(e,t,n)=>{switch(t){case"xAxis":return ji(e,n);case"yAxis":return Mi(e,n);case"zAxis":return zb(e,n);case"angleAxis":return Ub(e,n);case"radiusAxis":return Fb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},LX=(e,t,n)=>{switch(t){case"xAxis":return ji(e,n);case"yAxis":return Mi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zc=(e,t,n)=>{switch(t){case"xAxis":return ji(e,n);case"yAxis":return Mi(e,n);case"angleAxis":return Ub(e,n);case"radiusAxis":return Fb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},q2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function G2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Y2=e=>e.graphicalItems.cartesianItems,VX=U([St,Rm],G2),Q2=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Wc=U([Y2,hn,VX],Q2,{memoizeOptions:{resultEqualityCheck:Dm}}),X2=U([Wc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Bb)),J2=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),UX=U([Wc],J2),Z2=e=>e.map(t=>t.data).filter(Boolean).flat(1),FX=U([Wc],Z2,{memoizeOptions:{resultEqualityCheck:Dm}}),eM=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Wb=U([FX,Nb],eM),tM=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Mt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Mt(i,r)}))):e.map(r=>({value:r})),jm=U([Wb,hn,Wc],tM);function nM(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Sd(e){if(Wr(e)||e instanceof Date){var t=Number(e);if(Ie(t))return t}}function EI(e){if(Array.isArray(e)){var t=[Sd(e[0]),Sd(e[1])];return Ti(t)?t:void 0}var n=Sd(e);if(n!=null)return[n,n]}function Ii(e){return e.map(Sd).filter(Or)}function $X(e,t,n){return!n||typeof t!="number"||bi(t)?[]:n.length?Ii(n.flatMap(r=>{var i=Mt(e,r.dataKey),o,a;if(Array.isArray(i)?[o,a]=i:o=a=i,!(!Ie(o)||!Ie(a)))return[t-o,t+a]})):[]}var mt=e=>{var t=Pt(e),n=fl(e);return zc(e,t,n)},Kc=U([mt],e=>e==null?void 0:e.dataKey),BX=U([X2,Nb,mt],W2),rM=(e,t,n,r)=>{var i={},o=t.reduce((a,s)=>{if(s.stackId==null)return a;var l=a[s.stackId];return l==null&&(l=[]),l.push(s),a[s.stackId]=l,a},i);return Object.fromEntries(Object.entries(o).map(a=>{var[s,l]=a,u=r?[...l].reverse():l,c=u.map(z2);return[s,{stackedData:fq(e,c,n),graphicalItems:u}]}))},zX=U([BX,X2,Am,M2],rM),iM=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var a=pq(e,i,o);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},WX=U([hn],e=>e.allowDataOverflow),Kb=e=>{var t;if(e==null||!("domain"in e))return E0;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ii(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:E0},oM=U([hn],Kb),aM=U([oM,WX],P2),KX=U([zX,jo,St,aM],iM,{memoizeOptions:{resultEqualityCheck:Nm}}),Hb=e=>e.errorBars,HX=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>nM(n,r)),ep=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),a=Math.min(...o),s=Math.max(...o);return[a,s]}},sM=(e,t,n,r,i)=>{var o,a;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,c,d=(u=r[l.id])===null||u===void 0?void 0:u.filter(w=>nM(i,w)),h=Mt(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=$X(s,h,d);if(p.length>=2){var m=Math.min(...p),_=Math.max(...p);(o==null||m<o)&&(o=m),(a==null||_>a)&&(a=_)}var v=EI(h);v!=null&&(o=o==null?v[0]:Math.min(o,v[0]),a=a==null?v[1]:Math.max(a,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=EI(Mt(s,t.dataKey));l!=null&&(o=o==null?l[0]:Math.min(o,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Ie(o)&&Ie(a))return[o,a]},qX=U([Wb,hn,UX,Hb,St],sM,{memoizeOptions:{resultEqualityCheck:Nm}});function GX(e){var{value:t}=e;if(Wr(t)||t instanceof Date)return t}var YX=(e,t,n)=>{var r=e.map(GX).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&eD(r))?Kj(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},lM=e=>e.referenceElements.dots,dl=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),QX=U([lM,St,Rm],dl),uM=e=>e.referenceElements.areas,XX=U([uM,St,Rm],dl),cM=e=>e.referenceElements.lines,JX=U([cM,St,Rm],dl),fM=(e,t)=>{if(e!=null){var n=Ii(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ZX=U(QX,St,fM),dM=(e,t)=>{if(e!=null){var n=Ii(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},eJ=U([XX,St],dM);function tJ(e){var t;if(e.x!=null)return Ii([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ii(n)}function nJ(e){var t;if(e.y!=null)return Ii([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ii(n)}var hM=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?tJ(r):nJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},rJ=U([JX,St],hM),iJ=U(ZX,rJ,eJ,(e,t,n)=>ep(e,n,t)),pM=(e,t,n,r,i,o,a,s)=>{if(n!=null)return n;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=l?ep(r,o,i):ep(o,i);return gX(t,u,e.allowDataOverflow)},oJ=U([hn,oM,aM,KX,qX,iJ,Ge,St],pM,{memoizeOptions:{resultEqualityCheck:Nm}}),aJ=[0,1],mM=(e,t,n,r,i,o,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:s,type:l}=e,u=ki(t,o);if(u&&s==null){var c;return Kj(0,(c=n==null?void 0:n.length)!==null&&c!==void 0?c:0)}return l==="category"?YX(r,e,u):i==="expand"?aJ:a}},qb=U([hn,Ge,Wb,jm,Am,St,oJ],mM);function sJ(e){return e in ou}var gM=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var o="scale".concat(Nc(r));return sJ(o)?o:"point"}}},hl=U([hn,q2,Mb],gM);function Gb(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?wI(e.scale,n,r):wI(t,n,r)}var vM=(e,t,n)=>{var r=Kb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ti(e))return bX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ti(e))return EX(e,t.tickCount,t.allowDecimals)}},Yb=U([qb,zc,hl],vM),yM=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ti(t)&&Array.isArray(n)&&n.length>0){var i,o,a=t[0],s=(i=n[0])!==null&&i!==void 0?i:0,l=t[1],u=(o=n[n.length-1])!==null&&o!==void 0?o:0;return[Math.min(a,s),Math.max(l,u)]}return t},lJ=U([hn,qb,Yb,St],yM),uJ=U(jm,hn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ii(e.map(d=>d.value))).sort((d,h)=>d-h),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var a=o-i;if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var c=u-l;n=Math.min(n,c)}}return n/a}}),_M=U(uJ,Ge,xX,Ft,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!Ie(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var a=Io(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),cJ=(e,t,n)=>{var r=ji(e,t);return r==null||typeof r.padding!="string"?0:_M(e,"xAxis",t,n,r.padding)},fJ=(e,t,n)=>{var r=Mi(e,t);return r==null||typeof r.padding!="string"?0:_M(e,"yAxis",t,n,r.padding)},dJ=U(ji,cJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),hJ=U(Mi,fJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),pJ=U([Ft,dJ,gm,mm,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),mJ=U([Ft,Ge,hJ,gm,mm,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Hc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return pJ(e,n,r);case"yAxis":return mJ(e,n,r);case"zAxis":return(i=zb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return F2(e);case"radiusAxis":return $2(e,n);default:return}},wM=U([hn,Hc],Om),gJ=U([hl,lJ],RX),Mm=U([hn,hl,gJ,wM],Gb);U([Wc,Hb,St],HX);function bM(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Lm=(e,t)=>t,Vm=(e,t,n)=>n,vJ=U(hm,Lm,Vm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(bM)),yJ=U(pm,Lm,Vm,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(bM)),EM=(e,t)=>({width:e.width,height:t.height}),_J=(e,t)=>{var n=typeof t.width=="number"?t.width:Mc;return{width:n,height:e.height}},wJ=U(Ft,ji,EM),bJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},EJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},xJ=U(Ni,Ft,vJ,Lm,Vm,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=EM(t,s);a==null&&(a=bJ(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;o[s.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),o}),SJ=U(Ri,Ft,yJ,Lm,Vm,(e,t,n,r,i)=>{var o={},a;return n.forEach(s=>{var l=_J(t,s);a==null&&(a=EJ(t,r,e));var u=r==="left"&&!i||r==="right"&&i;o[s.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),o}),PJ=(e,t)=>{var n=ji(e,t);if(n!=null)return xJ(e,n.orientation,n.mirror)},TJ=U([Ft,ji,PJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),IJ=(e,t)=>{var n=Mi(e,t);if(n!=null)return SJ(e,n.orientation,n.mirror)},AJ=U([Ft,Mi,IJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),OJ=U(Ft,Mi,(e,t)=>{var n=typeof t.width=="number"?t.width:Mc;return{width:n,height:e.height}}),xM=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=ki(e,r),l=t.map(u=>u.value);if(a&&s&&o==="category"&&i&&eD(l))return l}},Qb=U([Ge,jm,hn,St],xM),SM=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,a=ki(e,r);if(a&&(i==="number"||o!=="auto"))return t.map(s=>s.value)}},Xb=U([Ge,jm,zc,St],SM);U([Ge,LX,hl,Mm,Qb,Xb,Hc,Yb,St],(e,t,n,r,i,o,a,s,l)=>{if(t!=null){var u=ki(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:s,range:a,realScaleType:n,scale:r}}});var CJ=(e,t,n,r,i,o,a,s,l)=>{if(!(t==null||r==null)){var u=ki(e,l),{type:c,ticks:d,tickCount:h}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/p:0;m=l==="angleAxis"&&o!=null&&o.length>=2?fr(o[0]-o[1])*2*m:m;var _=d||i;return _?_.map((v,w)=>{var E=a?a.indexOf(v):v,S=r.map(E);return Ie(S)?{index:w,coordinate:S+m,value:v,offset:m}:null}).filter(Or):u&&s?s.map((v,w)=>{var E=r.map(v);return Ie(E)?{coordinate:E+m,value:v,index:w,offset:m}:null}).filter(Or):r.ticks?r.ticks(h).map((v,w)=>{var E=r.map(v);return Ie(E)?{coordinate:E+m,value:v,index:w,offset:m}:null}).filter(Or):r.domain().map((v,w)=>{var E=r.map(v);return Ie(E)?{coordinate:E+m,value:a?a[v]:v,index:w,offset:m}:null}).filter(Or)}},PM=U([Ge,zc,hl,Mm,Yb,Hc,Qb,Xb,St],CJ),kJ=(e,t,n,r,i,o,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=ki(e,a),{tickCount:l}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?fr(r[0]-r[1])*2*u:u,s&&o?o.map((c,d)=>{var h=n.map(c);return Ie(h)?{coordinate:h+u,value:c,index:d,offset:u}:null}).filter(Or):n.ticks?n.ticks(l).map((c,d)=>{var h=n.map(c);return Ie(h)?{coordinate:h+u,value:c,index:d,offset:u}:null}).filter(Or):n.domain().map((c,d)=>{var h=n.map(c);return Ie(h)?{coordinate:h+u,value:i?i[c]:c,index:d,offset:u}:null}).filter(Or)}},TM=U([Ge,zc,Mm,Hc,Qb,Xb,St],kJ),IM=U(hn,Mm,(e,t)=>{if(!(e==null||t==null))return Zh(Zh({},e),{},{scale:t})}),RJ=U([hn,hl,qb,wM],Gb);U((e,t,n)=>zb(e,n),RJ,(e,t)=>{if(!(e==null||t==null))return Zh(Zh({},e),{},{scale:t})});var NJ=U([Ge,hm,pm],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),AM=e=>e.options.defaultTooltipEventType,OM=e=>e.options.validateTooltipEventTypes;function CM(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Jb(e,t){var n=AM(e),r=OM(e);return CM(t,n,r)}function DJ(e){return ne(t=>Jb(t,e))}var kM=(e,t)=>{var n,r=Number(t);if(!(bi(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},jJ=e=>e.tooltip.settings,Zi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},MJ={itemInteraction:{click:Zi,hover:Zi},axisInteraction:{click:Zi,hover:Zi},keyboardInteraction:Zi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},RM=xn({name:"tooltip",initialState:MJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ue()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=mr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Ue()},removeTooltipEntrySettings:{reducer(e,t){var n=mr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ue()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:LJ,replaceTooltipEntrySettings:VJ,removeTooltipEntrySettings:UJ,setTooltipSettingsState:FJ,setActiveMouseOverItemIndex:$J,mouseLeaveItem:mae,mouseLeaveChart:NM,setActiveClickItemIndex:gae,setMouseOverAxisIndex:DM,setMouseClickAxisIndex:BJ,setSyncInteraction:x0,setKeyboardInteraction:S0}=RM.actions,zJ=RM.reducer;function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(n),!0).forEach(function(r){WJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WJ(e,t,n){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function GJ(e){return e.index!=null}var jM=(e,t,n,r)=>{if(t==null)return Zi;var i=qJ(e,t,n);if(i==null)return Zi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(GJ(i)){if(o)return Xf(Xf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Xf(Xf({},Zi),{},{coordinate:i.coordinate})};function YJ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function QJ(e,t){var n=YJ(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}function XJ(e,t,n){if(n==null||t==null)return!0;var r=Mt(e,t);return r==null||!Ti(n)?!0:QJ(r,n)}var Zb=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!Ie(o))return i;var a=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(a,Math.min(o,s)),u=t[l];return u==null||XJ(u,n,r)?String(l):null},MM=(e,t,n,r,i,o,a)=>{if(o!=null){var s=a[0],l=s==null?void 0:s.getPosition(o);if(l!=null)return l;var u=i==null?void 0:i[Number(o)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:u.coordinate}}}},LM=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},VM=e=>e.options.tooltipPayloadSearcher,pl=e=>e.tooltip;function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(r){JJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JJ(e,t,n){return(t=ZJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZJ(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tZ(e,t){return e??t}var UM=(e,t,n,r,i,o,a)=>{if(!(t==null||o==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,d=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:_,settings:v}=p,w=tZ(_,s),E=Array.isArray(w)?fj(w,u,c):w,S=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:r,I=v==null?void 0:v.nameKey,O;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&a==="axis"?O=tD(E,r,i):O=o(E,t,l,I),Array.isArray(O))O.forEach(T=>{var P=PI(PI({},v),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});h.push(kT({tooltipEntrySettings:P,dataKey:T.dataKey,payload:T.payload,value:Mt(T.payload,T.dataKey),name:T.name}))});else{var R;h.push(kT({tooltipEntrySettings:v,dataKey:S,payload:O,value:Mt(O,S),name:(R=Mt(O,I))!==null&&R!==void 0?R:v==null?void 0:v.name}))}return h},d)}},eE=U([mt,q2,Mb],gM),nZ=U([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),rZ=U([Pt,fl],G2),ml=U([nZ,mt,rZ],Q2,{memoizeOptions:{resultEqualityCheck:Dm}}),iZ=U([ml],e=>e.filter(Bb)),oZ=U([ml],Z2,{memoizeOptions:{resultEqualityCheck:Dm}}),gl=U([oZ,jo],eM),aZ=U([iZ,jo,mt],W2),tE=U([gl,mt,ml],tM),FM=U([mt],Kb),sZ=U([mt],e=>e.allowDataOverflow),$M=U([FM,sZ],P2),lZ=U([ml],e=>e.filter(Bb)),uZ=U([aZ,lZ,Am,M2],rM),cZ=U([uZ,jo,Pt,$M],iM),fZ=U([ml],J2),dZ=U([gl,mt,fZ,Hb,Pt],sM,{memoizeOptions:{resultEqualityCheck:Nm}}),hZ=U([lM,Pt,fl],dl),pZ=U([hZ,Pt],fM),mZ=U([uM,Pt,fl],dl),gZ=U([mZ,Pt],dM),vZ=U([cM,Pt,fl],dl),yZ=U([vZ,Pt],hM),_Z=U([pZ,yZ,gZ],ep),wZ=U([mt,FM,$M,cZ,dZ,_Z,Ge,Pt],pM),qc=U([mt,Ge,gl,tE,Am,Pt,wZ],mM),bZ=U([qc,mt,eE],vM),EZ=U([mt,qc,bZ,Pt],yM),BM=e=>{var t=Pt(e),n=fl(e),r=!1;return Hc(e,t,n,r)},zM=U([mt,BM],Om),WM=U([mt,eE,EZ,zM],Gb),xZ=U([Ge,tE,mt,Pt],xM),SZ=U([Ge,tE,mt,Pt],SM),PZ=(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,u=ki(e,s);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?fr(i[0]-i[1])*2*d:d,u&&a?a.map((h,p)=>{var m=r.map(h);return Ie(m)?{coordinate:m+d,value:h,index:p,offset:d}:null}).filter(Or):r.domain().map((h,p)=>{var m=r.map(h);return Ie(m)?{coordinate:m+d,value:o?o[h]:h,index:p,offset:d}:null}).filter(Or)}}},Li=U([Ge,mt,eE,WM,BM,xZ,SZ,Pt],PZ),nE=U([AM,OM,jJ],(e,t,n)=>CM(n.shared,e,t)),KM=e=>e.tooltip.settings.trigger,rE=e=>e.tooltip.settings.defaultIndex,Gc=U([pl,nE,KM,rE],jM),fc=U([Gc,gl,Kc,qc],Zb),HM=U([Li,fc],kM),TZ=U([Gc],e=>{if(e)return e.dataKey});U([Gc],e=>{if(e)return e.graphicalItemId});var qM=U([pl,nE,KM,rE],LM),IZ=U([Ri,Ni,Ge,Ft,Li,rE,qM],MM),AZ=U([Gc,IZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),OZ=U([Gc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),CZ=U([qM,fc,jo,Kc,HM,VM,nE],UM),kZ=U([CZ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function II(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){RZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RZ(e,t,n){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jZ=()=>ne(mt),MZ=()=>{var e=jZ(),t=ne(Li),n=ne(WM);return Rh(!e||!n?void 0:II(II({},e),{},{scale:n}),t)};function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){LZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LZ(e,t,n){return(t=VZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VZ(e){var t=UZ(e,"string");return typeof t=="symbol"?t:t+""}function UZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FZ=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},$Z=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:a}=r;return qa(qa(qa({},r),Nt(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return qa(qa(qa({},r),Nt(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function BZ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var GM=(e,t,n,r,i)=>{var o,a=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<a;s++){var l,u,c,d,h,p=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,m=(c=n[s])===null||c===void 0?void 0:c.coordinate,_=s>=a-1?(d=n[0])===null||d===void 0?void 0:d.coordinate:(h=n[s+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(p==null||m==null||_==null))if(fr(m-p)!==fr(_-m)){var w=[];if(fr(_-m)===fr(i[1]-i[0])){v=_;var E=m+i[1]-i[0];w[0]=Math.min(E,(E+p)/2),w[1]=Math.max(E,(E+p)/2)}else{v=p;var S=_+i[1]-i[0];w[0]=Math.min(m,(S+m)/2),w[1]=Math.max(m,(S+m)/2)}var I=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(e>I[0]&&e<=I[1]||e>=w[0]&&e<=w[1]){var O;return(O=n[s])===null||O===void 0?void 0:O.index}}else{var R=Math.min(p,_),T=Math.max(p,_);if(e>(R+m)/2&&e<=(T+m)/2){var P;return(P=n[s])===null||P===void 0?void 0:P.index}}}else if(t)for(var A=0;A<a;A++){var k=t[A];if(k!=null){var D=t[A+1],N=t[A-1];if(A===0&&D!=null&&e<=(k.coordinate+D.coordinate)/2||A===a-1&&N!=null&&e>(k.coordinate+N.coordinate)/2||A>0&&A<a-1&&N!=null&&D!=null&&e>(k.coordinate+N.coordinate)/2&&e<=(k.coordinate+D.coordinate)/2)return k.index}}return-1},zZ=()=>ne(Mb),iE=(e,t)=>t,YM=(e,t,n)=>n,oE=(e,t,n,r)=>r,WZ=U(Li,e=>rm(e,t=>t.coordinate)),aE=U([pl,iE,YM,oE],jM),sE=U([aE,gl,Kc,qc],Zb),KZ=(e,t,n)=>{if(t!=null){var r=pl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},QM=U([pl,iE,YM,oE],LM),tp=U([Ri,Ni,Ge,Ft,Li,oE,QM],MM),HZ=U([aE,tp],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),XM=U([Li,sE],kM),qZ=U([QM,sE,jo,Kc,XM,VM,iE],UM),GZ=U([aE,sE],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),YZ=(e,t,n,r,i,o,a)=>{if(!(!e||!n||!r||!i)&&BZ(e,a)){var s=mq(e,t),l=GM(s,o,i,n,r),u=FZ(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},QZ=(e,t,n,r,i,o,a)=>{if(!(!e||!r||!i||!o||!n)){var s=jG(e,n);if(s){var l=gq(s,t),u=GM(l,a,o,r,i),c=$Z(t,o,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},XZ=(e,t,n,r,i,o,a,s)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?YZ(e,t,r,i,o,a,s):QZ(e,t,n,r,i,o,a)},JZ=U(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),ZZ=U(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(yn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:CX}});function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(n),!0).forEach(function(r){eee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eee(e,t,n){return(t=tee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tee(e){var t=nee(e,"string");return typeof t=="symbol"?t:t+""}function nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ree={},iee={zIndexMap:Object.values(yn).reduce((e,t)=>CI(CI({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),ree)},oee=new Set(Object.values(yn));function aee(e){return oee.has(e)}var JM=xn({name:"zIndex",initialState:iee,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ue()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!aee(n)&&delete e.zIndexMap[n])},prepare:Ue()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Ue()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Ue()}}}),{registerZIndexPortal:see,unregisterZIndexPortal:lee,registerZIndexPortalElement:uee,unregisterZIndexPortalElement:cee}=JM.actions,fee=JM.reducer;function Mo(e){var{zIndex:t,children:n}=e,r=Hq(),i=r&&t!==void 0&&t!==0,o=Fn(),a=lt();y.useLayoutEffect(()=>i?(a(see({zIndex:t})),()=>{a(lee({zIndex:t}))}):al,[a,t,i]);var s=ne(l=>JZ(l,t,o));return i?s?Sp.createPortal(n,s):null:n}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P0.apply(null,arguments)}function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){dee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dee(e,t,n){return(t=hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hee(e){var t=pee(e,"string");return typeof t=="symbol"?t:t+""}function pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mee(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return y.isValidElement(t)?y.cloneElement(t,r):y.createElement(n,r)}function gee(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=n,h=r,p=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var m,_,v;if(c==="ScatterChart")m=d,_=G7,v=yn.cursorLine;else if(c==="BarChart")m=Y7(s,d,o,a),_=Vj,v=yn.cursorRectangle;else if(s==="radial"&&rD(d)){var{cx:w,cy:E,radius:S,startAngle:I,endAngle:O}=Uj(d);m={cx:w,cy:E,startAngle:I,endAngle:O,innerRadius:S,outerRadius:S},_=$j,v=yn.cursorLine}else m={points:UG(s,d,o)},_=Nj,v=yn.cursorLine;var R=typeof l=="object"&&"className"in l?l.className:void 0,T=Jf(Jf(Jf(Jf({stroke:"#ccc",pointerEvents:"none"},o),m),Hp(l)),{},{payload:h,payloadIndex:p,className:Ae("recharts-tooltip-cursor",R)});return y.createElement(Mo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},y.createElement(mee,{cursor:l,cursorComp:_,cursorProps:T}))}function vee(e){var t=MZ(),n=Wq(),r=sl(),i=zZ();return t==null||n==null||r==null||i==null?null:y.createElement(gee,P0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var ZM=y.createContext(null),yee=()=>y.useContext(ZM),eL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),m=n?n+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,m=new Array(p);h<p;h++)m[h]=d[h].fn;return m},s.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,p,m){var _=n?n+u:u;if(!this._events[_])return!1;var v=this._events[_],w=arguments.length,E,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,p),!0;case 6:return v.fn.call(v.context,c,d,h,p,m),!0}for(S=1,E=new Array(w-1);S<w;S++)E[S-1]=arguments[S];v.fn.apply(v.context,E)}else{var I=v.length,O;for(S=0;S<I;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),w){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,c);break;case 3:v[S].fn.call(v[S].context,c,d);break;case 4:v[S].fn.call(v[S].context,c,d,h);break;default:if(!E)for(O=1,E=new Array(w-1);O<w;O++)E[O-1]=arguments[O];v[S].fn.apply(v[S].context,E)}}return!0},s.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&a(this,p);else{for(var _=0,v=[],w=m.length;_<w;_++)(m[_].fn!==c||h&&!m[_].once||d&&m[_].context!==d)&&v.push(m[_]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(eL);var _ee=eL.exports;const wee=Ai(_ee);var dc=new wee,T0="recharts.syncEvent.tooltip",RI="recharts.syncEvent.brush",bee=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!bi(n))return e[n]}},Eee={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},tL=xn({name:"options",initialState:Eee,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),xee=tL.reducer,{createEventEmitter:See}=tL.actions;function Pee(e){return e.tooltip.syncInteraction}var Tee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nL=xn({name:"chartData",initialState:Tee,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:NI,setDataStartEndIndexes:Iee,setComputedData:vae}=nL.actions,Aee=nL.reducer,Oee=["x","y"];function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=kee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kee(e){var t=Ree(e,"string");return typeof t=="symbol"?t:t+""}function Ree(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nee(e,t){if(e==null)return{};var n,r,i=Dee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jee(){var e=ne(Lb),t=ne(Vb),n=lt(),r=ne(L2),i=ne(Li),o=sl(),a=vm(),s=ne(l=>l.rootProps.className);y.useEffect(()=>{if(e==null)return al;var l=(u,c,d)=>{if(t!==d&&e===u){if(r==="index"){var h;if(a&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:m,y:_}=p,v=Nee(p,Oee),{x:w,y:E,width:S,height:I}=c.payload.sourceViewBox,O=Ga(Ga({},v),{},{x:a.x+(S?(m-w)/S:0)*a.width,y:a.y+(I?(_-E)/I:0)*a.height});n(Ga(Ga({},c),{},{payload:Ga(Ga({},c.payload),{},{coordinate:O})}))}else n(c);return}if(i!=null){var R;if(typeof r=="function"){var T={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},P=r(i,T);R=i[P]}else r==="value"&&(R=i.find(de=>String(de.value)===c.payload.label));var{coordinate:A}=c.payload;if(R==null||c.payload.active===!1||A==null||a==null){n(x0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:k,y:D}=A,N=Math.min(k,a.x+a.width),j=Math.min(D,a.y+a.height),Y={x:o==="horizontal"?R.coordinate:N,y:o==="horizontal"?j:R.coordinate},oe=x0({active:c.payload.active,coordinate:Y,dataKey:c.payload.dataKey,index:String(R.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});n(oe)}}};return dc.on(T0,l),()=>{dc.off(T0,l)}},[s,n,t,e,r,i,o,a])}function Mee(){var e=ne(Lb),t=ne(Vb),n=lt();y.useEffect(()=>{if(e==null)return al;var r=(i,o,a)=>{t!==a&&e===i&&n(Iee(o))};return dc.on(RI,r),()=>{dc.off(RI,r)}},[n,t,e])}function Lee(){var e=lt();y.useEffect(()=>{e(See())},[e]),jee(),Mee()}function Vee(e,t,n,r,i,o){var a=ne(p=>KZ(p,e,t)),s=ne(Vb),l=ne(Lb),u=ne(L2),c=ne(Pee),d=c==null?void 0:c.active,h=vm();y.useEffect(()=>{if(!d&&l!=null&&s!=null){var p=x0({active:o,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});dc.emit(T0,l,p,s)}},[d,n,a,i,r,s,l,u,o,h])}function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){Uee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uee(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bee(e){return e.dataKey}function zee(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(I7,t)}var LI=[],Wee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function VI(e){var t,n,r=dn(e,Wee),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:p,reverseDirection:m,useTranslate3d:_,wrapperStyle:v,cursor:w,shared:E,trigger:S,defaultIndex:I,portal:O,axisId:R}=r,T=lt(),P=typeof I=="number"?String(I):I;y.useEffect(()=>{T(FJ({shared:E,trigger:S,axisId:R,active:i,defaultIndex:P}))},[T,E,S,R,i,P]);var A=vm(),k=Rj(),D=DJ(E),{activeIndex:N,isActive:j}=(t=ne(Ve=>GZ(Ve,D,S,P)))!==null&&t!==void 0?t:{},Y=ne(Ve=>qZ(Ve,D,S,P)),oe=ne(Ve=>XM(Ve,D,S,P)),de=ne(Ve=>HZ(Ve,D,S,P)),ie=Y,L=yee(),M=(n=i??j)!==null&&n!==void 0?n:!1,[$,q]=jD([ie,M]),ee=D==="axis"?oe:void 0;Vee(D,S,de,ee,N,M);var ae=O??L;if(ae==null||A==null||D==null)return null;var xe=ie??LI;M||(xe=LI),u&&xe.length&&(xe=xD(xe.filter(Ve=>Ve.value!=null&&(Ve.hide!==!0||r.includeHidden)),h,Bee));var rt=xe.length>0,en=y.createElement(D7,{allowEscapeViewBox:o,animationDuration:a,animationEasing:s,isAnimationActive:c,active:M,coordinate:de,hasPayload:rt,offset:d,position:p,reverseDirection:m,useTranslate3d:_,viewBox:A,wrapperStyle:v,lastBoundingBox:$,innerRef:q,hasPortalFromProps:!!O},zee(l,MI(MI({},r),{},{payload:xe,label:ee,active:M,activeIndex:N,coordinate:de,accessibilityLayer:k})));return y.createElement(y.Fragment,null,Sp.createPortal(en,ae),M&&y.createElement(vee,{cursor:w,tooltipEventType:D,coordinate:de,payload:xe,index:N}))}function Kee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gee{constructor(t){Kee(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){Qee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qee(e,t,n){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zee={cacheSize:2e3,enableCache:!0},rL=Yee({},Zee),FI=new Gee(rL.cacheSize),ete={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$I="recharts_measurement_span";function tte(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",a=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}var BI=(e,t)=>{try{var n=document.getElementById($I);n||(n=document.createElement("span"),n.setAttribute("id",$I),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ete,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Eu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||bm.isSsr)return{width:0,height:0};if(!rL.enableCache)return BI(t,n);var r=tte(t,n),i=FI.get(r);if(i)return i;var o=BI(t,n);return FI.set(r,o),o},iL;function nte(e,t,n){return(t=rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rte(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ote=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ate=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ste={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lte=["cm","mm","pt","pc","in","Q","px"];function ute(e){return lte.includes(e)}var ds="NaN";function cte(e,t){return e*ste[t]}class Ct{static parse(t){var n,[,r,i]=(n=ate.exec(t))!==null&&n!==void 0?n:[];return r==null?Ct.NaN:new Ct(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,bi(t)&&(this.unit=""),n!==""&&!ote.test(n)&&(this.num=NaN,this.unit=""),ute(n)&&(this.num=cte(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ct(NaN,""):new Ct(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ct(NaN,""):new Ct(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ct(NaN,""):new Ct(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ct(NaN,""):new Ct(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bi(this.num)}}iL=Ct;nte(Ct,"NaN",new iL(NaN,""));function oL(e){if(e==null||e.includes(ds))return ds;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=zI.exec(t))!==null&&n!==void 0?n:[],a=Ct.parse(r??""),s=Ct.parse(o??""),l=i==="*"?a.multiply(s):a.divide(s);if(l.isNaN())return ds;t=t.replace(zI,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=(u=WI.exec(t))!==null&&u!==void 0?u:[],p=Ct.parse(c??""),m=Ct.parse(h??""),_=d==="+"?p.add(m):p.subtract(m);if(_.isNaN())return ds;t=t.replace(WI,_.toString())}return t}var KI=/\(([^()]*)\)/;function fte(e){for(var t=e,n;(n=KI.exec(t))!=null;){var[,r]=n;t=t.replace(KI,oL(r))}return t}function dte(e){var t=e.replace(/\s+/g,"");return t=fte(t),t=oL(t),t}function hte(e){try{return dte(e)}catch{return ds}}function lv(e){var t=hte(e.slice(5,-1));return t===ds?"":t}var pte=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],mte=["dx","dy","angle","className","breakAll"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(null,arguments)}function HI(e,t){if(e==null)return{};var n,r,i=gte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aL=/[ \f\n\r\t\v\u2028\u2029]+/,sL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ut(t)||(n?i=t.toString().split(""):i=t.toString().split(aL));var o=i.map(s=>({word:s,width:Eu(s,r).width})),a=n?0:Eu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}};function vte(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var lL=(e,t,n,r)=>e.reduce((i,o)=>{var{word:a,width:s}=o,l=i[i.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(a),l.width+=s+n;else{var u={words:[a],width:s};i.push(u)}return i},[]),uL=e=>e.reduce((t,n)=>t.width>n.width?t:n),yte="",qI=(e,t,n,r,i,o,a,s)=>{var l=e.slice(0,t),u=sL({breakAll:n,style:r,children:l+yte});if(!u)return[!1,[]];var c=lL(u.wordsWithComputedWidth,o,a,s),d=c.length>i||uL(c).width>Number(o);return[d,c]},_te=(e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,u=re(o),c=String(a),d=lL(t,r,n,i);if(!u||i)return d;var h=d.length>o||uL(d).width>Number(r);if(!h)return d;for(var p=0,m=c.length-1,_=0,v;p<=m&&_<=c.length-1;){var w=Math.floor((p+m)/2),E=w-1,[S,I]=qI(c,E,l,s,o,r,n,i),[O]=qI(c,w,l,s,o,r,n,i);if(!S&&!O&&(p=w+1),S&&O&&(m=w-1),!S&&O){v=I;break}_++}return v||d},GI=e=>{var t=Ut(e)?[]:e.toString().split(aL);return[{words:t,width:void 0}]},wte=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!bm.isSsr){var s,l,u=sL({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return GI(r);return _te({breakAll:o,children:r,maxLines:a,style:i},s,l,t,!!n)}return GI(r)},cL="#808080",bte={angle:0,breakAll:!1,capHeight:"0.71em",fill:cL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},lE=y.forwardRef((e,t)=>{var n=dn(e,bte),{x:r,y:i,lineHeight:o,capHeight:a,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=HI(n,pte),h=y.useMemo(()=>wte({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:m,angle:_,className:v,breakAll:w}=d,E=HI(d,mte);if(!Wr(r)||!Wr(i)||h.length===0)return null;var S=Number(r)+(re(p)?p:0),I=Number(i)+(re(m)?m:0);if(!Ie(S)||!Ie(I))return null;var O;switch(c){case"start":O=lv("calc(".concat(a,")"));break;case"middle":O=lv("calc(".concat((h.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:O=lv("calc(".concat(h.length-1," * -").concat(o,")"));break}var R=[],T=h[0];if(l&&T!=null){var P=T.width,{width:A}=d;R.push("scale(".concat(re(A)&&re(P)?A/P:1,")"))}return _&&R.push("rotate(".concat(_,", ").concat(S,", ").concat(I,")")),R.length&&(E.transform=R.join(" ")),y.createElement("text",I0({},ln(E),{ref:t,x:S,y:I,className:Ae("recharts-text",v),textAnchor:u,fill:s.includes("url")?cL:s}),h.map((k,D)=>{var N=k.words.join(w?"":" ");return y.createElement("tspan",{x:S,dy:D===0?O:o,key:"".concat(N,"-").concat(D)},N)}))});lE.displayName="Text";function YI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(n),!0).forEach(function(r){Ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ete(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pte=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:o,y:a,height:s,upperWidth:l,lowerWidth:u}=ob(t),c=o,d=o+(l-u)/2,h=(c+d)/2,p=(l+u)/2,m=c+l/2,_=s>=0?1:-1,v=_*r,w=_>0?"end":"start",E=_>0?"start":"end",S=l>=0?1:-1,I=S*r,O=S>0?"end":"start",R=S>0?"start":"end",T=i;if(n==="top"){var P={x:c+l/2,y:a-v,horizontalAnchor:"middle",verticalAnchor:w};return T&&(P.height=Math.max(a-T.y,0),P.width=l),P}if(n==="bottom"){var A={x:d+u/2,y:a+s+v,horizontalAnchor:"middle",verticalAnchor:E};return T&&(A.height=Math.max(T.y+T.height-(a+s),0),A.width=u),A}if(n==="left"){var k={x:h-I,y:a+s/2,horizontalAnchor:O,verticalAnchor:"middle"};return T&&(k.width=Math.max(k.x-T.x,0),k.height=s),k}if(n==="right"){var D={x:h+p+I,y:a+s/2,horizontalAnchor:R,verticalAnchor:"middle"};return T&&(D.width=Math.max(T.x+T.width-D.x,0),D.height=s),D}var N=T?{width:p,height:s}:{};return n==="insideLeft"?Sr({x:h+I,y:a+s/2,horizontalAnchor:R,verticalAnchor:"middle"},N):n==="insideRight"?Sr({x:h+p-I,y:a+s/2,horizontalAnchor:O,verticalAnchor:"middle"},N):n==="insideTop"?Sr({x:c+l/2,y:a+v,horizontalAnchor:"middle",verticalAnchor:E},N):n==="insideBottom"?Sr({x:d+u/2,y:a+s-v,horizontalAnchor:"middle",verticalAnchor:w},N):n==="insideTopLeft"?Sr({x:c+I,y:a+v,horizontalAnchor:R,verticalAnchor:E},N):n==="insideTopRight"?Sr({x:c+l-I,y:a+v,horizontalAnchor:O,verticalAnchor:E},N):n==="insideBottomLeft"?Sr({x:d+I,y:a+s-v,horizontalAnchor:R,verticalAnchor:w},N):n==="insideBottomRight"?Sr({x:d+u-I,y:a+s-v,horizontalAnchor:O,verticalAnchor:w},N):n&&typeof n=="object"&&(re(n.x)||Pa(n.x))&&(re(n.y)||Pa(n.y))?Sr({x:o+Io(n.x,p),y:a+Io(n.y,s),horizontalAnchor:"end",verticalAnchor:"end"},N):Sr({x:m,y:a+s/2,horizontalAnchor:"middle",verticalAnchor:"middle"},N)},Tte=["labelRef"],Ite=["content"];function QI(e,t){if(e==null)return{};var n,r,i=Ate(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ate(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){Ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ote(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=kte(e,"string");return typeof t=="symbol"?t:t+""}function kte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(null,arguments)}var fL=y.createContext(null),Rte=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:s}=e,l=y.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[t,n,r,i,o,a]);return y.createElement(fL.Provider,{value:l},s)},dL=()=>{var e=y.useContext(fL),t=vm();return e||(t?ob(t):void 0)},Nte=y.createContext(null),Dte=()=>{var e=y.useContext(Nte),t=ne(B2);return e||t},jte=e=>{var{value:t,formatter:n}=e,r=Ut(e.children)?t:e.children;return typeof n=="function"?n(r):r},uE=e=>e!=null&&typeof e=="function",Mte=(e,t)=>{var n=fr(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Lte=(e,t,n,r,i)=>{var{offset:o,className:a}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:p}=i,m=(u+c)/2,_=Mte(d,h),v=_>=0?1:-1,w,E;switch(t){case"insideStart":w=d+v*o,E=p;break;case"insideEnd":w=h-v*o,E=!p;break;case"end":w=h+v*o,E=p;break;default:throw new Error("Unsupported position ".concat(t))}E=_<=0?E:!E;var S=Nt(s,l,m,w),I=Nt(s,l,m,w+(E?1:-1)*359),O="M".concat(S.x,",").concat(S.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(E?0:1,`,
    `).concat(I.x,",").concat(I.y),R=Ut(e.id)?Ju("recharts-radial-line-"):e.id;return y.createElement("text",ti({},r,{dominantBaseline:"central",className:Ae("recharts-radial-bar-label",a)}),y.createElement("defs",null,y.createElement("path",{id:R,d:O})),y.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Vte=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:c,y:d}=Nt(r,i,a+t,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+a)/2,{x:p,y:m}=Nt(r,i,h,u);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Pd=e=>e!=null&&"cx"in e&&re(e.cx),Ute={angle:0,offset:5,zIndex:yn.label,position:"middle",textBreakAll:!1};function Fte(e){if(!Pd(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Hi(e){var t=dn(e,Ute),{viewBox:n,parentViewBox:r,position:i,value:o,children:a,content:s,className:l="",textBreakAll:u,labelRef:c}=t,d=Dte(),h=dL(),p=i==="center"?h:d??h,m,_,v;n==null?m=p:Pd(n)?m=n:m=ob(n);var w=Fte(m);if(!m||Ut(o)&&Ut(a)&&!y.isValidElement(s)&&typeof s!="function")return null;var E=au(au({},t),{},{viewBox:m});if(y.isValidElement(s)){var{labelRef:S}=E,I=QI(E,Tte);return y.cloneElement(s,I)}if(typeof s=="function"){var{content:O}=E,R=QI(E,Ite);if(_=y.createElement(s,R),y.isValidElement(_))return _}else _=jte(t);var T=ln(t);if(Pd(m)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Lte(t,i,_,T,m);v=Vte(m,t.offset,t.position)}else{if(!w)return null;var P=Pte({viewBox:w,position:i,offset:t.offset,parentViewBox:Pd(r)?void 0:r});v=au(au({x:P.x,y:P.y,textAnchor:P.horizontalAnchor,verticalAnchor:P.verticalAnchor},P.width!==void 0?{width:P.width}:{}),P.height!==void 0?{height:P.height}:{})}return y.createElement(Mo,{zIndex:t.zIndex},y.createElement(lE,ti({ref:c,className:Ae("recharts-label",l)},T,v,{textAnchor:vte(T.textAnchor)?T.textAnchor:v.textAnchor,breakAll:u}),_))}Hi.displayName="Label";var $te=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?y.createElement(Hi,ti({key:"label-implicit"},r)):Wr(e)?y.createElement(Hi,ti({key:"label-implicit",value:e},r)):y.isValidElement(e)?e.type===Hi?y.cloneElement(e,au({key:"label-implicit"},r)):y.createElement(Hi,ti({key:"label-implicit",content:e},r)):uE(e)?y.createElement(Hi,ti({key:"label-implicit",content:e},r)):e&&typeof e=="object"?y.createElement(Hi,ti({},e,{key:"label-implicit"},r)):null};function Bte(e){var{label:t,labelRef:n}=e,r=dL();return $te(t,r,n)||null}var hL={},pL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(pL);var mL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(mL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pL,n=mL,r=em;function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(hL);var zte=hL.last;const Wte=Ai(zte);var Kte=["valueAccessor"],Hte=["dataKey","clockWise","id","textBreakAll","zIndex"];function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},np.apply(null,arguments)}function JI(e,t){if(e==null)return{};var n,r,i=qte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gte=e=>Array.isArray(e.value)?Wte(e.value):e.value,gL=y.createContext(void 0),Yte=gL.Provider,vL=y.createContext(void 0);vL.Provider;function Qte(){return y.useContext(gL)}function Xte(){return y.useContext(vL)}function Td(e){var{valueAccessor:t=Gte}=e,n=JI(e,Kte),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:s}=n,l=JI(n,Hte),u=Qte(),c=Xte(),d=u||c;return!d||!d.length?null:y.createElement(Mo,{zIndex:s??yn.label},y.createElement(To,{className:"recharts-label-list"},d.map((h,p)=>{var m,_=Ut(r)?t(h,p):Mt(h.payload,r),v=Ut(o)?{}:{id:"".concat(o,"-").concat(p)};return y.createElement(Hi,np({key:"label-".concat(p)},ln(h),l,v,{fill:(m=n.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:_,textBreakAll:a,viewBox:h.viewBox,index:p,zIndex:0}))})))}Td.displayName="LabelList";function Jte(e){var{label:t}=e;return t?t===!0?y.createElement(Td,{key:"labelList-implicit"}):y.isValidElement(t)||uE(t)?y.createElement(Td,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Td,np({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}var yL=e=>{var{cx:t,cy:n,r,className:i}=e,o=Ae("recharts-dot",i);return re(t)&&re(n)&&re(r)?y.createElement("circle",A0({},wi(e),Fw(e),{className:o,cx:t,cy:n,r})):null},Zte={radiusAxis:{},angleAxis:{}},_L=xn({name:"polarAxis",initialState:Zte,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yae,removeRadiusAxis:_ae,addAngleAxis:wae,removeAngleAxis:bae}=_L.actions,ene=_L.reducer;function tne(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var wL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,bL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(bL);var nne=bL.isPlainObject;const rne=Ai(nne);var ZI,eA,tA,nA,rA;function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){ine(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ine(e,t,n){return(t=one(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function one(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(null,arguments)}function Yl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var aA=(e,t,n,r,i)=>{var o=n-r,a;return a=Xe(ZI||(ZI=Yl(["M ",",",""])),e,t),a+=Xe(eA||(eA=Yl(["L ",",",""])),e+n,t),a+=Xe(tA||(tA=Yl(["L ",",",""])),e+n-o/2,t+i),a+=Xe(nA||(nA=Yl(["L ",",",""])),e+n-o/2-r,t+i),a+=Xe(rA||(rA=Yl(["L ",","," Z"])),e,t),a},sne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lne=e=>{var t=dn(e,sne),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=y.useRef(null),[p,m]=y.useState(-1),_=y.useRef(i),v=y.useRef(o),w=y.useRef(a),E=y.useRef(n),S=y.useRef(r),I=ub(e,"trapezoid-");if(y.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var Y=h.current.getTotalLength();Y&&m(Y)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||i===0&&o===0||a===0)return null;var O=Ae("recharts-trapezoid",s);if(!d)return y.createElement("g",null,y.createElement("path",rp({},ln(t),{className:O,d:aA(n,r,i,o,a)})));var R=_.current,T=v.current,P=w.current,A=E.current,k=S.current,D="0px ".concat(p===-1?1:p,"px"),N="".concat(p,"px 0px"),j=Dj(["strokeDasharray"],u,l);return y.createElement(lb,{animationId:I,key:I,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},Y=>{var oe=mn(R,i,Y),de=mn(T,o,Y),ie=mn(P,a,Y),L=mn(A,n,Y),M=mn(k,r,Y);h.current&&(_.current=oe,v.current=de,w.current=ie,E.current=L,S.current=M);var $=Y>0?{transition:j,strokeDasharray:N}:{strokeDasharray:D};return y.createElement("path",rp({},ln(t),{className:O,d:aA(L,M,oe,de,ie),ref:h,style:oA(oA({},$),t.style)}))})},une=["option","shapeType","activeClassName"];function cne(e,t){if(e==null)return{};var n,r,i=fne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ip(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){dne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dne(e,t,n){return(t=hne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hne(e){var t=pne(e,"string");return typeof t=="symbol"?t:t+""}function pne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e,t){return ip(ip({},t),e)}function gne(e,t){return e==="symbols"}function lA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return y.createElement(Vj,n);case"trapezoid":return y.createElement(lne,n);case"sector":return y.createElement($j,n);case"symbols":if(gne(t))return y.createElement(Uw,n);break;case"curve":return y.createElement(Nj,n);default:return null}}function vne(e){return y.isValidElement(e)?e.props:e}function yne(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=cne(e,une),o;if(y.isValidElement(t))o=y.cloneElement(t,ip(ip({},i),vne(t)));else if(typeof t=="function")o=t(i,i.index);else if(rne(t)&&typeof t!="boolean"){var a=mne(t,i);o=y.createElement(lA,{shapeType:n,elementProps:a})}else{var s=i;o=y.createElement(lA,{shapeType:n,elementProps:s})}return i.isActive?y.createElement(To,{className:r},o):o}function _ne(e){var{tooltipEntrySettings:t}=e,n=lt(),r=Fn(),i=y.useRef(null);return y.useLayoutEffect(()=>{r||(i.current===null?n(LJ(t)):i.current!==t&&n(VJ({prev:i.current,next:t})),i.current=t)},[t,n,r]),y.useLayoutEffect(()=>()=>{i.current&&(n(UJ(i.current)),i.current=null)},[n]),null}function wne(e){var{legendPayload:t}=e,n=lt(),r=Fn(),i=y.useRef(null);return y.useLayoutEffect(()=>{r||(i.current===null?n(a7(t)):i.current!==t&&n(s7({prev:i.current,next:t})),i.current=t)},[n,r,t]),y.useLayoutEffect(()=>()=>{i.current&&(n(l7(i.current)),i.current=null)},[n]),null}var uv,bne=()=>{var[e]=y.useState(()=>Ju("uid-"));return e},Ene=(uv=BA.useId)!==null&&uv!==void 0?uv:bne;function xne(e,t){var n=Ene();return t||(e?"".concat(e,"-").concat(n):n)}var Sne=y.createContext(void 0),Pne=e=>{var{id:t,type:n,children:r}=e,i=xne("recharts-".concat(n),t);return y.createElement(Sne.Provider,{value:i},r(i))},Tne={cartesianItems:[],polarItems:[]},EL=xn({name:"graphicalItems",initialState:Tne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ue()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=mr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Ue()},removeCartesianGraphicalItem:{reducer(e,t){var n=mr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ue()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ue()},removePolarGraphicalItem:{reducer(e,t){var n=mr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ue()}}}),{addCartesianGraphicalItem:Ine,replaceCartesianGraphicalItem:Ane,removeCartesianGraphicalItem:One,addPolarGraphicalItem:Eae,removePolarGraphicalItem:xae}=EL.actions,Cne=EL.reducer,kne=e=>{var t=lt(),n=y.useRef(null);return y.useLayoutEffect(()=>{n.current===null?t(Ine(e)):n.current!==e&&t(Ane({prev:n.current,next:e})),n.current=e},[t,e]),y.useLayoutEffect(()=>()=>{n.current&&(t(One(n.current)),n.current=null)},[t]),null},Rne=y.memo(kne),Nne=["points"];function uA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(n),!0).forEach(function(r){Dne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dne(e,t,n){return(t=jne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op.apply(null,arguments)}function Lne(e,t){if(e==null)return{};var n,r,i=Vne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Une(e){var{option:t,dotProps:n,className:r}=e;if(y.isValidElement(t))return y.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Ae(r,typeof t!="boolean"?t.className:""),o=n??{},{points:a}=o,s=Lne(o,Nne);return y.createElement(yL,op({},s,{className:i}))}function Fne(e,t){return e==null?!1:t?!0:e.length===1}function $ne(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:a,needClip:s,clipPathId:l,zIndex:u=yn.scatter}=e;if(!Fne(t,n))return null;var c=wL(n),d=s8(n),h=t.map((m,_)=>{var v,w,E=cv(cv(cv({r:3},a),d),{},{index:_,cx:(v=m.x)!==null&&v!==void 0?v:void 0,cy:(w=m.y)!==null&&w!==void 0?w:void 0,dataKey:o,value:m.value,payload:m.payload,points:t});return y.createElement(Une,{key:"dot-".concat(_),option:n,dotProps:E,className:i})}),p={};return s&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),y.createElement(Mo,{zIndex:u},y.createElement(To,op({className:r},p),h))}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(n),!0).forEach(function(r){Bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bne(e,t,n){return(t=zne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kne={xAxis:{},yAxis:{},zAxis:{}},xL=xn({name:"cartesianAxis",initialState:Kne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ue()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ue()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ue()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ue()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ue()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ue()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ue()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ue()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ue()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((o=a[0])!==null&&o!==void 0?o:0))<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=fA(fA({},i),{},{width:r,widthHistory:s})}}}}),{addXAxis:Hne,replaceXAxis:qne,removeXAxis:Gne,addYAxis:Yne,replaceYAxis:Qne,removeYAxis:Xne,addZAxis:Sae,replaceZAxis:Pae,removeZAxis:Tae,updateYAxisWidth:Jne}=xL.actions,Zne=xL.reducer,ere=U([Ft],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),tre=U([ere,Ri,Ni],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),cE=()=>ne(tre),nre=()=>ne(kZ);function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){rre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rre(e,t,n){return(t=ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ire(e){var t=ore(e,"string");return typeof t=="symbol"?t:t+""}function ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var are=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=fv(fv(fv({},s),Hp(i)),Fw(i)),u;return y.isValidElement(i)?u=y.cloneElement(i,l):typeof i=="function"?u=i(l):u=y.createElement(yL,l),y.createElement(To,{className:"recharts-active-dot",clipPath:a},u)};function sre(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:a=yn.activeDot}=e,s=ne(fc),l=nre();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return Ut(u)?null:y.createElement(Mo,{zIndex:a},y.createElement(are,{point:u,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var lre=e=>{var{chartData:t}=e,n=lt(),r=Fn();return y.useEffect(()=>r?()=>{}:(n(NI(t)),()=>{n(NI(void 0))}),[t,n,r]),null},hA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},SL=xn({name:"brush",initialState:hA,reducers:{setBrushSettings(e,t){return t.payload==null?hA:t.payload}}}),{setBrushSettings:Iae}=SL.actions,ure=SL.reducer;function cre(e){return(e%180+180)%180}var fre=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=cre(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},dre={dots:[],areas:[],lines:[]},PL=xn({name:"referenceElements",initialState:dre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=mr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=mr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=mr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Aae,removeDot:Oae,addArea:Cae,removeArea:kae,addLine:Rae,removeLine:Nae}=PL.actions,hre=PL.reducer,pre=y.createContext(void 0),mre=e=>{var{children:t}=e,[n]=y.useState("".concat(Ju("recharts"),"-clip")),r=cE();if(r==null)return null;var{x:i,y:o,width:a,height:s}=r;return y.createElement(pre.Provider,{value:n},y.createElement("defs",null,y.createElement("clipPath",{id:n},y.createElement("rect",{x:i,y:o,height:s,width:a}))),t)};function TL(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function gre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return fre(r,n)}function vre(e,t,n){var r=n==="width",{x:i,y:o,width:a,height:s}=e;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function hc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function yre(e,t){return TL(e,t+1)}function _re(e,t,n,r,i){for(var o=(r||[]).slice(),{start:a,end:s}=t,l=0,u=1,c=a,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:TL(r,u)};var _=l,v,w=()=>(v===void 0&&(v=n(m,_)),v),E=m.coordinate,S=l===0||hc(e,E,w,c,s);S||(l=0,c=a,u+=1),S&&(c=E+e*(w()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function wre(e,t,n,r,i){var o=(r||[]).slice(),a=o.length;if(a===0)return[];for(var{start:s,end:l}=t,u=1;u<=a;u++){for(var c=(a-1)%u,d=s,h=!0,p=function(){var I=r[_];if(I==null)return 0;var O=_,R,T=()=>(R===void 0&&(R=n(I,O)),R),P=I.coordinate,A=_===c||hc(e,P,T,d,l);if(!A)return h=!1,1;A&&(d=P+e*(T()/2+i))},m,_=c;_<a&&(m=p(),!(m!==0&&m===1));_+=u);if(h){for(var v=[],w=c;w<a;w+=u){var E=r[w];E!=null&&v.push(E)}return v}}return[]}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){bre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bre(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sre(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,u=function(h){var p=o[h];if(p==null)return 1;var m=p,_,v=()=>(_===void 0&&(_=n(p,h)),_);if(h===a-1){var w=e*(m.coordinate+e*v()/2-l);o[h]=m=Gt(Gt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else o[h]=m=Gt(Gt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var E=hc(e,m.tickCoord,v,s,l);E&&(l=m.tickCoord-e*(v()/2+i),o[h]=Gt(Gt({},m),{},{isShow:!0}))}},c=a-1;c>=0;c--)u(c);return o}function Pre(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:u}=t;if(o){var c=r[s-1];if(c!=null){var d=n(c,s-1),h=e*(c.coordinate+e*d/2-u);if(a[s-1]=c=Gt(Gt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var p=hc(e,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-e*(d/2+i),a[s-1]=Gt(Gt({},c),{},{isShow:!0}))}}}for(var m=o?s-1:s,_=function(E){var S=a[E];if(S==null)return 1;var I=S,O,R=()=>(O===void 0&&(O=n(S,E)),O);if(E===0){var T=e*(I.coordinate-e*R()/2-l);a[E]=I=Gt(Gt({},I),{},{tickCoord:T<0?I.coordinate-T*e:I.coordinate})}else a[E]=I=Gt(Gt({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var P=hc(e,I.tickCoord,R,l,u);P&&(l=I.tickCoord+e*(R()/2+i),a[E]=Gt(Gt({},I),{},{isShow:!0}))}},v=0;v<m;v++)_(v);return a}function Tre(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:a,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!r)return[];if(re(l)||bm.isSsr){var h;return(h=yre(i,re(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=s==="top"||s==="bottom"?"width":"height",_=c&&m==="width"?Eu(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=(O,R)=>{var T=typeof u=="function"?u(O.value,R):O.value;return m==="width"?gre(Eu(T,{fontSize:t,letterSpacing:n}),_,d):Eu(T,{fontSize:t,letterSpacing:n})[m]},w=i[0],E=i[1],S=i.length>=2&&w!=null&&E!=null?fr(E.coordinate-w.coordinate):1,I=vre(o,S,m);return l==="equidistantPreserveStart"?_re(S,I,v,i,a):l==="equidistantPreserveEnd"?wre(S,I,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=Pre(S,I,v,i,a,l==="preserveStartEnd"):p=Sre(S,I,v,i,a),p.filter(O=>O.isShow))}var Ire=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>a&&(a=d.width)}});var s=n?n.getBoundingClientRect().width:0,l=i+o,u=a+l+s+(n?r:0);return Math.round(u)}return 0},Are=["axisLine","width","height","className","hide","ticks","axisType"];function Ore(e,t){if(e==null)return{};var n,r,i=Cre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(null,arguments)}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){kre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kre(e,t,n){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var da={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yn.axis};function Dre(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=Qe(Qe(Qe({},l),wi(s)),{},{fill:"none"});if(o==="top"||o==="bottom"){var c=+(o==="top"&&!a||o==="bottom"&&a);u=Qe(Qe({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+(o==="left"&&!a||o==="right"&&a);u=Qe(Qe({},u),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return y.createElement("line",Ca({},u,{className:Ae("recharts-cartesian-axis-line",Zp(s,"className"))}))}function jre(e,t,n,r,i,o,a,s,l){var u,c,d,h,p,m,_=s?-1:1,v=e.tickSize||a,w=re(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,h=n+ +!s*i,d=h-_*v,m=d-_*l,p=w;break;case"left":d=h=e.coordinate,c=t+ +!s*r,u=c-_*v,p=u-_*l,m=w;break;case"right":d=h=e.coordinate,c=t+ +s*r,u=c+_*v,p=u+_*l,m=w;break;default:u=c=e.coordinate,h=n+ +s*i,d=h+_*v,m=d+_*l,p=w;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:p,y:m}}}function Mre(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Lre(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Vre(e){var{option:t,tickProps:n,value:r}=e,i,o=Ae(n.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,Qe(Qe({},n),{},{className:o}));else if(typeof t=="function")i=t(Qe(Qe({},n),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=Ae(a,tne(t))),i=y.createElement(lE,Ca({},n,{className:a}),r)}return i}var Ure=y.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:p,width:m,height:_,tickSize:v,tickMargin:w,fontSize:E,letterSpacing:S,getTicksConfig:I,events:O,axisType:R}=e,T=Tre(Qe(Qe({},I),{},{ticks:n}),E,S),P=Mre(c,d),A=Lre(c,d),k=wi(I),D=Hp(r),N={};typeof i=="object"&&(N=i);var j=Qe(Qe({},k),{},{fill:"none"},N),Y=T.map(ie=>Qe({entry:ie},jre(ie,h,p,m,_,c,v,d,w))),oe=Y.map(ie=>{var{entry:L,line:M}=ie;return y.createElement(To,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},i&&y.createElement("line",Ca({},j,M,{className:Ae("recharts-cartesian-axis-tick-line",Zp(i,"className"))})))}),de=Y.map((ie,L)=>{var M,$,{entry:q,tick:ee}=ie,ae=Qe(Qe(Qe(Qe({verticalAnchor:A},k),{},{textAnchor:P,stroke:"none",fill:o},ee),{},{index:L,payload:q,visibleTicksCount:T.length,tickFormatter:a,padding:l},u),{},{angle:(M=($=u==null?void 0:u.angle)!==null&&$!==void 0?$:k.angle)!==null&&M!==void 0?M:0}),xe=Qe(Qe({},ae),D);return y.createElement(To,Ca({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},iD(O,q,L)),r&&y.createElement(Vre,{option:r,tickProps:xe,value:"".concat(typeof a=="function"?a(q.value,L):q.value).concat(s||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},de.length>0&&y.createElement(Mo,{zIndex:yn.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},de)),oe.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},oe))}),Fre=y.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:s,axisType:l}=e,u=Ore(e,Are),[c,d]=y.useState(""),[h,p]=y.useState(""),m=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return Ire({ticks:m.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=y.useCallback(v=>{if(v){var w=v.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=w;var E=w[0];if(E){var S=window.getComputedStyle(E),I=S.fontSize,O=S.letterSpacing;(I!==c||O!==h)&&(d(I),p(O))}}},[c,h]);return a||r!=null&&r<=0||i!=null&&i<=0?null:y.createElement(Mo,{zIndex:e.zIndex},y.createElement(To,{className:Ae("recharts-cartesian-axis",o)},y.createElement(Dre,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:wi(e)}),y.createElement(Ure,{ref:_,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(Rte,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(Bte,{label:e.label,labelRef:e.labelRef}),e.children)))}),fE=y.forwardRef((e,t)=>{var n=dn(e,da);return y.createElement(Fre,Ca({},n,{ref:t}))});fE.displayName="CartesianAxis";var $re={},IL=xn({name:"errorBars",initialState:$re,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Dae,replaceErrorBar:jae,removeErrorBar:Mae}=IL.actions,Bre=IL.reducer,zre=["children"];function Wre(e,t){if(e==null)return{};var n,r,i=Kre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},qre=y.createContext(Hre);function Gre(e){var{children:t}=e,n=Wre(e,zre);return y.createElement(qre.Provider,{value:n},t)}function AL(e,t){var n,r,i=ne(u=>ji(u,e)),o=ne(u=>Mi(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:vt.allowDataOverflow,s=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:yt.allowDataOverflow,l=a||s;return{needClip:l,needClipX:a,needClipY:s}}function Yre(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=cE(),{needClipX:o,needClipY:a,needClip:s}=AL(t,n);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return y.createElement("clipPath",{id:"clipPath-".concat(r)},y.createElement("rect",{x:o?l:l-c/2,y:a?u:u-d/2,width:o?c:c*2,height:a?d:d*2}))}var OL=(e,t,n,r)=>IM(e,"xAxis",t,r),CL=(e,t,n,r)=>TM(e,"xAxis",t,r),kL=(e,t,n,r)=>IM(e,"yAxis",n,r),RL=(e,t,n,r)=>TM(e,"yAxis",n,r),Qre=U([Ge,OL,kL,CL,RL],(e,t,n,r,i)=>ki(e,"xAxis")?Rh(t,r,!1):Rh(n,i,!1)),Xre=(e,t,n,r,i)=>i;function Jre(e){return e.type==="line"}var Zre=U([Y2,Xre],(e,t)=>e.filter(Jre).find(n=>n.id===t)),eie=U([Ge,OL,kL,CL,RL,Zre,Qre,Nb],(e,t,n,r,i,o,a,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=s;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:d,data:h}=o,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(u,c+1),p!=null)return Kie({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:p})}});function tie(e){var t=Hp(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,a=Number(i),s=Number(o);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(s)||s<0)&&(s=r),{r:a,strokeWidth:s}}return{r:n,strokeWidth:r}}var nie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=y;function rie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iie=typeof Object.is=="function"?Object.is:rie,oie=Yc.useSyncExternalStore,aie=Yc.useRef,sie=Yc.useEffect,lie=Yc.useMemo,uie=Yc.useDebugValue;nie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=aie(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=lie(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&a.hasValue){var m=a.value;if(i(m,p))return d=m}return d=p}if(m=d,iie(c,p))return m;var _=r(p);return i!==void 0&&i(m,_)?(c=p,m):(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var s=oie(e,o[0],o[1]);return sie(function(){a.hasValue=!0,a.value=s},[s]),uie(s),s};function cie(e){e()}function fie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var gA={notify(){},get:()=>[]};function die(e,t){let n,r=gA,i=0,o=!1;function a(_){c();const v=r.subscribe(_);let w=!1;return()=>{w||(w=!0,v(),d())}}function s(){r.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return o}function c(){i++,n||(n=e.subscribe(l),r=fie())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=gA)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,d())}const m={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return m}var hie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pie=hie(),mie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",gie=mie(),vie=()=>pie||gie?y.useLayoutEffect:y.useEffect,yie=vie();function vA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function _ie(e,t){if(vA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!vA(e[n[i]],t[n[i]]))return!1;return!0}var dv=Symbol.for("react-redux-context"),hv=typeof globalThis<"u"?globalThis:{};function wie(){if(!y.createContext)return{};const e=hv[dv]??(hv[dv]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var bie=wie();function Eie(e){const{children:t,context:n,serverState:r,store:i}=e,o=y.useMemo(()=>{const l=die(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=y.useMemo(()=>i.getState(),[i]);yie(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||bie;return y.createElement(s.Provider,{value:o},t)}var xie=Eie,Sie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Pie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function dE(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Sie.has(r)){if(e[r]==null&&t[r]==null)continue;if(!_ie(e[r],t[r]))return!1}else if(!Pie(e[r],t[r]))return!1;return!0}var Tie=["id"],Iie=["type","layout","connectNulls","needClip","shape"],Aie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc.apply(null,arguments)}function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){Oie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oie(e,t,n){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hE(e,t){if(e==null)return{};var n,r,i=Rie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Nie=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:dj(n,t),payload:e}]},Die=y.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:a,hide:s,unit:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:n,getPosition:al,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:dj(a,t),hide:s,type:u,color:r,unit:l,graphicalItemId:c}};return y.createElement(_ne,{tooltipEntrySettings:d})}),NL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function jie(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Mie=(e,t,n)=>{var r=n.reduce((p,m)=>p+m);if(!r)return NL(t,e);for(var i=Math.floor(e/r),o=e%r,a=t-e,s=[],l=0,u=0;l<n.length;u+=(c=n[l])!==null&&c!==void 0?c:0,++l){var c,d=n[l];if(d!=null&&u+d>o){s=[...n.slice(0,l),o-u];break}}var h=s.length%2===0?[0,a]:[a];return[...jie(n,i),...s,...h].map(p=>"".concat(p,"px")).join(", ")};function Lie(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:a}=r,{id:s}=r,l=hE(r,Tie),u=wi(l);return y.createElement($ne,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:u,needClip:a,clipPathId:t})}function Vie(e){var{showLabels:t,children:n,points:r}=e,i=y.useMemo(()=>r==null?void 0:r.map(o=>{var a,s,l={x:(a=o.x)!==null&&a!==void 0?a:0,y:(s=o.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Tr(Tr({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return y.createElement(Yte,{value:t?i:void 0},n)}function _A(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:a,layout:s,connectNulls:l,needClip:u,shape:c}=o,d=hE(o,Iie),h=Tr(Tr({},ln(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:a,layout:s,connectNulls:l,strokeDasharray:i??o.strokeDasharray});return y.createElement(y.Fragment,null,(r==null?void 0:r.length)>1&&y.createElement(yne,pc({shapeType:"curve",option:c},h,{pathRef:n})),y.createElement(Lie,{points:r,clipPathId:t,props:o}))}function Uie(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Fie(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:a,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,animateNewValues:h,width:p,height:m,onAnimationEnd:_,onAnimationStart:v}=n,w=i.current,E=ub(a,"recharts-line-"),S=y.useRef(E),[I,O]=y.useState(!1),R=!I,T=y.useCallback(()=>{typeof _=="function"&&_(),O(!1)},[_]),P=y.useCallback(()=>{typeof v=="function"&&v(),O(!0)},[v]),A=Uie(r.current),k=y.useRef(0);S.current!==E&&(k.current=o.current,S.current=E);var D=k.current;return y.createElement(Vie,{points:a,showLabels:R},n.children,y.createElement(lb,{animationId:E,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:T,onAnimationStart:P,key:E},N=>{var j=mn(D,A+D,N),Y=Math.min(j,A),oe;if(l)if(s){var de="".concat(s).split(/[,\s]+/gim).map(M=>parseFloat(M));oe=Mie(Y,A,de)}else oe=NL(A,Y);else oe=s==null?void 0:String(s);if(N>0&&A>0&&(i.current=a,o.current=Math.max(o.current,Y)),w){var ie=w.length/a.length,L=N===1?a:a.map((M,$)=>{var q=Math.floor($*ie);if(w[q]){var ee=w[q];return Tr(Tr({},M),{},{x:mn(ee.x,M.x,N),y:mn(ee.y,M.y,N)})}return h?Tr(Tr({},M),{},{x:mn(p*2,M.x,N),y:mn(m/2,M.y,N)}):Tr(Tr({},M),{},{x:M.x,y:M.y})});return i.current=L,y.createElement(_A,{props:n,points:L,clipPathId:t,pathRef:r,strokeDasharray:oe})}return y.createElement(_A,{props:n,points:a,clipPathId:t,pathRef:r,strokeDasharray:oe})}),y.createElement(Jte,{label:n.label}))}function $ie(e){var{clipPathId:t,props:n}=e,r=y.useRef(null),i=y.useRef(0),o=y.useRef(null);return y.createElement(Fie,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var Bie=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Mt(e.payload,t)}};class zie extends y.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:a,top:s,left:l,width:u,height:c,id:d,needClip:h,zIndex:p}=this.props;if(t)return null;var m=Ae("recharts-line",i),_=d,{r:v,strokeWidth:w}=tie(n),E=wL(n),S=v*2+w,I=h?"url(#clipPath-".concat(E?"":"dots-").concat(_,")"):void 0;return y.createElement(Mo,{zIndex:p},y.createElement(To,{className:m},h&&y.createElement("defs",null,y.createElement(Yre,{clipPathId:_,xAxisId:o,yAxisId:a}),!E&&y.createElement("clipPath",{id:"clipPath-dots-".concat(_)},y.createElement("rect",{x:l-S/2,y:s-S/2,width:u+S,height:c+S}))),y.createElement(Gre,{xAxisId:o,yAxisId:a,data:r,dataPointFormatter:Bie,errorBarOffset:0},y.createElement($ie,{props:this.props,clipPathId:_}))),y.createElement(sre,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:I}))}}var DL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yn.line,type:"linear"};function Wie(e){var t=dn(e,DL),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,connectNulls:s,dot:l,hide:u,isAnimationActive:c,label:d,legendType:h,xAxisId:p,yAxisId:m,id:_}=t,v=hE(t,Aie),{needClip:w}=AL(p,m),E=cE(),S=sl(),I=Fn(),O=ne(k=>eie(k,p,m,I,_));if(S!=="horizontal"&&S!=="vertical"||O==null||E==null)return null;var{height:R,width:T,x:P,y:A}=E;return y.createElement(zie,pc({},v,{id:_,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:a,isAnimationActive:c,hide:u,label:d,legendType:h,xAxisId:p,yAxisId:m,points:O,layout:S,height:R,width:T,left:P,top:A,needClip:w}))}function Kie(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:a,bandSize:s,displayedData:l}=e;return l.map((u,c)=>{var d=Mt(u,a);if(t==="horizontal"){var h=AT({axis:n,ticks:i,bandSize:s,entry:u,index:c}),p=Ut(d)?null:r.scale.map(d);return{x:h,y:p??null,value:d,payload:u}}var m=Ut(d)?null:n.scale.map(d),_=AT({axis:r,ticks:o,bandSize:s,entry:u,index:c});return m==null||_==null?null:{x:m,y:_,value:d,payload:u}}).filter(Boolean)}function Hie(e){var t=dn(e,DL),n=Fn();return y.createElement(Pne,{id:t.id,type:"line"},r=>y.createElement(y.Fragment,null,y.createElement(wne,{legendPayload:Nie(t)}),y.createElement(Die,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),y.createElement(Rne,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),y.createElement(Wie,pc({},t,{id:r}))))}var Id=y.memo(Hie,dE);Id.displayName="Line";var qie=["domain","range"],Gie=["domain","range"];function wA(e,t){if(e==null)return{};var n,r,i=Yie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function jL(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=wA(e,qie),{domain:o,range:a}=t,s=wA(t,Gie);return!bA(n,o)||!bA(r,a)?!1:dE(i,s)}var Qie=["type"],Xie=["dangerouslySetInnerHTML","ticks","scale"],Jie=["id","scale"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){Zie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zie(e,t,n){return(t=eoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eoe(e){var t=toe(e,"string");return typeof t=="symbol"?t:t+""}function toe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C0(e,t){if(e==null)return{};var n,r,i=noe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function noe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function roe(e){var t=lt(),n=y.useRef(null),r=xj(),{type:i}=e,o=C0(e,Qie),a=Cm(r,"xAxis",i),s=y.useMemo(()=>{if(a!=null)return xA(xA({},o),{},{type:a})},[o,a]);return y.useLayoutEffect(()=>{s!=null&&(n.current===null?t(Hne(s)):n.current!==s&&t(qne({prev:n.current,next:s})),n.current=s)},[s,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Gne(n.current)),n.current=null)},[t]),null}var ioe=e=>{var{xAxisId:t,className:n}=e,r=ne(pj),i=Fn(),o="xAxis",a=ne(w=>PM(w,o,t,i)),s=ne(w=>wJ(w,t)),l=ne(w=>TJ(w,t)),u=ne(w=>K2(w,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,p=C0(e,Xie),{id:m,scale:_}=u,v=C0(u,Jie);return y.createElement(fE,O0({},p,v,{x:l.x,y:l.y,width:s.width,height:s.height,className:Ae("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a,axisType:o}))},ooe={allowDataOverflow:vt.allowDataOverflow,allowDecimals:vt.allowDecimals,allowDuplicatedCategory:vt.allowDuplicatedCategory,angle:vt.angle,axisLine:da.axisLine,height:vt.height,hide:!1,includeHidden:vt.includeHidden,interval:vt.interval,label:!1,minTickGap:vt.minTickGap,mirror:vt.mirror,orientation:vt.orientation,padding:vt.padding,reversed:vt.reversed,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,tickLine:da.tickLine,tickSize:da.tickSize,type:vt.type,xAxisId:0},aoe=e=>{var t=dn(e,ooe);return y.createElement(y.Fragment,null,y.createElement(roe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(ioe,t))},k0=y.memo(aoe,jL);k0.displayName="XAxis";var soe=["type"],loe=["dangerouslySetInnerHTML","ticks","scale"],uoe=["id","scale"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(null,arguments)}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){coe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function coe(e,t,n){return(t=foe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function foe(e){var t=doe(e,"string");return typeof t=="symbol"?t:t+""}function doe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0(e,t){if(e==null)return{};var n,r,i=hoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function poe(e){var t=lt(),n=y.useRef(null),r=xj(),{type:i}=e,o=N0(e,soe),a=Cm(r,"yAxis",i),s=y.useMemo(()=>{if(a!=null)return PA(PA({},o),{},{type:a})},[a,o]);return y.useLayoutEffect(()=>{s!=null&&(n.current===null?t(Yne(s)):n.current!==s&&t(Qne({prev:n.current,next:s})),n.current=s)},[s,t]),y.useLayoutEffect(()=>()=>{n.current&&(t(Xne(n.current)),n.current=null)},[t]),null}function moe(e){var{yAxisId:t,className:n,width:r,label:i}=e,o=y.useRef(null),a=y.useRef(null),s=ne(pj),l=Fn(),u=lt(),c="yAxis",d=ne(R=>OJ(R,t)),h=ne(R=>AJ(R,t)),p=ne(R=>PM(R,c,t,l)),m=ne(R=>H2(R,t));if(y.useLayoutEffect(()=>{if(!(r!=="auto"||!d||uE(i)||y.isValidElement(i)||m==null)){var R=o.current;if(R){var T=R.getCalculatedWidth();Math.round(d.width)!==Math.round(T)&&u(Jne({id:t,width:T}))}}},[p,d,u,i,t,r,m]),d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:_,ticks:v,scale:w}=e,E=N0(e,loe),{id:S,scale:I}=m,O=N0(m,uoe);return y.createElement(fE,R0({},E,O,{ref:o,labelRef:a,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:Ae("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:p,axisType:c}))}var goe={allowDataOverflow:yt.allowDataOverflow,allowDecimals:yt.allowDecimals,allowDuplicatedCategory:yt.allowDuplicatedCategory,angle:yt.angle,axisLine:da.axisLine,hide:!1,includeHidden:yt.includeHidden,interval:yt.interval,label:!1,minTickGap:yt.minTickGap,mirror:yt.mirror,orientation:yt.orientation,padding:yt.padding,reversed:yt.reversed,scale:yt.scale,tick:yt.tick,tickCount:yt.tickCount,tickLine:da.tickLine,tickSize:da.tickSize,type:yt.type,width:yt.width,yAxisId:0},voe=e=>{var t=dn(e,goe);return y.createElement(y.Fragment,null,y.createElement(poe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(moe,t))},D0=y.memo(voe,jL);D0.displayName="YAxis";var yoe=(e,t)=>t,pE=U([yoe,Ge,B2,Pt,zM,Li,WZ,Ft],XZ),mE=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},ML=Zn("mouseClick"),LL=jc();LL.startListening({actionCreator:ML,effect:(e,t)=>{var n=e.payload,r=pE(t.getState(),mE(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(BJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var j0=Zn("mouseMove"),VL=jc(),Zf=null;VL.startListening({actionCreator:j0,effect:(e,t)=>{var n=e.payload;Zf!==null&&cancelAnimationFrame(Zf);var r=mE(n);Zf=requestAnimationFrame(()=>{var i=t.getState(),o=Jb(i,i.tooltip.settings.shared);if(o==="axis"){var a=pE(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(DM({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(NM())}Zf=null})}});function _oe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var TA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},UL=xn({name:"rootProps",initialState:TA,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:TA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),woe=UL.reducer,{updateOptions:boe}=UL.actions,Eoe=null,xoe={updatePolarOptions:(e,t)=>t.payload},FL=xn({name:"polarOptions",initialState:Eoe,reducers:xoe}),{updatePolarOptions:Lae}=FL.actions,Soe=FL.reducer,$L=Zn("keyDown"),BL=Zn("focus"),gE=jc();gE.startListening({actionCreator:$L,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var a=Zb(i,gl(n),Kc(n),qc(n)),s=a==null?-1:Number(a);if(!(!Number.isFinite(s)||s<0)){var l=Li(n);if(o==="Enter"){var u=tp(n,"axis","hover",String(i.index));t.dispatch(S0({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=NJ(n),d=c==="left-to-right"?1:-1,h=o==="ArrowRight"?1:-1,p=s+h*d;if(!(l==null||p>=l.length||p<0)){var m=tp(n,"axis","hover",String(p));t.dispatch(S0({active:!0,activeIndex:p.toString(),activeCoordinate:m}))}}}}}});gE.startListening({actionCreator:BL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",a=tp(n,"axis","hover",String(o));t.dispatch(S0({active:!0,activeIndex:o,activeCoordinate:a}))}}}});var zn=Zn("externalEvent"),zL=jc(),pv=new Map;zL.startListening({actionCreator:zn,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=pv.get(i);o!==void 0&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:AZ(s),activeDataKey:TZ(s),activeIndex:fc(s),activeLabel:HM(s),activeTooltipIndex:fc(s),isTooltipActive:OZ(s)};n(l,r)}finally{pv.delete(i)}});pv.set(i,a)}}});var Poe=U([pl],e=>e.tooltipItemPayloads),Toe=U([Poe,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(o=>o.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),WL=Zn("touchMove"),KL=jc();KL.startListening({actionCreator:WL,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=Jb(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var a=pE(r,mE({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(DM({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(yq),d=(s=u.getAttribute(_q))!==null&&s!==void 0?s:void 0,h=ml(r).find(_=>_.id===d);if(c==null||h==null||d==null)return;var{dataKey:p}=h,m=Toe(r,c,d);t.dispatch($J({activeDataKey:p,activeIndex:c,activeCoordinate:m,activeGraphicalItemId:d}))}}}});var Ioe=LD({brush:ure,cartesianAxis:Zne,chartData:Aee,errorBars:Bre,graphicalItems:Cne,layout:rq,legend:u7,options:xee,polarAxis:ene,polarOptions:Soe,referenceElements:hre,rootProps:woe,tooltip:zJ,zIndex:fee}),Aoe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return AH({reducer:Ioe,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([LL.middleware,VL.middleware,gE.middleware,zL.middleware,KL.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(JD({type:"raf"}))},devTools:{serialize:{replacer:_oe},name:"recharts-".concat(n)}})};function Ooe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Fn(),o=y.useRef(null);if(i)return n;o.current==null&&(o.current=Aoe(t,r));var a=Yw;return y.createElement(xie,{context:a,store:o.current},n)}function Coe(e){var{layout:t,margin:n}=e,r=lt(),i=Fn();return y.useEffect(()=>{i||(r(eq(t)),r(ZH(n)))},[r,i,t,n]),null}var koe=y.memo(Coe,dE);function Roe(e){var t=lt();return y.useEffect(()=>{t(boe(e))},[t,e]),null}function IA(e){var{zIndex:t,isPanorama:n}=e,r=y.useRef(null),i=lt();return y.useLayoutEffect(()=>(r.current&&i(uee({zIndex:t,element:r.current,isPanorama:n})),()=>{i(cee({zIndex:t,isPanorama:n}))}),[i,t,n]),y.createElement("g",{tabIndex:-1,ref:r})}function AA(e){var{children:t,isPanorama:n}=e,r=ne(ZZ);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),o=r.filter(a=>a>0);return y.createElement(y.Fragment,null,i.map(a=>y.createElement(IA,{key:a,zIndex:a,isPanorama:n})),t,o.map(a=>y.createElement(IA,{key:a,zIndex:a,isPanorama:n})))}var Noe=["children"];function Doe(e,t){if(e==null)return{};var n,r,i=joe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function joe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ap.apply(null,arguments)}var Moe={width:"100%",height:"100%",display:"block"},Loe=y.forwardRef((e,t)=>{var n=bj(),r=Ej(),i=Rj();if(!Ao(n)||!Ao(r))return null;var{children:o,otherAttributes:a,title:s,desc:l}=e,u,c;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?c=a.role:c=i?"application":void 0),y.createElement(Dw,ap({},a,{title:s,desc:l,role:c,tabIndex:u,width:n,height:r,style:Moe,ref:t}),o)}),Voe=e=>{var{children:t}=e,n=ne(gm);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return y.createElement(Dw,{width:r,height:i,x:a,y:o},t)},OA=y.forwardRef((e,t)=>{var{children:n}=e,r=Doe(e,Noe),i=Fn();return i?y.createElement(Voe,null,y.createElement(AA,{isPanorama:!0},n)):y.createElement(Loe,ap({ref:t},r),y.createElement(AA,{isPanorama:!1},n))});function Uoe(){var e=lt(),[t,n]=y.useState(null),r=ne(vq);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;Ie(o)&&o!==r&&e(nq(o))}},[t,e,r]),n}function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Foe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){$oe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $oe(e,t,n){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Boe(e){var t=zoe(e,"string");return typeof t=="symbol"?t:t+""}function zoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(null,arguments)}var Woe=()=>(Lee(),null);function sp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Koe=y.forwardRef((e,t)=>{var n,r,i=y.useRef(null),[o,a]=y.useState({containerWidth:sp((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:sp((r=e.style)===null||r===void 0?void 0:r.height)}),s=y.useCallback((u,c)=>{a(d=>{var h=Math.round(u),p=Math.round(c);return d.containerWidth===h&&d.containerHeight===p?d:{containerWidth:h,containerHeight:p}})},[]),l=y.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var h=m=>{var _=m[0];if(_!=null){var{width:v,height:w}=_.contentRect;s(v,w)}},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,s]);return y.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),y.createElement(y.Fragment,null,y.createElement(Lc,{width:o.containerWidth,height:o.containerHeight}),y.createElement("div",_o({ref:l},e)))}),Hoe=y.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=y.useState({containerWidth:sp(n),containerHeight:sp(r)}),a=y.useCallback((l,u)=>{o(c=>{var d=Math.round(l),h=Math.round(u);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),s=y.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();a(u,c)}},[t,a]);return y.createElement(y.Fragment,null,y.createElement(Lc,{width:i.containerWidth,height:i.containerHeight}),y.createElement("div",_o({ref:s},e)))}),qoe=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return y.createElement(y.Fragment,null,y.createElement(Lc,{width:n,height:r}),y.createElement("div",_o({ref:t},e)))}),Goe=y.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?y.createElement(Hoe,_o({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?y.createElement(qoe,_o({},e,{width:n,height:r,ref:t})):y.createElement(y.Fragment,null,y.createElement(Lc,{width:n,height:r}),y.createElement("div",_o({ref:t},e)))});function Yoe(e){return e?Koe:Goe}var Qoe=y.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:_,style:v,width:w,responsive:E,dispatchTouchEvents:S=!0}=e,I=y.useRef(null),O=lt(),[R,T]=y.useState(null),[P,A]=y.useState(null),k=Uoe(),D=ib(),N=(D==null?void 0:D.width)>0?D.width:w,j=(D==null?void 0:D.height)>0?D.height:i,Y=y.useCallback(z=>{k(z),typeof t=="function"&&t(z),T(z),A(z),z!=null&&(I.current=z)},[k,t,T,A]),oe=y.useCallback(z=>{O(ML(z)),O(zn({handler:o,reactEvent:z}))},[O,o]),de=y.useCallback(z=>{O(j0(z)),O(zn({handler:u,reactEvent:z}))},[O,u]),ie=y.useCallback(z=>{O(NM()),O(zn({handler:c,reactEvent:z}))},[O,c]),L=y.useCallback(z=>{O(j0(z)),O(zn({handler:d,reactEvent:z}))},[O,d]),M=y.useCallback(()=>{O(BL())},[O]),$=y.useCallback(z=>{O($L(z.key))},[O]),q=y.useCallback(z=>{O(zn({handler:a,reactEvent:z}))},[O,a]),ee=y.useCallback(z=>{O(zn({handler:s,reactEvent:z}))},[O,s]),ae=y.useCallback(z=>{O(zn({handler:l,reactEvent:z}))},[O,l]),xe=y.useCallback(z=>{O(zn({handler:h,reactEvent:z}))},[O,h]),rt=y.useCallback(z=>{O(zn({handler:_,reactEvent:z}))},[O,_]),en=y.useCallback(z=>{S&&O(WL(z)),O(zn({handler:m,reactEvent:z}))},[O,S,m]),Ve=y.useCallback(z=>{O(zn({handler:p,reactEvent:z}))},[O,p]),vl=Yoe(E);return y.createElement(ZM.Provider,{value:R},y.createElement(jN.Provider,{value:P},y.createElement(vl,{width:N??(v==null?void 0:v.width),height:j??(v==null?void 0:v.height),className:Ae("recharts-wrapper",r),style:Foe({position:"relative",cursor:"default",width:N,height:j},v),onClick:oe,onContextMenu:q,onDoubleClick:ee,onFocus:M,onKeyDown:$,onMouseDown:ae,onMouseEnter:de,onMouseLeave:ie,onMouseMove:L,onMouseUp:xe,onTouchEnd:Ve,onTouchMove:en,onTouchStart:rt,ref:Y},y.createElement(Woe,null),n)))}),Xoe=["width","height","responsive","children","className","style","compact","title","desc"];function Joe(e,t){if(e==null)return{};var n,r,i=Zoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eae=y.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:s,compact:l,title:u,desc:c}=e,d=Joe(e,Xoe),h=wi(d);return l?y.createElement(y.Fragment,null,y.createElement(Lc,{width:n,height:r}),y.createElement(OA,{otherAttributes:h,title:u,desc:c},o)):y.createElement(Qoe,{className:a,style:s,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(OA,{otherAttributes:h,title:u,desc:c,ref:t},y.createElement(mre,null,o)))});function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}var tae={top:5,right:5,bottom:5,left:5},nae={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:tae,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},rae=y.forwardRef(function(t,n){var r,i=dn(t.categoricalChartProps,nae),{chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:o,defaultTooltipEventType:a,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return y.createElement(Ooe,{preloadedState:{options:c},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:o},y.createElement(lre,{chartData:u.data}),y.createElement(koe,{layout:i.layout,margin:i.margin}),y.createElement(Roe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),y.createElement(eae,M0({},i,{ref:n})))}),iae=["axis"],kA=y.forwardRef((e,t)=>y.createElement(rae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iae,tooltipPayloadSearcher:bee,categoricalChartProps:e,ref:t}));function oae(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function aae(){const[e,t]=y.useState([]),[n,r]=y.useState(""),[i,o]=y.useState([]);y.useEffect(()=>{const s=Rn(kn(ze,"sites"),Nn("__name__"));return Dn(s,l=>{const u=l.docs.map(c=>({id:c.id,data:c.data()}));t(u),!n&&u.length&&r(u[0].id)})},[]),y.useEffect(()=>{if(!n)return;const s=new Date,l=new Date;l.setDate(s.getDate()-13);const u=oae(l),c=Rn(kn(ze,"stats_daily"),HP("siteId","==",n),HP("day",">=",u),Nn("day","asc"));return Dn(c,d=>{o(d.docs.map(h=>h.data()))})},[n]);const a=y.useMemo(()=>{const s=new Map,l=new Set;for(const c of i){const d=c.day,h=c.variantId||"na";l.add(h),s.has(d)||s.set(d,{day:d});const p=s.get(d),m=`${h}__${c.event}`;p[m]=(p[m]||0)+Number(c.count||0)}const u=Array.from(s.values()).sort((c,d)=>c.day.localeCompare(d.day));for(const c of u)for(const d of Array.from(l)){const h=Number(c[`${d}__impression`]||0),p=Number(c[`${d}__click_link`]||0);c[`${d}__ctr`]=h>0?Math.round(p/h*1e3)/10:0}return{out:u,variants:Array.from(l).sort()}},[i]);return x.jsxs("div",{className:"container",children:[x.jsxs("div",{className:"card",children:[x.jsx("h1",{className:"h1",children:"Dashboard"}),x.jsx("div",{className:"small",children:"14 / stats_dailyvariant"}),x.jsx("div",{style:{height:12}}),x.jsxs("div",{className:"row",style:{gap:10,alignItems:"center"},children:[x.jsx("div",{className:"h2",style:{margin:0},children:"site"}),x.jsx("select",{className:"input",value:n,onChange:s=>r(s.target.value),children:e.map(s=>x.jsx("option",{value:s.id,children:s.id},s.id))})]})]}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"card",children:[x.jsx("div",{className:"h2",children:"Impression / Click_link"}),x.jsx("div",{style:{height:320},children:x.jsx(MT,{width:"100%",height:"100%",children:x.jsxs(kA,{data:a.out,children:[x.jsx(k0,{dataKey:"day"}),x.jsx(D0,{}),x.jsx(VI,{}),x.jsx(l0,{}),a.variants.map(s=>x.jsxs($0.Fragment,{children:[x.jsx(Id,{type:"monotone",dataKey:`${s}__impression`,name:`${s} impression`,dot:!1}),x.jsx(Id,{type:"monotone",dataKey:`${s}__click_link`,name:`${s} click_link`,dot:!1})]},s))]})})})]}),x.jsx("div",{style:{height:14}}),x.jsxs("div",{className:"card",children:[x.jsx("div",{className:"h2",children:"CTRclick_link / impression%"}),x.jsx("div",{style:{height:320},children:x.jsx(MT,{width:"100%",height:"100%",children:x.jsxs(kA,{data:a.out,children:[x.jsx(k0,{dataKey:"day"}),x.jsx(D0,{}),x.jsx(VI,{}),x.jsx(l0,{}),a.variants.map(s=>x.jsx(Id,{type:"monotone",dataKey:`${s}__ctr`,name:`${s} CTR%`,dot:!1},s))]})})})]})]})}function sae(){return x.jsx("div",{className:"container",children:x.jsxs("div",{className:"card",style:{maxWidth:520,margin:"60px auto"},children:[x.jsx("h1",{className:"h1",children:"cx-platform admin"}),x.jsx("p",{className:"small",children:"Google Firestore rules "}),x.jsx("div",{style:{height:12}}),x.jsx("button",{className:"btn btn--primary",onClick:()=>jz(My,YW),children:"Google"})]})})}function lae(){const[e,t]=y.useState(!1),[n,r]=y.useState(null);y.useEffect(()=>pz(My,o=>{r(o?{email:o.email}:null),t(!0)}),[]);const i=y.useMemo(()=>!!n,[n]);return e?i?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"nav",children:[x.jsxs("div",{className:"row",children:[x.jsx(Wa,{to:"/dashboard",children:"Dashboard"}),x.jsx(Wa,{to:"/workspaces",children:"Workspaces"}),x.jsx(Wa,{to:"/sites",children:"Sites"}),x.jsx(Wa,{to:"/actions",children:"Actions"}),x.jsx(Wa,{to:"/templates",children:"Templates"}),x.jsx(Wa,{to:"/scenarios",children:"Scenarios"})]}),x.jsxs("div",{className:"row",children:[x.jsx("span",{className:"badge",children:n==null?void 0:n.email}),x.jsx("button",{className:"btn",onClick:()=>mz(My),children:"Logout"})]})]}),x.jsxs(M$,{children:[x.jsx(Qr,{path:"/",element:x.jsx(CS,{to:"/workspaces",replace:!0})}),x.jsx(Qr,{path:"/dashboard",element:x.jsx(aae,{})}),x.jsx(Qr,{path:"/workspaces",element:x.jsx(QW,{})}),x.jsx(Qr,{path:"/sites",element:x.jsx(XW,{})}),x.jsx(Qr,{path:"/actions",element:x.jsx(JW,{})}),x.jsx(Qr,{path:"/templates",element:x.jsx(r8,{})}),x.jsx(Qr,{path:"/scenarios",element:x.jsx(e8,{})}),x.jsx(Qr,{path:"*",element:x.jsx(CS,{to:"/workspaces",replace:!0})})]})]}):x.jsx(sae,{}):null}mv.createRoot(document.getElementById("root")).render(x.jsx($0.StrictMode,{children:x.jsx(W$,{children:x.jsx(lae,{})})}));
